{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "blocks/data/index.html",
    "blocks/data/index.js",
    "blocks/dropdown/index.html",
    "blocks/dropdown/index.js",
    "blocks/image/index.html",
    "blocks/image/index.js",
    "blocks/input/index.html",
    "blocks/input/index.js",
    "blocks/phone/index.html",
    "blocks/phone/index.js",
    "blocks/sms/index.html",
    "blocks/sms/index.js",
    "blocks/spinner/index.html",
    "blocks/spinner/index.js",
    "blocks/submit/index.html",
    "blocks/submit/index.js",
    "blocks/text/index.html",
    "blocks/text/index.js",
    "components/alert/index.html",
    "components/alert/index.js",
    "components/appCell/index.html",
    "components/appCell/index.js",
    "components/block-editors/color/index.html",
    "components/block-editors/color/index.js",
    "components/block-editors/data/index.html",
    "components/block-editors/data/index.js",
    "components/block-editors/dropdownChoice/index.html",
    "components/block-editors/dropdownChoice/index.js",
    "components/block-editors/font-size/index.html",
    "components/block-editors/font-size/index.js",
    "components/block-editors/list/index.html",
    "components/block-editors/list/index.js",
    "components/block-editors/number/index.html",
    "components/block-editors/number/index.js",
    "components/block-editors/string/index.html",
    "components/block-editors/string/index.js",
    "components/colorPicker/index.html",
    "components/colorPicker/index.js",
    "components/contactPicker/index.html",
    "components/contactPicker/index.js",
    "components/dataRepresentation/index.html",
    "components/dataRepresentation/index.js",
    "components/loadingIndicator/index.html",
    "components/loadingIndicator/index.js",
    "components/makeBar/index.html",
    "components/makeBar/index.js",
    "components/navigationBar/index.html",
    "components/navigationBar/index.js",
    "components/switch/index.html",
    "components/switch/index.js",
    "components/tabBar/index.html",
    "components/tabBar/index.js",
    "components/toggle/index.html",
    "components/toggle/index.js",
    "config/index.js",
    "lib/auth.js",
    "lib/block.js",
    "lib/blocks.js",
    "lib/data.js",
    "lib/i18n.js",
    "lib/index.js",
    "lib/model.js",
    "lib/publish.js",
    "lib/restore-path.js",
    "lib/router.js",
    "lib/storage.js",
    "lib/templates.json",
    "lib/utils.js",
    "lib/uuid.js",
    "lib/view.js",
    "locale/index.js",
    "node_modules/browserify/node_modules/buffer/index.js",
    "node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js",
    "node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js",
    "node_modules/browserify/node_modules/buffer/node_modules/is-array/index.js",
    "node_modules/browserify/node_modules/events/events.js",
    "node_modules/browserify/node_modules/inherits/inherits_browser.js",
    "node_modules/browserify/node_modules/process/browser.js",
    "node_modules/browserify/node_modules/punycode/punycode.js",
    "node_modules/browserify/node_modules/querystring-es3/decode.js",
    "node_modules/browserify/node_modules/querystring-es3/encode.js",
    "node_modules/browserify/node_modules/querystring-es3/index.js",
    "node_modules/browserify/node_modules/url/url.js",
    "node_modules/browserify/node_modules/util/support/isBufferBrowser.js",
    "node_modules/browserify/node_modules/util/util.js",
    "node_modules/clone/clone.js",
    "node_modules/fastclick/lib/fastclick.js",
    "node_modules/firebase/lib/firebase-web.js",
    "node_modules/localforage/node_modules/promise/core.js",
    "node_modules/localforage/node_modules/promise/index.js",
    "node_modules/localforage/node_modules/promise/node_modules/asap/asap.js",
    "node_modules/localforage/src/drivers/indexeddb.js",
    "node_modules/localforage/src/drivers/localstorage.js",
    "node_modules/localforage/src/drivers/websql.js",
    "node_modules/localforage/src/localforage.js",
    "node_modules/lodash.throttle/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.debounce/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.debounce/node_modules/lodash.now/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.debounce/node_modules/lodash.now/node_modules/lodash._isnative/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.isfunction/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.isobject/index.js",
    "node_modules/lodash.throttle/node_modules/lodash.isobject/node_modules/lodash._objecttypes/index.js",
    "node_modules/page/index.js",
    "node_modules/page/node_modules/path-to-regexp/index.js",
    "node_modules/page/node_modules/path-to-regexp/node_modules/isarray/index.js",
    "node_modules/sortable/Sortable.js",
    "node_modules/vue/src/batcher.js",
    "node_modules/vue/src/binding.js",
    "node_modules/vue/src/compiler.js",
    "node_modules/vue/src/config.js",
    "node_modules/vue/src/deps-parser.js",
    "node_modules/vue/src/directive.js",
    "node_modules/vue/src/directives/html.js",
    "node_modules/vue/src/directives/if.js",
    "node_modules/vue/src/directives/index.js",
    "node_modules/vue/src/directives/model.js",
    "node_modules/vue/src/directives/on.js",
    "node_modules/vue/src/directives/partial.js",
    "node_modules/vue/src/directives/repeat.js",
    "node_modules/vue/src/directives/style.js",
    "node_modules/vue/src/directives/view.js",
    "node_modules/vue/src/directives/with.js",
    "node_modules/vue/src/emitter.js",
    "node_modules/vue/src/exp-parser.js",
    "node_modules/vue/src/filters.js",
    "node_modules/vue/src/fragment.js",
    "node_modules/vue/src/main.js",
    "node_modules/vue/src/observer.js",
    "node_modules/vue/src/template-parser.js",
    "node_modules/vue/src/text-parser.js",
    "node_modules/vue/src/transition.js",
    "node_modules/vue/src/utils.js",
    "node_modules/vue/src/viewmodel.js",
    "node_modules/watchjs/src/watch.js",
    "node_modules/webmaker-login-ux/locale/en_US/webmaker-login.json",
    "node_modules/webmaker-login-ux/node_modules/angular-expressions/lib/main.js",
    "node_modules/webmaker-login-ux/node_modules/angular-expressions/lib/parse.js",
    "node_modules/webmaker-login-ux/node_modules/browser-request/index.js",
    "node_modules/webmaker-login-ux/node_modules/cookie-js/cookie.js",
    "node_modules/webmaker-login-ux/node_modules/nunjucks/browser/nunjucks.js",
    "node_modules/webmaker-login-ux/node_modules/webmaker-analytics/analytics.js",
    "node_modules/webmaker-login-ux/src/adapters/plain.js",
    "node_modules/webmaker-login-ux/src/core/index.js",
    "node_modules/webmaker-login-ux/src/core/loginAPI/index.js",
    "node_modules/webmaker-login-ux/src/core/loginAPI/loginUrls.js",
    "node_modules/webmaker-login-ux/src/core/loginAPI/referrals.js",
    "node_modules/webmaker-login-ux/src/core/state/emitter.js",
    "node_modules/webmaker-login-ux/src/core/state/index.js",
    "node_modules/webmaker-login-ux/src/core/state/join.js",
    "node_modules/webmaker-login-ux/src/core/state/logout.js",
    "node_modules/webmaker-login-ux/src/core/state/persona.js",
    "node_modules/webmaker-login-ux/src/core/state/reset.js",
    "node_modules/webmaker-login-ux/src/core/state/signin.js",
    "node_modules/webmaker-login-ux/src/core/validation/index.js",
    "node_modules/xhr/index.js",
    "node_modules/xhr/node_modules/global/window.js",
    "node_modules/xhr/node_modules/once/once.js",
    "node_modules/xhr/node_modules/parse-headers/node_modules/for-each/index.js",
    "node_modules/xhr/node_modules/parse-headers/node_modules/for-each/node_modules/is-function/index.js",
    "node_modules/xhr/node_modules/parse-headers/node_modules/trim/index.js",
    "node_modules/xhr/node_modules/parse-headers/parse-headers.js",
    "views/add/index.html",
    "views/add/index.js",
    "views/block/index.html",
    "views/block/index.js",
    "views/detail/index.html",
    "views/detail/index.js",
    "views/discover/index.html",
    "views/discover/index.js",
    "views/error/index.html",
    "views/error/index.js",
    "views/healthcheck/index.html",
    "views/healthcheck/index.js",
    "views/make/index.html",
    "views/make/index.js",
    "views/make/navigation.html",
    "views/make/settings.html",
    "views/profile/index.html",
    "views/profile/index.js",
    "views/share/index.html",
    "views/share/index.js",
    "views/sign-in/index.html",
    "views/sign-in/index.js",
    "views/templates/index.html",
    "views/templates/index.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;;ACAA;AACA;AACA;AACA;AACA;;ACJA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;;ACAA;AACA;AACA;AACA;AACA;AACA;;ACLA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;;ACAA;AACA;AACA;AACA;AACA;;ACJA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACznCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3hCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrFA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnsBA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5kBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5KA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9tBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5gCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACv+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1dA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACp3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1lBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9MA;;ACAA;;ACAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpIA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxCA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "module.exports = '<label for=\"block_{{$index}}\">{{attributes.label.value}}</label>\\n\\n<div v-component=\"dataRepresentation\" v-with=\"dataSet: currentDataSets, initialDataLoaded: initialDataLoaded, isInteractive: isInteractive, sortOldest: sortOldest, label: label.label\"></div>\\n';",
    "var Data = require('../../lib/data');\n\nmodule.exports = {\n    className: 'data',\n    template: require('./index.html'),\n    data: {\n        name: 'Data',\n        icon: 'images/blocks_text.png',\n        attributes: {\n            label: {\n                label: 'Header Text',\n                type: 'string',\n                value: '',\n                placeholder: 'Responses',\n                skipAutoRender: true\n            },\n            color: {\n                label: 'Header and Title Text Color',\n                type: 'color',\n                value: '#36494A',\n                skipAutoRender: true\n            }\n        },\n        currentDataSets: [],\n        initialDataLoaded: false,\n        isInteractive: false,\n        sortOldest: false\n    },\n\n    ready: function () {\n        var self = this;\n\n        if (\n            !self.$data ||\n            !self.$data.currentDataSets ||\n            self.$data.currentDataSets.length === 0\n        ) {\n            self.$data.initialDataLoaded = false;\n        }\n\n        // Fetch collected Data\n        self.currentDataSets = [];\n        if (!self.isEditing) {\n            var data = new Data(self.$parent.$parent.$data.app.id);\n\n            data.getAllDataSets(function (currentDataSets) {\n                self.$data.initialDataLoaded = true;\n                self.currentDataSets = currentDataSets;\n            });\n        } else {\n            self.$data.initialDataLoaded = true;\n        }\n    }\n};\n",
    "module.exports = '<label for=\"block_{{$index}}\">{{attributes.label.value}}</label>\\n\\n<select id=\"block_{{$index}}\" v-on=\"change: reportDataChange(this)\">\\n\t<option selected disabled>Select from list</option>\\n\t<option v-repeat=\"attributes.elements.items\" v-model=\"$value\" value=\"{{$value}}\"></option>\\n</select>\\n';",
    "module.exports = {\n    className: 'dropdown',\n    template: require('./index.html'),\n    data: {\n        name: 'Dropdown',\n        icon: 'images/blocks_text.png',\n        attributes: {\n            label: {\n                label: 'Title',\n                type: 'string',\n                value: '',\n                placeholder: 'Your title goes here',\n                skipAutoRender: true\n            },\n            color: {\n                label: 'Title Text Color',\n                type: 'color',\n                value: '#638093'\n            },\n            elements: {\n                label: 'Options',\n                type: 'list',\n                skipAutoRender: true,\n                items: ['', '']\n            }\n        }\n    },\n    methods: {\n        reportDataChange: function (self) {\n            self.$dispatch('dataChange',\n                this.$index,\n                self.$el.querySelector('select').value\n            );\n        }\n    },\n    ready: function () {\n        var self = this;\n\n        // register block on data object\n        self.$dispatch('dataChange',\n            self.$index,\n            '',\n            self.$data.attributes.label.value\n        );\n    }\n};\n",
    "module.exports = '<img src=\"\" width=\"100%\" alt=\"\" />';",
    "module.exports = {\n    className: 'image',\n    template: require('./index.html'),\n    data: {\n        name: 'Image',\n        icon: 'images/blocks_image.png',\n        attributes: {\n            src: {\n                label: 'Source',\n                type: 'string',\n                value: 'images/placeholder.png'\n            }\n        }\n    }\n};\n",
    "module.exports = '<label for=\"block_{{$index}}\">{{attributes.label.value}}</label>\\n<input v-if=\"attributes.inputType.value == 0\" id=\"block_{{$index}}\" v-on=\"change: reportDataChange(this)\" type=\"text\">\\n<textarea v-if=\"attributes.inputType.value == 1\" id=\"block_{{$index}}\" v-on=\"change: reportDataChange(this)\"></textarea>\\n';",
    "module.exports = {\n    className: 'input-block',\n    template: require('./index.html'),\n    lazy: false,\n    data: {\n        name: 'Text Box',\n        icon: 'images/blocks_input.png',\n        attributes: {\n            inputType: {\n                label: 'Text Box Type',\n                type: 'dropdownChoice',\n                options: ['Single Line Text', 'Long Text'],\n                value: 0,\n                skipAutoRender: true\n            },\n            label: {\n                label: 'Title',\n                type: 'string',\n                value: '',\n                placeholder: 'Your title goes here',\n                skipAutoRender: true\n            },\n            color: {\n                label: 'Title Text Color',\n                type: 'color',\n                value: '#638093'\n            }\n        }\n    },\n    methods: {\n        reportDataChange: function (self) {\n            self.$dispatch('dataChange',\n                this.$index,\n                self.$el.value\n            );\n        }\n    },\n    ready: function () {\n        var self = this;\n        self.$dispatch('dataChange',\n            self.$index,\n            '',\n            self.$data.attributes.label.value\n        );\n    }\n};\n",
    "module.exports = '<button v-on=\"click: onClick\">{{ attributes.label.value }}</button>\\n';",
    "module.exports = {\n    className: 'phone',\n    template: require('./index.html'),\n    data: {\n        name: 'Phone',\n        icon: 'images/blocks_phone.png',\n        attributes: {\n            number: {\n                label: 'Phone #',\n                type: 'string',\n                value: '+18005555555'\n            },\n            innerHTML: {\n                label: 'Label',\n                type: 'string',\n                value: 'Place call'\n            }\n        }\n    },\n    created: function () {\n        var self = this;\n\n        // Disable if editing mode\n        self.$data.onClick = function (e) {\n            e.preventDefault();\n            window.location = 'tel:' + self.$data.attributes.number.value;\n        };\n    }\n};\n",
    "module.exports = '<button></button>\\n';",
    "module.exports = {\n    className: 'sms',\n    template: require('./index.html'),\n    data: {\n        name: 'SMS',\n        icon: 'images/blocks_sms.png',\n        attributes: {\n            value: {\n                label: 'Phone #',\n                type: 'string',\n                value: '+18005555555'\n            },\n            messageBody: {\n                label: 'Message',\n                type: 'string',\n                value: ''\n            },\n            innerHTML: {\n                label: 'Label',\n                type: 'string',\n                value: 'Send SMS'\n            }\n        }\n    },\n    ready: function () {\n        var self = this;\n        self.$el.addEventListener('click', function (e) {\n            e.preventDefault();\n\n            var number = self.$data.attributes.value.value;\n            var body = self.$data.attributes.messageBody.value;\n            window.location = 'sms:' + number + '?body=' + body;\n        });\n    }\n};\n",
    "module.exports = '<label for=\"block_{{$index}}\">{{attributes.label.value}}</label>\\n<button type=\"button\" v-on=\"click: stepDown, click: reportDataChange(this)\">-</button>\\n<input id=\"block_{{$index}}\" v-on=\"change: reportDataChange(this)\" type=\"number\" value=\"{{attributes.current.value || attributes.min.value}}\" min=\"{{attributes.min.value}}\" max=\"{{attributes.max.value}}\" step=\"{{attributes.step.value}}\">\\n<button type=\"button\" v-on=\"click: stepUp, click: reportDataChange(this)\">+</button>\\n';",
    "module.exports = {\n    className: 'spinner',\n    template: require('./index.html'),\n    data: {\n        name: 'Counter',\n        icon: 'images/blocks_counter.png',\n        attributes: {\n            label: {\n                label: 'Title',\n                type: 'string',\n                value: '',\n                placeholder: 'Your title goes here',\n                skipAutoRender: true\n            },\n            color: {\n                label: 'Title Text Color',\n                type: 'color',\n                value: '#638093'\n            },\n            min: {\n                label: 'Minimum Number',\n                type: 'number',\n                value: '0',\n                skipAutoRender: true\n            },\n            current: {\n                label: 'Initial Number',\n                type: 'number',\n                value: '',\n                placeholder: 'same as minimum number',\n                skipAutoRender: true\n            },\n            max: {\n                label: 'Maximum Number',\n                type: 'number',\n                value: '100',\n                skipAutoRender: true\n            },\n            step: {\n                label: 'Increment by',\n                type: 'number',\n                value: '1',\n                skipAutoRender: true\n            }\n        }\n    },\n    ready: function () {\n        var self = this;\n        if (\n            self.attributes.current.value === 'undefined' ||\n            self.attributes.current.value === ''\n        ) {\n            self.attributes.current.value = self.attributes.min.value;\n        }\n\n        self.$dispatch('dataChange',\n            self.$index,\n            self.$el.querySelector('input[type=\"number\"]').value,\n            self.$data.attributes.label.value\n        );\n    },\n    methods: {\n        stepUp: function () {\n            this.$el.querySelector('input[type=\"number\"]').stepUp();\n        },\n        stepDown: function () {\n            this.$el.querySelector('input[type=\"number\"]').stepDown();\n        },\n        reportDataChange: function (self) {\n            self.$dispatch('dataChange',\n                this.$index,\n                self.$el.querySelector('input[type=\"number\"]').value\n            );\n        }\n    }\n};\n",
    "module.exports = '<button\\n\tstyle=\"background-color: {{attributes.color.value}}\"\\n\tdata-test=\"{{attributes.innerHTML.value}}\"\\n\tv-on=\"click: save\"\\n>\\n\t{{attributes.innerHTML.value}}\\n</button>\\n';",
    "module.exports = {\n    className: 'submit',\n    template: require('./index.html'),\n    data: {\n        name: 'Submit',\n        icon: 'images/blocks_submit.png',\n        attributes: {\n            innerHTML: {\n                label: 'Button Text',\n                type: 'string',\n                value: 'Submit',\n                skipAutoRender: true\n            },\n            color: {\n                label: 'Button Color',\n                type: 'color',\n                value: '#32B2D2',\n                skipAutoRender: true\n            }\n        }\n    },\n    methods: {\n        save: function (e) {\n            var self = this;\n            self.$dispatch('dataSave');\n        }\n    },\n    created: function () {\n        var self = this;\n\n        self.$on('dataSaveSuccess', function () {\n            self.$el.querySelector('button').disabled = 'disabled';\n            self.$el.querySelector('button').style.pointerEvents = 'none';\n            self.$el.querySelector('button').innerHTML = 'Data submitted!';\n        });\n    }\n};\n",
    "module.exports = '<p></p>';",
    "module.exports = {\n    className: 'text',\n    template: require('./index.html'),\n    data: {\n        name: 'Text',\n        icon: 'images/blocks_text.png',\n        attributes: {\n            innerHTML: {\n                label: 'Text',\n                type: 'string',\n                value: 'I am some text'\n            },\n            color: {\n                label: 'Color',\n                type: 'color',\n                value: '#333444'\n            },\n            'font-size': {\n                label: 'Font Size',\n                type: 'font-size',\n                value: '14'\n            }\n        }\n    },\n    // If we have multi-line text content, split it over several\n    // paragraphs, preserving the user-intended line breaks.\n    attached: function () {\n        var data = this.$data.attributes.innerHTML.value;\n        if (!!data) {\n            data = data.trim();\n            if (data.indexOf('\\n') > -1) {\n                var chunks = data.split('\\n');\n                this.$el.innerHTML = '';\n                chunks.forEach(function (chunk) {\n                    var p = document.createElement('p');\n                    if (!!chunk) {\n                        p.textContent = chunk;\n                    } else {\n                        p.innerHTML = '&nbsp;';\n                    }\n                    this.$el.appendChild(p);\n                }.bind(this));\n            }\n        }\n    }\n};\n",
    "module.exports = '<div class=\"{{classes}}\">\\n    <div class=\"alert-icon\">\\n        <span class=\"fa {{icon}}\"></span>\\n    </div>\\n    <div v-bind-html=\"message || \\'errorDefault\\'\"></div>\\n</div>\\n';",
    "module.exports = {\n    className: 'alert-container',\n    template: require('./index.html'),\n    paramAttributes: ['type', 'message', 'no-margin'],\n    computed: {\n        icon: function () {\n            var check = 'fa-check-circle';\n            var circle = 'fa-times-circle';\n            return this.type === 'success' ? check : circle;\n        },\n        classes: function () {\n            var classes = 'alert alert-' + (this.$data.type || 'error');\n            if (this.$data['no-margin'] || this.$data['no-margin'] === 0) {\n                classes += ' no-margin';\n            }\n            return classes;\n        }\n    }\n};\n",
    "module.exports = '<a class=\"cell\"\\n    v-on=\"click: onClick\"\\n    data-id=\"{{id}}\"\\n    href=\"/{{ template ? \\'template\\' : \\'make\\' }}/{{id}}{{mode ? \\'/\\' + mode : \\'\\'}}\">\\n    <div class=\"left\">\\n        <span class=\"title\">{{name}}</span>\\n        <span v-if=\"author\" class=\"description\" v-bind-html=\"\\'by _\\'\" v-with=\"{name: author.username|| guestKey}\"></span>\\n    </div>\\n    <div class=\"right\">\\n        <div class=\"app-icon\" style=\"background:{{iconColor}};\">\\n          <div class=\"app-icon-image\" style=\"background-image:url({{iconImage}});\"></div>\\n        </div>\\n    </div>\\n</a>\\n';",
    "var i18n = require('../../lib/i18n');\n\nmodule.exports = {\n    className: 'app-cell',\n    data: {\n        onClick: function () {\n            this.$root.$data.enteredEditorFrom = '/profile';\n        }\n    },\n    template: require('./index.html'),\n    paramAttributes: ['mode', 'template'],\n    computed: {\n        guestKey: function () {\n            return i18n.get('Guest');\n        }\n    }\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n<a class=\"input color-input\" href=\"#\" v-on=\"click: openColorPicker(value)\">\\n    <span class=\"input-swatch\" style=\"background-color:{{value}};\"></span> {{ value }}\\n</a>\\n\\n<div v-component=\"colorPicker\" v-class=\"active: showColorPicker\" v-with=\"show: showColorPicker, selectedColor: value\"></div>\\n\\n';",
    "module.exports = {\n    id: 'color-picker-editor',\n    template: require('./index.html'),\n    components: {\n        colorPicker: require('../../colorPicker')\n    },\n    data: {\n        showColorPicker: false\n    },\n    methods: {\n        onColorPickerDone: function () {\n            this.$data.showColorPicker = false;\n        },\n        openColorPicker: function (color) {\n            this.$broadcast('openCP', color);\n        }\n    }\n};\n",
    "module.exports = '<div v-component=\"switch\" v-with=\"value : sortOldest, options : options\"></div>\\n<div v-component=\"dataRepresentation\" v-with=\"dataSet: currentDataSets, initialDataLoaded: initialDataLoaded, isInteractive: isInteractive, sortOldest: sortOldest\"></div>\\n';",
    "var Data = require('../../../lib/data');\n\nmodule.exports = {\n    id: 'data-editor',\n    template: require('./index.html'),\n    data: {\n        options: ['Newest', 'Oldest'],\n        currentDataSets: {},\n        initialDataLoaded: false,\n        isInteractive: true\n    },\n    ready: function () {\n        var self = this;\n\n        if (\n            !self.$data ||\n            !self.$data.currentDataSets ||\n            self.$data.currentDataSets.length === 0\n        ) {\n            self.$data.initialDataLoaded = false;\n        }\n\n        // Fetch collected Data\n        var data = new Data('foooobar');\n        self.currentDataSets = data.getAllDataSets(function (currentDataSets) {\n            self.$data.initialDataLoaded = true;\n            self.$data.currentDataSets = currentDataSets;\n        });\n    }\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n<select class=\"dropdownChoiceSelect\" v-model=\"value\">\\n\t<option v-repeat=\"options\" value=\"{{$index}}\" class=\"option-{{$index}}\" v-attr=\"selected : $index == value\">{{$value}}</option>\\n</select>\\n';",
    "module.exports = {\n    id: 'dropdownChoice-editor',\n    template: require('./index.html'),\n    data: {\n        options: [''],\n        value: 0\n    }\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n<div class=\"input-group\">\\n    <input name=\"{{id}}\" type=\"number\" v-model=\"value\">\\n    <span class=\"input-group-addon\">px</span>\\n</div>\\n';",
    "module.exports = {\n    id: 'font-size-editor',\n    template: require('./index.html')\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n\\n<ul>\\n\t<li v-repeat=\"items\" class=\"item-{{$index}}\">\\n\t\t<input type=\"text\" placeholder=\"{{\\'Option\\' | i18n}} {{$index+1}}\" v-model=\"$value\" v-on=\"change: items.$set($index, $value)\">\\n\t\t<span class=\"tip tip-remove fa fa-times\" v-on=\"click: items.$remove($index)\"></span>\\n\t</li>\\n</ul>\\n\\n<button type=\"button\" class=\"btn btn-block btn-add\" v-on=\"click: items.$set(items.length, \\'\\')\">{{ \\'Add Option\\' | i18n }}</button>\\n';",
    "module.exports = {\n    id: 'list-editor',\n    template: require('./index.html'),\n    data: {\n        items: ['']\n    }\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n<input name=\"{{id}}\" v-model=\"value\" type=\"number\" placeholder=\"{{ placeholder | i18n }}\">\\n';",
    "module.exports = {\n    id: 'number-editor',\n    template: require('./index.html'),\n    data: {\n        value: 0\n    }\n};\n",
    "module.exports = '<label for=\"{{id}}\">{{ label | i18n }}</label>\\n<textarea name=\"{{id}}\" type=\"text\" v-model=\"value\" placeholder=\"{{ placeholder | i18n }}\"></textarea>\\n<div v-show=\"!value\" class=\"form-error\">{{ \\'errorNoText\\' | i18n }}</div>\\n';",
    "module.exports = {\n    id: 'string-editor',\n    template: require('./index.html'),\n    data: {}\n};\n",
    "module.exports = '<nav class=\"navigationBar\">\\n    <button class=\"nav-btn\" v-on=\"click: onCancel\">{{ \\'Cancel\\' | i18n}}</button>\\n    <h1>{{\\'Select Color\\' | i18n}}</h1>\\n    <button v-class=\"disabled: saveDisabled\" class=\"save-btn\" v-on=\"click: onSave\">\\n        <span class=\"fa fa-check\"></span> {{ \\'Save\\' | i18n}}\\n    </button>\\n</nav>\\n\\n<div class=\"color-picker-inner\">\\n    <ul class=\"swatches primary\">\\n        <li v-repeat=\"color: colorGroups\"\\n            style=\"background-color:{{color}};\"\\n            v-class=\"selected: selectedColor === color\"\\n            v-on=\"click: selectColor(color)\"></li>\\n    </ul>\\n\\n    <ul class=\"swatches\" v-repeat=\"colorSet: colors\" v-show=\"$index === selectedGroup\">\\n        <li v-repeat=\"color: colorSet\" style=\"background-color:{{color}};\"\\n            v-class=\"selected: selectedColor === color\"\\n            v-on=\"click: selectColor(color)\"></li>\\n    </ul>\\n</div>\\n';",
    "var utils = require('../../lib/utils');\n\nvar colorGroups = utils.baseColors;\n\nmodule.exports = {\n    className: 'color-picker',\n    template: require('./index.html'),\n    ready: function () {\n        this.$on('openCP', function (event) {\n            this.show = true;\n            this.originalColor = event;\n        });\n    },\n    computed: {\n        selectedGroup: function () {\n            var groups = this.$data.colorGroups;\n            var selected = this.$data.selectedColor;\n            var index;\n            this.$data.colors.forEach(function (group, groupIndex) {\n                if (selected === groups[groupIndex]) {\n                    index = groupIndex;\n                    return;\n                }\n                group.forEach(function (color) {\n                    if (selected === color) index = groupIndex;\n                });\n            });\n            return index || 0;\n        }\n    },\n    methods: {\n        selectColor: function (color) {\n            this.selectedColor = color;\n        },\n        onSave: function (e) {\n            e.preventDefault();\n            this.show = false;\n        },\n        onCancel: function (e) {\n            e.preventDefault();\n            this.selectedColor = this.originalColor;\n            this.show = false;\n        }\n    },\n    data: {\n        colorGroups: colorGroups,\n        colors: colorGroups.map(function (base) {\n            var tints = [];\n            for (var i = -5; i < 11; i++) {\n                var colorString = utils.shadeColor(base, i * 6);\n                colorString = colorString.toUpperCase();\n                if (base !== colorString) tints.push(colorString);\n            }\n            return tints;\n        })\n    }\n};\n",
    "module.exports = '<nav class=\"navigationBar\">\\n    <button class=\"nav-btn\" v-on=\"click: onCancel\">{{ \\'Cancel\\' | i18n}}</button>\\n    <h1>Choose Contacts</h1>\\n    <button v-class=\"disabled: saveDisabled\" class=\"nav-btn\" v-on=\"click: onSave\">{{ \\'Done\\' | i18n}}</button>\\n</nav>\\n\\n<div class=\"inner\">\\n    <div class=\"contact-list\">\\n        <div v-repeat=\"modeledContacts\">\\n            <div class=\"letter-header\">{{ $key }}</div>\\n\\n            <div v-repeat=\"person : $value\" class=\"contact\">\\n                <label class=\"circle-toggle\" v-class=\"on: person.selected\">\\n                    <span class=\"fa fa-check\"></span>\\n                    <input type=\"checkbox\" v-model=\"person.selected\">\\n                </label>\\n                <span>{{ person.displayName }}</span>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n';",
    "var clone = require('clone');\n\nmodule.exports = {\n    className: 'contact-picker',\n    template: require('./index.html'),\n    ready: function () {\n        var self = this;\n\n        navigator.contacts.find(['*'], function (contacts) {\n            self.$data.contacts = contacts;\n            self.modelData();\n        }, function (err) {\n            console.log(err);\n        });\n\n        self.$on('openContactPicker', function (event) {\n            self.open();\n        });\n\n    },\n    methods: {\n        open: function () {\n            // Store a copy of intial contact data in case user doesn't save\n            this.initialState = clone(this.modeledContacts);\n            this.show = true;\n        },\n        close: function () {\n            this.show = false;\n        },\n        onSave: function (e) {\n            // TODO: Do something with selected contacts\n            this.close();\n        },\n        onCancel: function (e) {\n            this.modeledContacts = this.initialState;\n            this.close();\n        },\n        modelData: function () {\n            var modeled = {};\n\n            // Sort contacts into alphabetical order\n            this.contacts = this.contacts\n            .filter(function (contact) {\n                return !!contact.displayName;\n            })\n            .sort(function (a, b) {\n                return a.displayName > b.displayName;\n            });\n\n\n            // Create an object with alpha-keys to group by first name\n            this.contacts.forEach(function (contact, i) {\n                var firstLetter = contact.displayName[0].toUpperCase();\n\n                if (!modeled[firstLetter]) {\n                    modeled[firstLetter] = [];\n                }\n\n                contact.$add('selected', false);\n\n                modeled[firstLetter].push(contact);\n            });\n\n            this.modeledContacts = modeled;\n        }\n    }\n};\n",
    "module.exports = '<div v-if=\"isInteractive\" v-component=\"switch\" v-with=\"value: sortOldest, options: sortOptions\"></div>\\n<div v-if=\"isInteractive\" class=\"dataRepresentationSelectAll\">\\n    <input style=\"display: none;\" id=\"dataRepresentationDataSetMarkSelected-All\" type=\"checkbox\" name=\"markAllSelected\" v-model=\"allSelected\">\\n    <label for=\"dataRepresentationDataSetMarkSelected-All\">Select all</label>\\n    <label for=\"dataRepresentationDataSetMarkSelected-All\" class=\"tip tip-checkmark fa fa-check\"></label>\\n</div>\\n<table v-repeat=\"data: dataSet | orderBy sortKey !sortOldest\" class=\"dataRepresentationDataSet\" v-class=\"unread: !data.isRead && isInteractive, interactive: isInteractive\">\\n    <thead v-if=\"isInteractive\">\\n        <tr>\\n            <th>Submitted {{formatUnixTime(data.submitted)}}</th>\\n            <th>\\n                <input style=\"display: none;\" id=\"dataRepresentationDataSetMarkSelected-{{$index}}\" type=\"checkbox\" name=\"markSelected\" v-model=\"data.isSelected\">\\n                <label for=\"dataRepresentationDataSetMarkSelected-{{$index}}\" class=\"tip tip-checkmark fa fa-check\"></label>\\n            </th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        <tr>\\n            <td>Time</td>\\n            <td>{{formatUnixTime(data.submitted)}}</td>\\n        </tr>\\n        <tr v-repeat=\"dataBlock: data.dataBlocks\">\\n            <td>{{dataBlock.label}}</td>\\n            <td>{{dataBlock.value}}</td>\\n        </tr>\\n    </tbody>\\n</table>\\n\\n<div class=\"noDataInfo\" v-if=\"!dataSet.length\">{{ \\'No Data available\\' | i18n }}</div>\\n\\n<button v-if=\"isInteractive && countSelected >= 1\" type=\"button\" class=\"dataRepresentationActionButton btn\" v-class=\"btn-share: countSelected === 0, btn-remove: countSelected >= 1, \" v-on=\"click: actionButton()\"></button>\\n';",
    "var dataRepresentation = module.exports = {\n    id: 'dataRepresentation',\n    template: require('./index.html'),\n    data: {\n        isInteractive: true,\n        sortOldest: false,\n        sortKey: 'submitted',\n        sortOptions: ['Newest', 'Oldest']\n    },\n    methods: Object.create(null)\n};\n\ndataRepresentation.methods.formatUnixTime = function (unix) {\n    var date = new Date(unix);\n    var options = {\n        year: 'numeric',\n        month: 'numeric',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    };\n    return date.toLocaleTimeString('en-US', options);\n};\n\ndataRepresentation.methods.actionButton = function (e) {\n    var self = this;\n\n    // Delete\n    if (this.countSelected > 0) {\n        for (var i = 0; i < self.$data.dataSet.length; i++) {\n            if (self.$data.dataSet[i].isSelected) {\n                self.$dispatch('dataDelete', self.$data.dataSet[i].firebaseId);\n            }\n        }\n    }\n};\n\ndataRepresentation.computed = {\n    countSelected: function () {\n        if (!this.$data) return false;\n        var dataSet = this.$data.dataSet;\n        var count = 0;\n        for (var i = 0; i < dataSet.length; i++) {\n            if (dataSet[i] && dataSet[i].isSelected) count++;\n        }\n        return count;\n    },\n    allSelected: {\n        $get: function () {\n            if (!this.$data) return false;\n\n            var exists = this.$data.dataSet.length !== 0;\n            var inRange = this.countSelected === this.$data.dataSet.length;\n\n            return exists && inRange;\n        },\n        $set: function (toValue) {\n            var dataSet = this.$data.dataSet;\n            for (var i = 0; i < dataSet.length; i++) {\n                if (dataSet[i]) dataSet[i].isSelected = toValue;\n            }\n        }\n    }\n};\n",
    "module.exports = '<div class=\"loadingIndicator\"><div></div><div></div></div>\\n';",
    "module.exports = {\n    id: 'loadingIndicator',\n    template: require('./index.html')\n};\n",
    "module.exports = '<div class=\"slide-options\">\\n    <div class=\"wrapper\">\\n        <div class=\"slide-active {{uiMode}}\"></div>\\n        <div class=\"slide-text\">\\n            <a v-class=\"active: uiMode === \\'play\\'\" v-on=\"click: setMode(\\'play\\')\">\\n                {{ \\'Preview\\' | i18n }}\\n            </a>\\n            <a v-class=\"active: uiMode === \\'edit\\'\" v-on=\"click: setMode(\\'edit\\')\">\\n                {{ \\'Edit\\' | i18n }}\\n            </a>\\n            <a v-class=\"active: uiMode === \\'data\\'\" v-on=\"click: setMode(\\'data\\')\">\\n                {{ \\'Data\\' | i18n }}\\n            </a> \\n        </div>\\n    </div>\\n</div>\\n\\n';",
    "// Takes two properties:\n// - uiMode (string: 'preview', 'edit', or 'data')\n// - onChange (function)\nmodule.exports = {\n    id: 'makeBar',\n    template: require('./index.html'),\n    methods: {\n        setMode: function (mode) {\n            var self = this;\n            self.$data.uiMode = mode;\n            if (self.$data.onChange) self.$data.onChange.call(self, mode);\n        }\n    }\n};\n",
    "module.exports = '<button v-if=\"back === true\" class=\"back nav-btn\" v-on=\"click: goBack\">&lt;</button>\\n<a v-if=\"typeof back === \\'string\\'\" class=\"back nav-btn\" href=\"{{back}}\">&lt;</a>\\n\\n<button v-if=\"cancel === true\" v-on=\"click: goBack\" class=\"nav-btn\">{{\\'Cancel\\' | i18n}}</button>\\n<a v-if=\"typeof cancel === \\'string\\'\" href=\"{{cancel}}\" class=\"nav-btn\">{{\\'Cancel\\' | i18n}}</a>\\n\\n<h1>{{title | i18n}}</h1>\\n\\n<button v-if=\"typeof onDone === \\'function\\'\" v-on=\"click: onDone\" v-class=\"disabled: doneDisabled\" class=\"nav-btn\">{{doneLabel || \\'Done\\' | i18n}}\\n</button>\\n<a v-show=\"!offlineUser\" v-if=\"typeof onDone === \\'string\\'\" href=\"{{onDone}}\" v-class=\"disabled: doneDisabled\" class=\"nav-btn\">{{doneLabel || \\'Done\\' | i18n}}</a>\\n';",
    "(function (global){\nvar page = require('page');\n\nmodule.exports = {\n    id: 'navigationBar',\n    template: require('./index.html'),\n    data: {\n        goBack: function (e) {\n            if (this.$data.app) {\n                var enteredFrom = this.$root.$data.enteredEditorFrom || '';\n                if (enteredFrom) {\n                    page(enteredFrom);\n                    return;\n                }\n            }\n            e.preventDefault();\n            global.history.back();\n        }\n    }\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "module.exports = '<input type=\"checkbox\" v-model=\"value\">\\n<label v-on=\"click: onClick\">\\n  <span class=\"options\">\\n    <span class=\"before\">{{options[0]}}</span>\\n    <span class=\"after\">{{options[1]}}</span>\\n  </span>\\n  <span class=\"indicator\"></span>\\n</label>\\n';",
    "module.exports = {\n    id: 'switch',\n    template: require('./index.html'),\n    ready: function () {\n        this.$watch('value', function (newVal) {\n            var chosenOption = 0 + newVal; // convert Boolean to Number\n            chosenOption = this.options[chosenOption];\n            this.$dispatch('switchValueChanged', chosenOption);\n        });\n    },\n    data: {\n        value: false,\n        options: ['Off', 'On']\n    },\n    methods: {\n        onClick: function (event) {\n            this.value = !this.value;\n        }\n    }\n};\n",
    "module.exports = '<ul>\\n    <li v-class=\"active:currentView === \\'discover\\'\">\\n        <a href=\"/discover\">\\n            <svg width=\"25px\" height=\"25px\" role=\"img\" aria-label=\"Discover\" viewBox=\"0 0 512 512\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <g sketch:type=\"MSArtboardGroup\" fill=\"#2A4D50\">\\n                    <path d=\"M359.694,117.914 C352.295,111.929 340.899,111.859 333.458,117.76 L213.877,212.47 C211.504,214.339 209.6,216.712 208.221,219.498 L142.799,350.482 C139.985,356.131 140.062,362.634 142.89,368.521 L143.296,369.368 C146.922,376.529 153.985,380.967 161.839,380.967 C164.926,380.967 167.922,380.281 170.715,378.93 C173.172,377.768 174.789,376.382 176.035,375.129 L293.047,284.304 C295.532,282.365 297.583,279.859 298.962,277.066 L365.28,143.569 C369.683,134.714 367.394,124.172 359.694,117.914 L359.694,117.914 Z M239.343,228.99 C242.906,227.282 246.693,226.421 250.606,226.421 C260.588,226.421 269.828,232.231 274.154,241.219 C280.37,254.19 274.889,269.807 261.918,276.037 C258.355,277.745 254.568,278.613 250.655,278.613 C240.666,278.613 231.426,272.796 227.107,263.801 C224.097,257.522 223.705,250.438 226.015,243.865 C228.325,237.292 233.057,232.014 239.343,228.99 L239.343,228.99 Z\" id=\"Fill-1\" sketch:type=\"MSShapeGroup\"></path>\\n                    <path d=\"M254.652,2.316 C114.834,2.316 1.077,116.066 1.077,255.884 C1.077,395.702 114.834,509.452 254.652,509.452 C394.47,509.452 508.22,395.702 508.22,255.884 C508.22,116.066 394.47,2.316 254.652,2.316 L254.652,2.316 Z M253.098,400 L252.909,400 C237.523,400 225,412.516 225,427.902 L225,448.426 C139.649,435.378 72.512,366.659 61.466,281 L85.098,281 C100.484,281 113,268.484 113,252.909 C113,237.523 100.484,225 85.098,225 L62.292,225 C75.571,141.063 140.979,76.068 225,63.321 L225,85.098 C225,100.484 237.516,113 253.091,113 C268.484,113 281,100.484 281,85.098 L281,62.838 C365.441,74.318 433.551,140.853 446.998,225 L427.902,225 C412.516,225 400,237.516 400,253.091 C400,268.484 412.516,281 427.902,281 L447.845,281 C436.631,368.206 368.108,437.17 281,448.923 L281,427.902 C281,412.516 268.484,400 253.098,400 L253.098,400 Z\" id=\"Fill-2\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </a>\\n    </li>\\n    <li v-class=\"active:currentView === \\'templates\\'\">\\n        <a href=\"/templates\">\\n            <svg class=\"bigButton\" viewBox=\"0 0 65 65\" role=\"img\" aria-label=\"Templates\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <g transform=\"translate(-126.83983,4)\">\\n                    <path d=\"M 130.05923,21.2 C 134.42642,8.7457103 146.19188,0 160,0 c 13.80812,0 25.57358,8.7457103 30.05923,21.2\" id=\"Half-Circle\" fill=\"#ffffff\" stroke=\"#e7e7e7\"></path>\\n                    <path d=\"m 133,32 c 0,-14.911688 12.08831,-27 27,-27 14.91169,0 27,12.088312 27,27 0,14.911688 -12.08831,27 -27,27 -14.91169,0 -27,-12.088312 -27,-27 z\" id=\"Oval-61\"></path>\\n                    <path d=\"M 165.1407,33.68481 172.85229,25.680063 167.38003,20 l -8.31982,8.635759 -3.15213,-3.272151 c 0.15091,-0.390507 0.40274,-0.769937 0.75213,-1.132595 1.43141,-1.486076 3.93659,-2.155697 3.96128,-2.162026 0.15183,-0.03956 0.28384,-0.11962 0.38994,-0.227215 0.3689,-0.325949 0.36281,-0.926266 0.0207,-1.281329 -0.16585,-0.172468 -0.38323,-0.260127 -0.6,-0.262342 -3.9064,-0.757278 -6.44664,0.861076 -7.89481,2.364241 -0.94421,0.980063 -1.38811,1.889873 -1.40671,1.928481 -0.0598,0.12405 -0.0906,0.261076 -0.0902,0.399683 l 0,0.892405 -0.35641,0.369937 c -0.33567,-0.348734 -0.87987,-0.348734 -1.21585,0 l -1.21616,1.262342 c -0.33597,0.348734 -0.33597,0.913291 0,1.262025 l 1.82409,1.893355 c 0.33597,0.348734 0.87988,0.348734 1.21585,0 l 1.21616,-1.262342 c 0.33597,-0.348734 0.33597,-0.913291 0,-1.262026 l 0.60793,-0.631012 3.51189,3.645253 -7.48903,7.773418 5.47256,5.680063 6.8808,-7.142405 5.60853,5.821202 c 0.33628,0.349051 0.88018,0.349051 1.21616,3.17e-4 l 2.43232,-2.524684 c 0.33597,-0.348734 0.33597,-0.913291 -3.1e-4,-1.262341 l -5.60823,-5.821203 0,0 z m -6.8811,4.617722 -1.21616,1.262341 -0.91219,-0.946835 -1.21585,1.262025 0.91219,0.946836 -1.21616,1.262342 -3.03994,-3.15538 15.80854,-16.409178 3.03994,3.15538 -1.21616,1.262342 -1.82408,-1.893354 -1.21586,1.262025 1.82409,1.893354 -1.21616,1.262342 -0.91189,-0.946519 -1.21616,1.262342 0.91189,0.946519 -1.21585,1.262025 -1.82409,-1.893354 -1.21616,1.262342 1.82409,1.893354 -1.21586,1.262342 -0.91219,-0.946836 -1.21616,1.262342 0.9122,0.946836 -1.21616,1.262341 -1.82409,-1.893671 -1.21585,1.262342 1.82408,1.893355 0,0 z\" id=\"Imported-Layers-3\" fill=\"#ffffff\"></path>\\n                </g>\\n            </svg>\\n        </a>\\n    </li>\\n    <li v-class=\"active:currentView === \\'profile\\'\">\\n        <a href=\"/profile\">\\n            <svg width=\"25px\" height=\"25px\" viewBox=\"0 0 512 512\" role=\"img\" aria-label=\"Profile\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\\n                <g sketch:type=\"MSArtboardGroup\" fill=\"#2A4D50\">\\n                    <path d=\"M259.851158,216.615385 C320.610842,216.615385 369.900789,170.830769 369.900789,110.828308 C369.900789,50.8455385 320.610842,0 259.851158,0 C199.091474,0 149.821474,50.8455385 149.821474,110.828308 C149.821474,170.830769 199.091474,216.615385 259.851158,216.615385 L259.851158,216.615385 Z M452.602579,368.423385 C452.602579,368.423385 452.602579,368.423385 452.602579,368.384 C452.602579,315.844923 408.219684,270.532923 343.949263,248.989538 L259.891053,332.032 L175.773,248.989538 C111.502579,270.513231 67.1196842,315.825231 67.1196842,368.384 L67.1196842,368.423385 L67,368.423385 C67,421.139692 77.6319474,470.232615 95.7042632,512 L423.978105,512 C442.050421,470.232615 452.682368,421.139692 452.682368,368.423385 L452.602579,368.423385 L452.602579,368.423385 Z\" id=\"Profile-2\" sketch:type=\"MSShapeGroup\"></path>\\n                </g>\\n            </svg>\\n        </a>\\n    </li>\\n</ul>\\n';",
    "module.exports = {\n    id: 'tabBar',\n    template: require('./index.html'),\n    data: {},\n    attached: function () {\n        var el = this.$el;\n        function onFocus(e) {\n            if (!e.target.tagName) return;\n            var tagName = e.target.tagName.toLowerCase();\n            var type = e.target.getAttribute('type');\n            if (['input', 'textarea'].indexOf(tagName) <= -1) {\n                return;\n            }\n            if (type === 'checkbox') {\n                return;\n            }\n            el.style.display = 'none';\n        }\n        function onBlur() {\n            el.style.display = 'block';\n        }\n        document.addEventListener('focus', onFocus, true);\n        document.addEventListener('blur', onBlur, true);\n    }\n};\n",
    "module.exports = '<div class=\"wrapper\" v-class=\"checked: checked, disabled: disabled\">\\n    <label>\\n      <input type=\"checkbox\" v-model=\"checked\">\\n    </label>\\n    <div class=\"track\"></div>\\n</div>\\n';",
    "module.exports = {\n    className: 'toggle',\n    template: require('./index.html'),\n    paramAttributes: ['disabled', 'checked'],\n    ready: function () {\n        // parse non booleans\n        // eg: values passed in as a \"disabled\" param instead of v-with\n        if (typeof this.disabled === 'string') {\n            this.disabled = this.disabled === 'true' ? true : false;\n        }\n    },\n    data: {}\n};\n",
    "module.exports = {\"LOGIN_URL\":\"https://login-dev.mofodev.net\",\"PUBLISH_ENDPOINT\":\"https://webmaker-app-publisher.mofodev.net/publish/webmaker-app\",\"PUBLISH_DEV_MODE\":true,\"OFFLINE\":false,\"FIREBASE_URL_DATA\":\"https://sizzling-inferno-3981.firebaseio.com\",\"FIREBASE_URL\":\"https://webmaker-app-dev.firebaseio.com/mofodev\",\"APPCACHE\":false,\"package\":{\"name\":\"webmaker\",\"version\":\"0.0.13\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/mozilla/webmaker-app\"},\"scripts\":{\"test\":\"gulp test\",\"start\":\"gulp dev\"},\"main\":\"export.js\",\"dependencies\":{\"page\":\"1.5.0\",\"vue\":\"0.10.6\",\"watchjs\":\"0.0.0\",\"clone\":\"0.1.18\",\"xhr\":\"1.16.1\",\"firebase\":\"2.0.4\",\"webmaker-login-ux\":\"1.3.4\",\"font-awesome\":\"4.2.0\",\"localforage\":\"1.1.1\",\"lodash.throttle\":\"2.4.1\",\"event-emitter\":\"0.3.1\",\"fastclick\":\"1.0.3\",\"sortable\":\"git://github.com/k88hudson/Sortable#webmaker-app\",\"esprima\":\"^1.2.2\"},\"devDependencies\":{\"browserify\":\"6.3.2\",\"bulk-require\":\"0.2.1\",\"bulkify\":\"1.0.2\",\"fs-extra\":\"0.11.1\",\"glob\":\"4.0.5\",\"gulp\":\"^3.8.8\",\"gulp-exit\":\"0.0.2\",\"gulp-jscs\":\"1.3.1\",\"gulp-jshint\":\"1.8.4\",\"gulp-less\":\"1.3.6\",\"gulp-minify-css\":\"0.3.11\",\"gulp-mocha\":\"1.0.0\",\"gulp-plumber\":\"0.6.6\",\"gulp-sourcemaps\":\"1.2.4\",\"gulp-util\":\"3.0.1\",\"gulp-webserver\":\"0.8.0\",\"habitat\":\"3.0.0\",\"merge-stream\":\"0.1.6\",\"mockrequire\":\"0.0.3\",\"node-appcache-generator\":\"k88hudson/node-appcache-generator\",\"node-static\":\"0.7.4\",\"partialify\":\"3.1.1\",\"tv4\":\"^1.1.4\",\"gulp-template\":\"1.1.1\",\"webmaker-download-locales\":\"0.2.4\",\"gulp-autoprefixer\":\"^2.0.0\",\"gulp-run\":\"^1.6.4\",\"exorcist\":\"^0.1.6\"}}};",
    "var WebmakerLogin = require('webmaker-login-ux');\nvar config = require('../config');\n\nmodule.exports = function () {\n    var auth = new WebmakerLogin({\n        host: config.LOGIN_URL,\n        showCTA: false,\n        disablePersona: true\n    });\n    return auth;\n};\n",
    "var Vue = require('vue');\n\nmodule.exports = Vue.extend({\n    computed: {\n        isEditing: function () {\n            return this.$root.isEditing;\n        }\n    },\n    created: function () {\n        var self = this;\n\n        var attrs = self.$data.attributes;\n        var target = self.$el.firstChild;\n\n        var handle = document.createElement('span');\n        handle.className = 'draggable-handle';\n        handle.innerHTML = '<span class=\"fa fa-sort\"></span>';\n        self.$el.appendChild(handle);\n\n        for (var id in attrs) {\n            if (attrs.hasOwnProperty(id) && attrs[id].skipAutoRender !== true) {\n                target.setAttribute(id, attrs[id].value);\n\n                switch (id) {\n                case 'innerHTML':\n                    target.innerHTML = attrs[id].value;\n                    break;\n                case 'color':\n                    target.style.color = attrs[id].value;\n                    break;\n                case 'font-size':\n                    target.style.fontSize = attrs[id].value + 'px';\n                }\n            }\n        }\n    }\n});\n",
    "\nvar clone = require('clone');\n\nvar blockModels = ({\"data\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/data/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/data/index.js\");return f;})(),\"dropdown\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/dropdown/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/dropdown/index.js\");return f;})(),\"image\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/image/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/image/index.js\");return f;})(),\"input\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/input/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/input/index.js\");return f;})(),\"phone\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/phone/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/phone/index.js\");return f;})(),\"sms\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/sms/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/sms/index.js\");return f;})(),\"spinner\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/spinner/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/spinner/index.js\");return f;})(),\"submit\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/submit/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/submit/index.js\");return f;})(),\"text\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/text/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/text/index.js\");return f;})()});\nmodule.exports = function Blocks() {\n    var self = this;\n    for (var type in blockModels) {\n        if (blockModels.hasOwnProperty(type)) {\n            self[type] = clone(blockModels[type].index.data);\n            self[type].type = type;\n        }\n    }\n};\n",
    "var Firebase = require('firebase');\nvar config = require('../config');\n\nfunction Data (appId) {\n    var self = this;\n\n    self.appId = appId;\n    self.collectedData = {};\n    self.collectedDataSaved = false;\n\n    var url = config.FIREBASE_URL_DATA + '/' + appId;\n    self.firebaseConnection = new Firebase(url);\n\n    self._logger = function (prefix, msg) {\n        if (typeof msg === 'undefined') {\n            msg = prefix;\n            prefix = 'Data';\n        }\n\n        if (msg) console.log('[' + prefix + '] ' + msg);\n    };\n\n    if (self.firebaseConnection.getAuth() === null) {\n        self.firebaseConnection.authAnonymously(function (error, authData) {\n            if (error) {\n                self._logger('auth with FireBase failed: ', authData);\n            } else {\n                self._logger('auth with FireBase');\n            }\n        });\n    } else {\n        self._logger('skipping auth with FireBase');\n    }\n}\n\nData.prototype.collect = function (index, value, label) {\n    var self = this;\n    self._logger('collected some Data');\n\n    // create object for index if it does not exist already\n    if (typeof self.collectedData[index] === 'undefined') {\n        self.collectedData[index] = {blockIndex: index};\n    }\n\n    // check for collection labels (true if exists)\n    var colLabel = typeof label !== 'undefined';\n    var locLabel = typeof self.collectedData[index].label !== 'undefined';\n\n    if ((!colLabel && !locLabel) || colLabel) {\n        if ((!colLabel && !locLabel) || label === '') {\n            self.collectedData[index].label = 'unnamed';\n        } else if (colLabel) {\n            self.collectedData[index].label = label;\n        }\n\n        // label changed / update internalIndex\n        var newLabel = self.collectedData[index].label;\n        newLabel = newLabel.replace(/ /g, '').toLowerCase();\n        self.collectedData[index].internalIndex = newLabel + '_' + index;\n    }\n\n    // set new value\n    self.collectedData[index].value = value;\n};\n\nData.prototype.save = function () {\n    var self = this;\n\n    if (self.collectedDataSaved === false) {\n        self._logger('save');\n\n        self.collectedDataSaved = true;\n        self.firebaseConnection.push({\n            submitted: Date.now(),\n            dataBlocks: self.collectedData\n        });\n    }\n};\n\nData.prototype.getCurrentCollectedCount = function () {\n    var self = this;\n\n    return Object.keys(self.collectedData).length;\n};\n\nData.prototype.getAllDataSets = function (callback) {\n    var self = this;\n\n    self.firebaseConnection.on('value', function (dataSnapshot) {\n        self._logger('received data sets for current app');\n\n        var dataSets = [];\n        if (dataSnapshot !== null) {\n            dataSnapshot = dataSnapshot.val();\n\n            for (var i in dataSnapshot) {\n                if (dataSnapshot.hasOwnProperty(i)) {\n                    dataSnapshot[i].firebaseId = i;\n                    dataSets.push(dataSnapshot[i]);\n                }\n            }\n        }\n\n        callback(dataSets);\n    });\n};\n\nData.prototype.delete = function (firebaseId) {\n    var self = this;\n\n    self._logger('deleted child ' + firebaseId);\n    self.firebaseConnection.child(firebaseId).remove();\n};\n\nmodule.exports = Data;\n",
    "/**\n * Localization!\n *\n */\nvar model = require('./model')();\n\n// Spoof because navigator.language sucks\nfunction getLocaleFromQueryString() {\n    var regex = new RegExp('[\\\\?&]locale=([^&#]*)');\n    var results = regex.exec(window.location.search);\n\n    if (results === null) {\n        return '';\n    } else {\n        return decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    }\n}\n\nfunction Localize () {\n    var self = this;\n\n    self.defaultLang = 'en-US';\n\n    self.dictionary =  {};\n    self.dictionaries = {};\n    self.url = '';\n\n    self.bind = function (langs, vue) {\n\n        self.dictionaries = langs;\n\n        // Bind directives/filters\n        if (vue) {\n            vue.filter('i18n', self.i18nFilter);\n            vue.directive('bind-html', self.bindHtml);\n        }\n    };\n\n    self.setLocale = function (locale, autodetect) {\n        var html = window.document.querySelector('html');\n\n        // Try to autodetect locale\n        if (autodetect) {\n            var spoof = getLocaleFromQueryString();\n            var navLocale = navigator.language;\n            var defaultLang = self.defaultLang;\n            self.locale = spoof || locale || navLocale || defaultLang;\n            model.locale = self.locale;\n        }\n\n        // Set dictionary\n        var currentLangDict = self.dictionaries[model.locale];\n        var defaultLangDict = self.dictionaries[self.defaultLang];\n        self.dictionary = currentLangDict || defaultLangDict;\n\n        if (html) {\n            html.setAttribute('lang', model.locale);\n        }\n\n    };\n\n    self.get = function (key) {\n        var dict = self.dictionary[key];\n        var defaultLang = self.dictionaries[self.defaultLang][key];\n        return dict || defaultLang || key;\n    };\n\n    self.i18nFilter = function (key) {\n        return self.get(key);\n    };\n\n    self.bindHtml = function (key) {\n        var raw = self.get(key);\n        this.el.innerHTML = raw;\n    };\n}\n\nmodule.exports = new Localize();\n",
    "/**\n * An app that makes apps.\n *\n * @package webmaker\n * @author  Andrew Sliwinski <a@mozillafoundation.org>\n */\n\nvar Vue = require('vue');\n\nvar i18n = require('./i18n');\nvar locale = require('../locale');\nvar router = require('./router');\nvar model = require('./model')();\nvar attachFastClick = require('fastclick');\nvar Store = require('./storage');\nvar restorePath = require('./restore-path');\n\n// Register views\nVue.component('healthcheck', require('../views/healthcheck'));\nVue.component('error', require('../views/error'));\nVue.component('sign-in', require('../views/sign-in'));\n\nVue.component('discover', require('../views/discover'));\nVue.component('templates', require('../views/templates'));\nVue.component('profile', require('../views/profile'));\n\nVue.component('make', require('../views/make'));\nVue.component('add', require('../views/add'));\nVue.component('block', require('../views/block'));\nVue.component('share', require('../views/share'));\nVue.component('detail', require('../views/detail'));\n\nvar componentList = {\n    appCell: require('../components/appCell'),\n    makeBar: require('../components/makeBar'),\n    navigationBar: require('../components/navigationBar'),\n    tabBar: require('../components/tabBar'),\n    alert: require('../components/alert'),\n    dataRepresentation: require('../components/dataRepresentation'),\n    switch: require('../components/switch'),\n    loadingIndicator: require('../components/loadingIndicator'),\n    contactPicker: require('../components/contactPicker'),\n    toggle: require('../components/toggle')\n};\n\n// Register localization\ni18n.bind(locale, Vue);\n\n// Create \"app\"\nvar app = new Vue({\n    el: '#app',\n    components: componentList,\n    data: {\n        currentView: null,\n        params: null,\n        isReady: false,\n        alertOn: false\n    },\n    methods: {\n        showAlert: function (message) {\n            var self = this;\n            self.$data.alertMessage = message;\n            self.$data.alertOn = true;\n            setTimeout(function () {\n                self.$data.alertOn = false;\n            }, 2000);\n        }\n    },\n    created: function () {\n        var self = this;\n        model.restore(function (user) {\n\n            var userId = user && user.id || model.data.session.guestId;\n\n            // i18n\n            i18n.setLocale(model.data.session.locale, true);\n\n            var storage = new Store(self);\n            storage.setQuery(userId);\n\n            self.storage = storage;\n\n            // Todo: auth\n            // if (user.firebaseToken) {\n            //     storage._firebase.authWithCustomToken(\n            //         user.firebaseToken, function (err, authData) {\n            //             if (err) console.log('Fb auth error', err);\n            //             router(app);\n            //         }\n            //     );\n            // } else {\n            //     storage._firebase.unauth();\n            //     router(app);\n            // }\n\n            // Route\n            router(app);\n            restorePath({\n                history: model.data.session && model.data.session.path,\n                offline: model.data.session.offline\n            });\n        });\n    },\n    ready: function () {\n        attachFastClick(document.body);\n    }\n});\n",
    "(function (global){\n/**\n * Data model provider.\n *\n * @package webmaker\n * @author  Andrew Sliwinski <a@mozillafoundation.org>\n */\n\nvar watch = require('watchjs').watch;\nvar config = require('../config');\nvar localForage = require('localforage');\nvar uuid = require('./uuid');\n\n/**\n * Constructor\n */\nfunction Model (options) {\n    var self = this;\n\n    if (!(self instanceof Model)) return new Model();\n\n    // Options\n    // memory: (false) Use memory provider for Makedrive\n    // noConnect: () if true, will not connect to remote server\n    self.options = options || {};\n\n    if (!self.options.noConnect) {\n        self.auth = require('./auth');\n    }\n\n    // Internal\n    self._sessionKey = 'webmaker.app.session';\n    self._ready = false;\n    self._logger = function (prefix, msg) {\n        if (typeof msg === 'undefined') {\n            msg = prefix;\n            prefix = 'Model';\n        }\n\n        if (msg) console.log('[' + prefix + '] ', msg);\n    };\n\n    // Public\n    self.data = {};\n    self.data.session = {\n        ftu: true,\n        path: '/sign-in',\n        locale: null,\n        offline: false,\n        guestId: uuid(),\n        user: {}\n    };\n\n}\n\nModel.prototype.restoreSession = function restoreSession(callback) {\n    var self = this;\n    localForage.getItem(self._sessionKey, function (err, val) {\n        if (err) {\n            callback(err);\n        }\n        try {\n            val = JSON.parse(val);\n            for (var key in self.data.session) {\n                if (typeof val[key] !== 'undefined') {\n                    self.data.session[key] = val[key];\n                    self._logger('restore session: ' + key, val[key]);\n                }\n            }\n            callback(null);\n        } catch (e) {\n            callback(e);\n        }\n    });\n};\n\nModel.prototype.restore = function (callback) {\n    var self = this;\n\n    // Set offline callback\n    self.offlineConnect = function () {\n        self._logger('Starting in offline mode');\n        self.data.session.offline = true;\n        self.data.session.user = {};\n        callback();\n    };\n\n    self.restoreSession(function onRestore(err) {\n        self._logger('session restore', err || 'successful');\n        self.observe();\n        self.ftu = false;\n        self._ready = true;\n\n        // Were we in offline mode? If so, restore it.\n        // Just read locally if no connect\n        if (self.data.session.offline ||\n        self.options.noConnect ||\n        global.location.search.match('offline=true') ||\n        config.OFFLINE) {\n            self.offlineConnect();\n        }\n        if (self.options.noConnect) {\n            return;\n        }\n\n        // Otherwise, let's set up a connection\n        var syncTimeout = setTimeout(function () {\n            self.offlineConnect();\n        }, 10000);\n\n        function onLogin(user) {\n            self._logger('login');\n            self.data.session.user = user;\n\n            global.clearTimeout(syncTimeout);\n            self.data.session.user = user;\n            self.data.session.offline = false;\n\n            callback(user);\n        }\n\n        function onLogout() {\n            self._logger('logout');\n            self.data.session.user = {\n                id: self.data.session.guestId\n            };\n            if (self.data.session.offline) return;\n            callback();\n        }\n\n        var setup = false;\n        self.auth = require('./auth')();\n        self.auth.on('error', function (err) {\n            if (err.cors === 'rejected') {\n                if (setup) return;\n                global.clearTimeout(syncTimeout);\n                self.offlineConnect();\n                setup = true;\n            }\n        });\n        self.auth.on('verified', function (user) {\n            self._logger('verified');\n            if (setup) {\n                return;\n            } else if (user) {\n                onLogin(user);\n                setup = true;\n            } else {\n                onLogout();\n                setup = true;\n            }\n        });\n        self.auth.on('login', onLogin);\n        self.auth.on('logout', onLogout);\n    });\n};\n\n/**\n * Saves the current model state to localforage.\n *\n * @param  {Function} callback\n *\n * @return {void}\n */\nModel.prototype.save = function (callback) {\n    var self = this;\n    callback = callback || function () {};\n\n    var putItem = JSON.stringify(self.data.session);\n    localForage.setItem(self._sessionKey, putItem, callback);\n};\n\n/**\n * Starts observing (\"watch\"-ing) for object changes.\n *\n * @return {void}\n */\nModel.prototype.observe = function () {\n    var self = this;\n\n    // Only run this once\n    if (self.observing) return;\n    self.observing = true;\n\n    watch(self.data, function () {\n        self._dirty = true;\n        self.save(function onSave(err) {\n            self._logger('observe.onSave', err || 'successful');\n        });\n    }, 10);\n};\n\nvar model;\nfunction instantiateModel (options) {\n    // If the instance doesn't exist, create it.\n    if (!model) model = new Model(options);\n    return model;\n}\n\nmodule.exports = instantiateModel;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "var config = require('../config');\nvar xhr = require('xhr');\n\nmodule.exports = function (id, user, cb) {\n    var body = {id: id};\n\n    // Support dev mode for local publishing\n    if (config.PUBLISH_DEV_MODE) body.user = user;\n\n    xhr({\n        body: JSON.stringify(body),\n        uri: config.PUBLISH_ENDPOINT,\n        method: 'POST',\n        withCredentials: true,\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }, function (err, resp, body) {\n        if (err) return cb({\n            status: resp.statusCode,\n            message: body\n        });\n        if (!body) return cb('There was no response');\n        cb(null, JSON.parse(body));\n    });\n};\n",
    "(function (global){\nvar page = require('page');\n\nmodule.exports = function (options) {\n    options = options || {};\n\n    var history = options.history;\n    var offline = options.offline;\n    var pathname = options.pathname || global.location.pathname;\n\n    var defaultPath = '/templates';\n    var coldStart = ['/', '/index.html'];\n    var noRestore = offline ? coldStart : coldStart.concat(['/sign-in']);\n\n    function isAllowed(path) {\n        return noRestore.indexOf(path) === -1;\n    }\n\n    // Don't restore if pathname is allowed.\n    if (isAllowed(pathname)) return;\n\n    // Restore from history... but not if history is in noRestore\n    var message;\n    if (history && isAllowed(history)) {\n        message = '[Loader] You visited ' +\n            pathname +\n            '; redirecting to your history, ' +\n            history;\n        console.log(message);\n        page(history);\n    } else {\n        message = '[Loader] You visited ' +\n            pathname +\n            '; redirecting to ' +\n            defaultPath;\n        console.log(message);\n        page(defaultPath);\n    }\n\n};\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "var page = require('page');\nvar model = require('./model')();\n\nmodule.exports = function (app) {\n    // Track history for session restoration\n    page(function (ctx, next) {\n        if (!model._ready) return next();\n        model.data.session.path = ctx.path;\n        next();\n    });\n\n    page('/healthcheck', function () {\n        app.$data.isReady = true;\n        app.currentView = 'healthcheck';\n    });\n\n    page('/', function () {\n        app.$data.isReady = true;\n        app.currentView = 'sign-in';\n    });\n\n    page('/discover', function () {\n        app.$data.isReady = true;\n        app.currentView = 'discover';\n    });\n\n    page('/templates', function () {\n        app.$data.isReady = true;\n        app.currentView = 'templates';\n    });\n\n    page('/profile', function () {\n        app.currentView = 'profile';\n    });\n\n    // Interior\n    page('/make/:id', function (e) {\n        app.currentView = 'make';\n        app.params = e.params;\n    });\n    page('/make/:id/:mode', function (e) {\n        if (['add', 'share', 'detail'].indexOf(e.params.mode) === -1) {\n            app.currentView = 'error';\n            app.params = {code: 404};\n            return;\n        }\n        app.currentView = e.params.mode;\n        app.params = e.params;\n    });\n\n    page('/template/:id/detail', function (e) {\n        app.currentView = 'detail';\n        app.params = e.params;\n        app.params.template = true;\n    });\n\n    page('/make/:id/block/:index', function (e) {\n        app.currentView = 'block';\n        app.params = e.params;\n    });\n\n    page('/sign-in', '/');\n\n    // // Cordova\n    page.redirect('/:platform/www/index.html', '/');\n\n    // Configuration\n    page('*', function () {\n        app.currentView = 'error';\n        app.params = {code: 404};\n    });\n\n    // Init\n    setTimeout(function () {\n        page({\n            click: true\n        });\n    }, 250);\n};\n",
    "var Firebase = require('firebase');\nvar clone = require('clone');\n\nvar config = require('../config');\nvar utils = require('./utils');\nvar i18n = require('./i18n');\nvar templates = require('./templates.json');\nvar model = require('./model')();\nvar Blocks = require('./blocks');\nvar blocks = new Blocks();\n\nvar _firebase = new Firebase(config.FIREBASE_URL + '/apps');\nvar _appRefs = {};\nvar _queryRef = null;\n\nfunction Store(vm) {\n    var self = this;\n\n    self._vm = vm;\n    self._firebase = _firebase;\n}\n\nStore.prototype._log = function (text) {\n    console.log('[Store] ', text);\n};\n\nStore.prototype._onSync = function _onSync(err) {\n    var self = this;\n    if (!err) return;\n    console.error('[Store] ', err);\n    self._vm.showAlert('Oops! We\\'re having trouble syncing your data');\n};\n\nStore.prototype._processSnapshot = function _processSnapshot(snapshot) {\n    var res = snapshot.val();\n    if (!res) return null;\n    res.id = snapshot.key();\n    return res;\n};\n\nStore.prototype._createAppRef = function (id, fbRef, data) {\n    if (_appRefs[id]) this._removeAppRef(id);\n\n    var that = this;\n    var process = that._processSnapshot;\n\n    function newBlock(blockId) {\n        var block = blocks[blockId];\n        return block && clone(block);\n    }\n\n    function App() {\n        var self = this;\n\n        function broadcast(snapshot) {\n            var data = process(snapshot);\n            self.data = data;\n            that._vm.$broadcast(snapshot.key(), data);\n        }\n\n        self.id = id;\n        self.data = data || null;\n        self.firebase = fbRef || _firebase.child(id);\n        self.firebase.on('value', broadcast);\n    }\n\n    App.prototype.update = function (properties) {\n        var self = this;\n        properties = JSON.parse(JSON.stringify(properties));\n        self.firebase.update(properties, that._onSync);\n    };\n\n    App.prototype.updateBlock = function (id, properties) {\n        var self = this;\n        properties = JSON.parse(JSON.stringify(properties));\n        self.firebase.child('blocks/' + id).update(properties, that._onSync);\n    };\n\n    App.prototype.insert = function (type) {\n        var self = this;\n        var block = newBlock(type);\n        if (!block) {\n            console.error('Block type ' + type + ' not found.');\n            return;\n        }\n        var ref = self.firebase.child('blocks');\n        ref.once('value', function (snapshot) {\n            var blocks = snapshot.val() || [];\n            blocks.unshift(block);\n            ref.set(blocks);\n        });\n    };\n\n    App.prototype.remove = function (blockIndex) {\n        var self = this;\n        var ref = self.firebase.child('blocks');\n\n        var msg = 'Block with index ' + blockIndex + ' does not exist.';\n        ref.once('value', function (snapshot) {\n            var blocks = snapshot.val();\n            if (!blocks[blockIndex]) {\n                console.error(msg);\n                return;\n            }\n            blocks.splice(blockIndex, 1);\n            ref.set(blocks, that._onSync);\n        });\n    };\n\n    App.prototype.removeApp = function () {\n        var self = this;\n        self.firebase.remove(that._onSync);\n        that._removeAppRef(id);\n    };\n\n    var app = new App();\n    _appRefs[id] = app;\n\n    return app;\n};\n\nStore.prototype._removeAppRef = function _removeAppRef(id) {\n    if (!_appRefs[id]) return; // todo: throw? this shouldn't happen\n    _appRefs[id].firebase.off('value');\n    delete _appRefs[id];\n};\n\n// setQuery(userId)\n// set up a query for all apps by a certain userId\nStore.prototype.setQuery = function setQuery(userId) {\n    if (!userId) return; // todo: throw? this shouldn't happen\n\n    var self = this;\n    var process = self._processSnapshot;\n\n    if (_queryRef) self.unsetQuery();\n\n    function onAdded(snapshot) {\n        var id = snapshot.key();\n        if (!_appRefs[id]) self.getApp(id);\n        self._log('App added');\n        self._vm.$broadcast('app_added', process(snapshot));\n    }\n\n    function onChanged(snapshot) {\n        self._log('App changed');\n        self._vm.$broadcast('app_changed', process(snapshot));\n    }\n\n    function onRemoved(snapshot) {\n        var id = snapshot.key();\n        if (_appRefs[id]) self._removeAppRef(id);\n        self._log('App removed');\n        self._vm.$broadcast('app_removed', process(snapshot));\n    }\n\n    var query = self._firebase\n        .orderByChild('userId')\n        .equalTo(userId);\n\n    self._log('Query changed');\n    self._vm.$broadcast('query_changed', userId);\n\n    query.on('child_added', onAdded);\n    query.on('child_changed', onChanged);\n    query.on('child_removed', onRemoved);\n\n    _queryRef = query;\n};\n\n// unsetQuery\n// Removes all event listeners for a query\nStore.prototype.unsetQuery = function unsetQuery() {\n    if (!_queryRef) return; // todo: throw? this shouldn't happen\n    var self = this;\n    _queryRef.off('child_added');\n    _queryRef.off('child_changed');\n    _queryRef.off('child_removed');\n    _queryRef = null;\n    _appRefs = {};\n\n    self._log('Query removed');\n    self._vm.$broadcast('query_changed', null);\n};\n\n// getApps()\n// Returns an array of all apps\nStore.prototype.getApps = function getApps() {\n    var res = Object.keys(_appRefs).map(function (key) {\n        return clone(_appRefs[key].data);\n    }).filter(function (item) {\n        return !!item;\n    });\n    return res;\n};\n\n// getApp(id)\n// Get an app reference given an ID\nStore.prototype.getApp = function getApp(id) {\n    if (_appRefs[id]) return _appRefs[id];\n    return this._createAppRef(id);\n};\n\n// createApp(options)\n//  - template: id of a template. Will overwrite options.data\n//  - data: a set of app data to clone\n//  - name: a name for the clone.\nStore.prototype.createApp = function createApp(options) {\n    var self = this;\n    var templateId;\n    options = options || {};\n\n    var app = {};\n\n    // Get the source of the app template\n    if (options.template) {\n        templateId = utils.findInArray(templates, 'id', options.template);\n        options.data = templates[templateId];\n    }\n    if (!options.data) return;\n    var appTemplate = clone(options.data);\n\n    // Get current user info\n    var user = model.data.session.user;\n    var guestId = model.data.session.guestId;\n\n    // Name, userId, author, icon\n    app.name = options.name || i18n.get('My {{template}} App');\n    app.name = app.name.replace('{{template}}', appTemplate.name);\n    app.userId = user.id || guestId;\n    app.author = {\n        id: user.id || guestId,\n        username: user.username || i18n.get('Guest')\n    };\n    app.icon = appTemplate.icon;\n    app.iconImage = appTemplate.iconImage || 'blogger.png';\n    app.iconColor = appTemplate.iconColor || '#1F9CDF';\n\n    // Blocks\n    app.blocks = appTemplate.blocks.map(function (blockTemplate) {\n        var block = {};\n        // .id is deprecated\n        block.type = blockTemplate.type || blockTemplate.id;\n        block.attributes = blockTemplate.attributes;\n        return block;\n    });\n\n    var ref = _firebase.push(app, self._onSync);\n    var key = ref.key();\n\n    return self._createAppRef(key, ref);\n};\n\nmodule.exports = Store;\n",
    "module.exports=[\n    {\n        \"id\": \"blank\",\n        \"templateTitle\": \"Start from Scratch\",\n        \"name\": \"From Scratch\",\n        \"icon\": \"images/icons/scratch.svg\",\n        \"description\": \"Choosing this option will allow you to create your own app without a preset template.\",\n        \"iconImage\": \"images/icons/scratch.svg\",\n        \"iconColor\" : \"#FF5C5A\",\n        \"author\": {\n            \"username\": \"\",\n            \"location\": \"\",\n            \"avatar\": \"\"\n        },\n        \"blocks\": []\n    },\n    {\n        \"id\": \"b9483c11-077e-4396-84e2-c0454c36a741\",\n        \"name\": \"Blogger\",\n        \"templateTitle\": \"Create a Blog\",\n        \"description\": \"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\n        \"icon\": \"images/icons/blog.svg\",\n        \"iconImage\": \"images/icons/blog.svg\",\n        \"iconColor\" : \"#97CC3B\",\n        \"author\": {\n            \"username\": \"Emma\",\n            \"location\": \"\",\n            \"avatar\": \"images/avatar_blogger.png\"\n        },\n        \"blocks\": [\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/blog_leaves.jpg\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Today I went for a walk in the forest!\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#000000\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"It was a beautiful day to go for a walk, because the weather was perfect for a photo. It was the middle of fall and the trees were beginning to turn a fiery red, contrasting with the luscious green in the background.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#000000\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Heavy Rainfall Might Be Expected\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#000000\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"I couldn't decide whether to keep walking, because the weather might turn foul. I guess I'll turn it in for the day. \\nYours truly, James Laverty\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#000000\"\n                    }\n                }\n            }\n        ]\n    },\n    {\n        \"id\": \"a7ac2775-bd9d-40b5-a26c-43e8452da768\",\n        \"templateTitle\": \"Build a Lesson Plan\",\n        \"description\": \"If you want to share your skills with others, build a mobile lesson plan and teach what you know\",\n        \"name\": \"Teacher\",\n        \"icon\": \"images/icons/teach.svg\",\n        \"iconImage\": \"images/icons/teach.svg\",\n        \"iconColor\" : \"#F79131\",\n        \"author\": {\n            \"username\": \"Deepa\",\n            \"location\": \"\",\n            \"avatar\": \"images/avatar_teacher.png\"\n        },\n        \"blocks\": [\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Lesson Plan: Build an App\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#000000\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"22\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"This Webmaker template can help you make a lesson plan. The lesson in this template describes how to make an app. Edit the details below to make a lesson on your own topic. Share your new app to spread the learning.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"*Time*: 30 minutes\\n*Materials*: FirefoxOS phone\\n *Objective*: This lesson will teach students to make an app for their mobile phone. Students will gain a stronger understanding of what mobile apps are and what they can do. Students will also build confidence in their ability to make apps for themselves, their family and community.\\n*Intro*: Mobile apps can be fun and useful. An app made by you can be even more fun and useful!\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Activity\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"22\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 1 - Install Mobile Webmaker\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Go to mobile.webmaker.org [coming soon] on your mobile device.\\n  - Tap the install button and follow the instructions on your screen.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 2 - Browse Mobile Webmaker\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Read the welcome screens to learn about webmaker.\\n  - Use the first and the third button on the main menu to:  - Browse Discover to see the Apps made with Webmaker.\\n   - Enter your profile.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 3 - Open a Template\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Browse and choose a template.\\n  - Tap to open and preview the template.\\n  - Tap 'Edit' to make a new app from this template.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 4 - Examine the Bricks\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"An app is made of bricks. Each brick does one thing, like display text or show an image for example. Your template includes several bricks already. You can tap a brick to edit it, or tap the plus sign to add another one.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 5 - Add a Brick\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Tap the plus sign to add a brick to your app.\\n  - Browse the options and then tap Text to add a text brick.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 6 - Edit a Brick\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Tap your new text brick.\\n  - Change the text, its size and color.\\n  - Tap the back arrow at the top of the screen when you are done, or tap remove to delete the brick.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Step 7 - Name &amp; View Your App\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \" - Tap 'Untitled App' at the top of your screen. Give your app a unique name.\\n  - Tap 'Play' at the top of the screen to preview your app.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Congratulations!\\nYou made an app.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#ff00ff\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"22\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Going Further\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Now that you know how to make a basic app, what kind of apps would you like to make? Are there popular apps that you would like to make more personal? Are there fun things you could share with your friends? Are there small problems you could help solve for your family or community?\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#999999\"\n                    }\n                }\n            },\n            {\n                \"type\": \"sms\",\n                \"attributes\": {\n                    \"value\": {\n                        \"id\": \"value\",\n                        \"label\": \"Phone #\",\n                        \"type\": \"string\",\n                        \"value\": \"+18005555555\"\n                    },\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Label\",\n                        \"type\": \"string\",\n                        \"value\": \"Share Lesson\"\n                    }\n                }\n            }\n        ]\n    },\n    {\n        \"id\": \"000d1745-5d3c-4997-ac0c-15df68bbbecc\",\n        \"templateTitle\": \"Promote your Business\",\n        \"description\": \"Show off your products and give customers an easy way to reach you.\",\n        \"name\": \"Business\",\n        \"icon\": \"images/icons/business.svg\",\n        \"iconImage\": \"images/icons/business.svg\",\n        \"iconColor\" : \"#F2C233\",\n        \"author\": {\n            \"username\": \"Yousuf\",\n            \"location\": \"\",\n            \"avatar\": \"images/avatar_vendor.png\"\n        },\n        \"blocks\": [\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"id\" : \"color\",\n                  \"label\" : \"Text Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#000000\"\n                },\n                \"innerHTML\" : {\n                  \"id\" : \"innerHTML\",\n                  \"label\" : \"Text Value\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Welcome to my tea shop. What would you like to buy?\"\n                }\n              },\n              \"icon\" : \"images/blocks_text.png\",\n              \"name\" : \"Text\",\n              \"type\" : \"text\"\n            },\n            {\n              \"attributes\" : {\n                \"src\" : {\n                  \"id\" : \"src\",\n                  \"label\" : \"Image URL\",\n                  \"type\" : \"string\",\n                  \"value\" : \"content/vendor_mirzapore.jpg\"\n                }\n              },\n              \"icon\" : \"images/blocks_image.png\",\n              \"name\" : \"Image\",\n              \"type\" : \"image\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Title Text Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#638093\"\n                },\n                \"current\" : {\n                  \"label\" : \"Initial Number\",\n                  \"placeholder\" : \"same as minimum number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"0\"\n                },\n                \"label\" : {\n                  \"label\" : \"Title\",\n                  \"placeholder\" : \"Your title goes here\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Earl Grey\"\n                },\n                \"max\" : {\n                  \"label\" : \"Maximum Number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"100\"\n                },\n                \"min\" : {\n                  \"label\" : \"Minimum Number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"0\"\n                },\n                \"step\" : {\n                  \"label\" : \"Increment by\",\n                  \"type\" : \"number\",\n                  \"value\" : \"1\"\n                }\n              },\n              \"icon\" : \"images/blocks_counter.png\",\n              \"name\" : \"Counter\",\n              \"type\" : \"spinner\"\n            },\n            {\n              \"attributes\" : {\n                \"src\" : {\n                  \"id\" : \"src\",\n                  \"label\" : \"Image URL\",\n                  \"type\" : \"string\",\n                  \"value\" : \"content/vendor_assam.jpg\"\n                }\n              },\n              \"icon\" : \"images/blocks_image.png\",\n              \"name\" : \"Image\",\n              \"type\" : \"image\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Title Text Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#638093\"\n                },\n                \"current\" : {\n                  \"label\" : \"Initial Number\",\n                  \"placeholder\" : \"same as minimum number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"0\"\n                },\n                \"label\" : {\n                  \"label\" : \"Title\",\n                  \"placeholder\" : \"Your title goes here\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Darjeeling\"\n                },\n                \"max\" : {\n                  \"label\" : \"Maximum Number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"100\"\n                },\n                \"min\" : {\n                  \"label\" : \"Minimum Number\",\n                  \"type\" : \"number\",\n                  \"value\" : \"0\"\n                },\n                \"step\" : {\n                  \"label\" : \"Increment by\",\n                  \"type\" : \"number\",\n                  \"value\" : \"1\"\n                }\n              },\n              \"icon\" : \"images/blocks_counter.png\",\n              \"name\" : \"Counter\",\n              \"type\" : \"spinner\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#333444\"\n                },\n                \"font-size\" : {\n                  \"label\" : \"Font Size\",\n                  \"type\" : \"font-size\",\n                  \"value\" : \"14\"\n                },\n                \"innerHTML\" : {\n                  \"label\" : \"Text\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Your Contact Info\"\n                }\n              },\n              \"icon\" : \"images/blocks_text.png\",\n              \"name\" : \"Text\",\n              \"type\" : \"text\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Title Text Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#638093\"\n                },\n                \"inputType\" : {\n                  \"label\" : \"Text Box Type\",\n                  \"options\" : [ \"Single Line Text\", \"Long Text\" ],\n                  \"type\" : \"dropdownChoice\",\n                  \"value\" : 0\n                },\n                \"label\" : {\n                  \"label\" : \"Title\",\n                  \"placeholder\" : \"Your title goes here\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Name\"\n                }\n              },\n              \"icon\" : \"images/blocks_input.png\",\n              \"name\" : \"Input\",\n              \"type\" : \"input\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Title Text Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#638093\"\n                },\n                \"inputType\" : {\n                  \"label\" : \"Text Box Type\",\n                  \"options\" : [ \"Single Line Text\", \"Long Text\" ],\n                  \"type\" : \"dropdownChoice\",\n                  \"value\" : 0\n                },\n                \"label\" : {\n                  \"label\" : \"Title\",\n                  \"placeholder\" : \"Your title goes here\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Phone Number\"\n                }\n              },\n              \"icon\" : \"images/blocks_input.png\",\n              \"name\" : \"Input\",\n              \"type\" : \"input\"\n            },\n            {\n              \"attributes\" : {\n                \"color\" : {\n                  \"label\" : \"Button Color\",\n                  \"type\" : \"color\",\n                  \"value\" : \"#32B2D2\"\n                },\n                \"innerHTML\" : {\n                  \"label\" : \"Button Text\",\n                  \"type\" : \"string\",\n                  \"value\" : \"Send Order\"\n                }\n              },\n              \"icon\" : \"images/blocks_submit.png\",\n              \"name\" : \"Submit\",\n              \"type\" : \"submit\"\n            }\n        ]\n    },\n    {\n        \"id\": \"d5c3ee43-5bbf-483c-8e70-0ac035c5f990\",\n        \"name\": \"Journalist\",\n        \"templateTitle\": \"Share Community News\",\n        \"description\": \"Share photos and write articles and about your local community\",\n        \"icon\": \"images/placeholder_journalist.png\",\n        \"iconImage\": \"images/journalist.png\",\n        \"iconColor\" : \"#DC8AEB\",\n        \"author\": {\n            \"username\": \"Rafid Daoud\",\n            \"location\": \"\",\n            \"avatar\": \"\"\n        },\n        \"blocks\": [\n               {\n                   \"attributes\": {\n                       \"color\": {\n                           \"id\": \"color\",\n                           \"label\": \"Text Color\",\n                           \"type\": \"color\",\n                           \"value\": \"#707181\"\n                       },\n                       \"innerHTML\": {\n                           \"id\": \"innerHTML\",\n                           \"label\": \"Text Value\",\n                           \"type\": \"string\",\n                           \"value\": \"News / Greater Toronto Area\"\n                       }\n                   },\n                   \"type\": \"text\"\n               },\n               {\n                   \"attributes\": {\n                       \"color\": {\n                           \"id\": \"color\",\n                           \"label\": \"Text Color\",\n                           \"type\": \"color\",\n                           \"value\": \"#000000\"\n                       },\n                       \"font-size\": {\n                           \"label\": \"Font Size\",\n                           \"type\": \"font-size\",\n                           \"value\": \"40\"\n                       },\n                       \"innerHTML\": {\n                           \"id\": \"innerHTML\",\n                           \"label\": \"Text Value\",\n                           \"type\": \"string\",\n                           \"value\": \"CNE Air Show\"\n                       }\n                   },\n                   \"type\": \"text\"\n               },\n               {\n                   \"attributes\": {\n                       \"color\": {\n                           \"id\": \"color\",\n                           \"label\": \"Text Color\",\n                           \"type\": \"color\",\n                           \"value\": \"#333444\"\n                       },\n                       \"font-size\": {\n                           \"label\": \"Font Size\",\n                           \"type\": \"font-size\",\n                           \"value\": \"18\"\n                       },\n                       \"innerHTML\": {\n                           \"id\": \"innerHTML\",\n                           \"label\": \"Text Value\",\n                           \"type\": \"string\",\n                           \"value\": \"A fascinating and thrilling show at the Canadian National Exhibition\"\n                       }\n                   },\n                   \"type\": \"text\"\n               },\n               {\n                   \"attributes\": {\n                       \"src\": {\n                           \"id\": \"src\",\n                           \"label\": \"Image URL\",\n                           \"type\": \"string\",\n                           \"value\": \"content/newspaper_planes.jpg\"\n                       }\n                   },\n                   \"type\": \"image\"\n               },\n               {\n                   \"attributes\": {\n                       \"color\": {\n                           \"id\": \"color\",\n                           \"label\": \"Text Color\",\n                           \"type\": \"color\",\n                           \"value\": \"#adaebe\"\n                       },\n                       \"font-size\": {\n                           \"label\": \"Font Size\",\n                           \"type\": \"font-size\",\n                           \"value\": \"13\"\n                       },\n                       \"innerHTML\": {\n                           \"id\": \"innerHTML\",\n                           \"label\": \"Text Value\",\n                           \"type\": \"string\",\n                           \"value\": \"Canadian forces snowbirds pilots taking formation for their next performance. Photo by Rafid Daoud\"\n                       }\n                   },\n                   \"type\": \"text\"\n               },\n               {\n                   \"attributes\": {\n                       \"color\": {\n                           \"id\": \"color\",\n                           \"label\": \"Text Color\",\n                           \"type\": \"color\",\n                           \"value\": \"#000000\"\n                       },\n                       \"innerHTML\": {\n                           \"id\": \"innerHTML\",\n                           \"label\": \"Text Value\",\n                           \"type\": \"string\",\n                           \"value\": \"The air show at Canada National Exhibition in Toronto Ontario. It took place on August 30th 2014 through September 1st 2014. The show had two types of air crafts do their tricks. First, were fighter jets that were very fast almost the speed of sound. Then came the planes pictured above and they performed many tricks and had many different formations.\"\n                       }\n                   },\n                   \"type\": \"text\"\n               }\n           ]\n    },\n    {\n        \"id\": \"a7ac2775-bd9d-40b5-a26c-43e847777777\",\n        \"templateTitle\": \"Create a How To Guide\",\n        \"description\": \"If you've got unique skills you'd like to share with others, try making a How To guide.\",\n        \"name\": \"How To\",\n        \"icon\": \"images/placeholder_howto.png\",\n        \"iconImage\": \"images/howto.png\",\n        \"iconColor\" : \"#8C8AEB\",\n        \"author\": {\n            \"username\": \"Deepa\",\n            \"location\": \"\",\n            \"avatar\": \"images/avatar_teacher.png\"\n        },\n        \"blocks\": [\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"HOW TO GUIDE\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#4d4e53\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"12\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"How to Make a Box Guitar\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#328F70\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"22\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Whether making this fun toy for yourself or for your child, a homemade guitar is an easy and creative way to make music from household items.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/howto_guitar_1.jpg\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Part 1 - Find a carboard box, cut a large hole in the middle of one side, and then 5 smaller holes to the left and the right of the large one.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/howto_guitar_2.jpg\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Part 2 - Take 5 rubber bands and cut them open.\\n\\nTie a knot on one end of a rubber band. Push the other end through the first small hole and then stretch it across the big hole to the other side. Push it down through this hole and tie another knot.\\n\\nRepeat this for the other 4 rubber bands.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/howto_guitar_3.jpg\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Part 3 - Create your guitar neck with a stick or cardboard tube.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            },\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/howto_guitar_4.jpg\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Ta-da! Now play a song!\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#328F70\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"22\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"CREATIVE COMMONS\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#4d4e53\"\n                    },\n                    \"font-size\": {\n                        \"label\": \"Font Size\",\n                        \"type\": \"font-size\",\n                        \"value\": \"12\"\n                    }\n                }\n            },\n            {\n                \"type\": \"text\",\n                \"attributes\": {\n                    \"innerHTML\": {\n                        \"id\": \"innerHTML\",\n                        \"label\": \"Text Value\",\n                        \"type\": \"string\",\n                        \"value\": \"Article based on http://www.wikihow.com/Make-a-Rubber-Band-Guitar.\\n\\nShared under a Creative Commons License http://creativecommons.org/licenses/by-nc-sa/3.0/.\"\n                    },\n                    \"color\": {\n                        \"id\": \"color\",\n                        \"label\": \"Text Color\",\n                        \"type\": \"color\",\n                        \"value\": \"#333444\"\n                    }\n                }\n            }\n        ]\n    },\n    {\n        \"id\": \"41e8be7e-4381-4afd-82ac-861171cd1111\",\n        \"name\": \"Safety\",\n        \"templateTitle\": \"Create a Safety App\",\n        \"description\": \"Add a map, a emergency call button, and other tips to keep safe in your community\",\n        \"icon\": \"images/placeholder_safety.png\",\n        \"iconImage\": \"images/safety.png\",\n        \"iconColor\" : \"#27AAE1\",\n        \"author\": {\n            \"username\": \"Pedro\",\n            \"location\": \"\",\n            \"avatar\": \"images/avatar_student.png\"\n        },\n        \"blocks\": [\n            {\n                \"type\": \"phone\",\n                \"attributes\": {\n                    \"number\": {\n                        \"label\": \"Phone #\",\n                        \"type\": \"string\",\n                        \"value\": \"+18005555555\"\n                    },\n                    \"innerHTML\": {\n                        \"label\": \"Label\",\n                        \"type\": \"string\",\n                        \"value\": \"Call Campus Safety\"\n                    }\n                }\n            },\n            {\n                \"type\": \"image\",\n                \"attributes\": {\n                    \"src\": {\n                        \"id\": \"src\",\n                        \"label\": \"Image URL\",\n                        \"type\": \"string\",\n                        \"value\": \"content/campus_safety.gif\"\n                    }\n                }\n            }\n        ]\n    }\n]\n",
    "module.exports = {\n    // Converts object to array\n    // If the values are objects, idKey (default _key) is the key\n\n    //Base color set for colorpicker and icon app background\n    baseColors: [\n        '#333444',\n        '#1e79da',\n        '#1F9CDF',\n        '#18dea6',\n        '#39d91f',\n        '#e7ce17',\n        '#ea6517',\n        '#e71a18',\n        '#ec1a6e',\n        '#d91fd6'\n    ],\n\n    toArray: function (obj, idKey) {\n        if (idKey !== false) {\n            idKey = idKey || '__key';\n        }\n        return Object.keys(obj).map(function (key) {\n            var val = obj[key];\n            if (val && idKey && typeof val === 'object') {\n                val[idKey] = key;\n            }\n            return val;\n        });\n    },\n\n    // Returns index of an object in arr containing key and val\n    findInArray: function (arr, key, val) {\n        for (var i = 0, l = arr.length; i < l; i++) {\n            if (arr[i][key] === val) {\n                return i;\n            }\n        }\n    },\n    // Note: all colors are outputted as lowercase hex.\n    shadeColor: function (color, percent) {\n        /* jshint ignore:start */\n        // jscs:disable\n        var num = parseInt(color.slice(1), 16);\n        var amt = Math.round(2.55 * percent);\n        var R = (num >> 16) + amt;\n        var G = (num >> 8 & 0x00FF) + amt;\n        var B = (num & 0x0000FF) + amt;\n\n        return ('#' + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255)).toString(16).slice(1)).toLowerCase();\n        /* jshint ignore:end */\n        // jscs:enable\n    }\n};\n",
    "/**\n * Mad science micro-sized UUID (v4) module.\n *\n * Adapted from: https://gist.github.com/jed/982883\n *\n * @package webmaker\n * @author  Andrew Sliwinski <a@mozillafoundation.org>\n */\n\n/* jshint ignore:start */\n// jscs:disable\nfunction b(\n  a                  // placeholder\n){\n  return a           // if the placeholder was passed, return\n    ? (              // a random number from 0 to 15\n      a ^            // unless b is 8,\n      Math.random()  // in which case\n      * 16           // a random number from\n      >> a/4         // 8 to 11\n      ).toString(16) // in hexadecimal\n    : (              // or otherwise a concatenated string:\n      [1e7] +        // 10000000 +\n      -1e3 +         // -1000 +\n      -4e3 +         // -4000 +\n      -8e3 +         // -80000000 +\n      -1e11          // -100000000000,\n      ).replace(     // replacing\n        /[018]/g,    // zeroes, ones, and eights with\n        b            // random hex digits\n      )\n}\n\nmodule.exports = b;\n/* jshint ignore:end */\n// jscs:enable\n",
    "var Vue = require('vue');\nvar clone = require('clone');\n\n\nvar block = require('./block');\n\n// Add all blocks\nvar blocks = clone(({\"data\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/data/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/data/index.js\");return f;})(),\"dropdown\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/dropdown/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/dropdown/index.js\");return f;})(),\"image\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/image/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/image/index.js\");return f;})(),\"input\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/input/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/input/index.js\");return f;})(),\"phone\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/phone/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/phone/index.js\");return f;})(),\"sms\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/sms/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/sms/index.js\");return f;})(),\"spinner\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/spinner/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/spinner/index.js\");return f;})(),\"submit\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/submit/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/submit/index.js\");return f;})(),\"text\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/blocks/text/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/blocks/text/index.js\");return f;})()}));\n\nvar componentList = [];\n\nfor (var id in blocks) {\n    if (blocks.hasOwnProperty(id)) {\n        componentList[id] = block.extend(blocks[id]);\n    }\n}\n\nmodule.exports = Vue.extend({\n    components: componentList,\n    data: {},\n    methods: {\n        model: require('./model')(),\n        page: require('page')\n    }\n});\n",
    "module.exports = {\"bn-BD\":{\"Add a Brick\":\"Add a Brick\",\"Guest Explanation\":\"Guests can build, but not publish apps.\",\"Open\":\"Open\",\"Create\":\"Create\",\"My Profile\":\"আমার প্রফাইল\",\"the web\":\"the web\",\"you\":\"তুমি\",\"Business\":\"Business\",\"You can create your own app. Just open a template and edit!\":\"আপনি আপনার নিজের অ্যাপ বানাতে পারেন। শুধুমাত্র একটি টেমপ্লেট খুলুন এবং সম্পাদনা করুন।!\",\"Details\":\"বিস্তারিত\",\"Get Started\":\"আসুন শুরু করি\",\"Delete App\":\"Delete App\",\"Share Community News\":\"Share Community News\",\"Apps\":\"অ্যাপ\",\"scientist\":\"scientist\",\"Join Webmaker\":\"Join Webmaker\",\"Preview\":\"প্রাকদর্শন\",\"Family\":\"Family\",\"Image\":\"ছবি\",\"Sign In\":\"সাইন ইন\",\"Safety\":\"Safety\",\"Discover\":\"আবিষ্কার\",\"Change\":\"Change\",\"Make &amp; share the web\":\"Make &amp; share the web\",\"errorAppNotFound\":\"Sorry, this app was not found. Go back to your <a href='/profile'>profile</a>?\",\"Name\":\"নাম\",\"Near Me\":\"Near Me\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Untitled App\":\"Untitled App\",\"activists\":\"স্বেচ্ছাসেবক\",\"Done\":\"করা হয়ে গেছে\",\"Delete\":\"মুছুন\",\"Apps I've Created\":\"আমার বানানো অ্যাপসমূহ\",\"Phone\":\"Phone\",\"Email\":\"ইমেইল\",\"Activist\":\"Activist\",\"SMS\":\"SMS\",\"Create a Blog\":\"Create a Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"মোজিলা ওয়েবমেকার এবং অন্যান্য প্রকল্প সম্পর্কে হালনাগাদ তথ্যের ইমেইল আমাকে পাঠাবেন\",\"share_message\":\"Check out the app {{app.name}} I made with Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"My {{template}} App\",\"Featured Apps\":\"Featured Apps\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> from <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Text Colour\",\"students\":\"শিক্ষার্থী\",\"Sorry, that name has already been snagged! Please try another.\":\"Sorry, that name has already been snagged! Please try another.\",\"Create and share app templates with people all around the world\":\"অ্যাপের টেমপ্লেট বানান এবং পৃথিবীর সকলের সাথে তা শেয়ার করুন\",\"Teacher\":\"Teacher\",\"Start from Scratch\":\"Start from Scratch\",\"Offline Mode Explanation\":\"This device isn't connected to the internet, so you won't be able to publish any apps.\",\"Message\":\"ম্যাসেজ\",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"by _\":\"by {{name}}\",\"Make an App\":\"Make an App\",\"Remove\":\"সরান\",\"Sign Out\":\"সাইন অউট\",\"Delete my Apps\":\"Delete my Apps\",\"vendors\":\"বিক্রেতারা\",\"Medic\":\"Medic\",\"journalists\":\"সাংবাদিক\",\"Journalist\":\"সাংবাদিক\",\"parents\":\"অভিভাবক\",\"Text Value\":\"Text Value\",\"I agree to your terms and conditions\":\"I agree to your terms and conditions\",\"My Apps\":\"My Apps\",\"Cancel\":\"বাতিল করুন\",\"Try in Offline Mode\":\"Try in Offline Mode\",\"Guest\":\"Guest\",\"Try as Guest\":\"Try as Guest\",\"No Apps Message\":\"You don't have any apps yet.\",\"Data\":\"Data\",\"errorNoText\":\"You must include a text value\",\"Select Color\":\"রং পছন্দ করুন\",\"Location\":\"অবস্থান\",\"Edit\":\"সম্পাদনা\",\"Phone #\":\"Phone #\",\"Save\":\"সংরক্ষণ\",\"Create a Safety App\":\"Create a Safety App\",\"Publish\":\"প্রকাশ করুন\",\"Choose a username\":\"ব্যবহারকারী হিসেবে একটি নাম বাছাই করুন\",\"errorDefault\":\"Oops! There was an error. Go back to your <a href='/profile'>profile</a>?\",\"Label\":\"লেবেল\",\"Create a How To Guide\":\"Create a How To Guide\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Edit my Profile\":\"Edit my Profile\",\"Apps made by _\":\"অ্যাপ বানিয়েছে: <span v-cycle=\\\\\\\"personas\\\\\\\"></span>\",\"Place call\":\"কল করুন\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"App\":\"অ্যাপ্লিকেশন\",\"Make Your Own App\":\"Make Your Own App\",\"Next\":\"পরবর্তি\",\"Text Box\":\"Text Box\",\"App Name & Icon\":\"App Name & Icon\",\"Share\":\"শেয়ার করুন\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"Text\":\"টেক্সট\",\"teachers\":\"শিক্ষক\",\"From Scratch\":\"From Scratch\",\"error404\":\"Sorry, we couldn't find this page. Would you like to <a href='/sign-in'>go back to the start</a>?\",\"How To\":\"How To\",\"doctors\":\"চিকিৎসক\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\"},\"cs\":{\"Add a Brick\":\"Add a Brick\",\"Guest Explanation\":\"Guests can build, but not publish apps.\",\"Open\":\"Open\",\"Create\":\"Create\",\"My Profile\":\"Můj profil\",\"the web\":\"the web\",\"you\":\"vámi\",\"Business\":\"Business\",\"You can create your own app. Just open a template and edit!\":\"Můžete tvořit vaše vlastní aplikace. Stačí otevřít šablonu a upravit!\",\"Details\":\"Detaily\",\"Get Started\":\"Začínáme\",\"Delete App\":\"Delete App\",\"Share Community News\":\"Share Community News\",\"Apps\":\"Aplikace\",\"scientist\":\"scientist\",\"Join Webmaker\":\"Join Webmaker\",\"Preview\":\"Náhled\",\"Family\":\"Family\",\"Image\":\"Obrázek\",\"Sign In\":\"Přihlásit se\",\"Safety\":\"Safety\",\"Discover\":\"Objevit\",\"Change\":\"Change\",\"Make &amp; share the web\":\"Make &amp; share the web\",\"errorAppNotFound\":\"Sorry, this app was not found. Go back to your <a href='/profile'>profile</a>?\",\"Name\":\"Název\",\"Near Me\":\"Near Me\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Untitled App\":\"Untitled App\",\"activists\":\"aktivisty\",\"Done\":\"Hotovo\",\"Delete\":\"Smazat\",\"Apps I've Created\":\"Aplikace, které jsem vytvořil\",\"Phone\":\"Phone\",\"Email\":\"E-mail\",\"Activist\":\"Activist\",\"SMS\":\"SMS\",\"Create a Blog\":\"Create a Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Povolit zasílání e-mailových aktualizací o Mozilla Webmakeru a dalších projektech\",\"share_message\":\"Check out the app {{app.name}} I made with Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"My {{template}} App\",\"Featured Apps\":\"Featured Apps\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> from <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Text Colour\",\"students\":\"studenty\",\"Sorry, that name has already been snagged! Please try another.\":\"Sorry, that name has already been snagged! Please try another.\",\"Create and share app templates with people all around the world\":\"Tvorba a sdílení šablon aplikace s lidmi na celém světě\",\"Teacher\":\"Teacher\",\"Start from Scratch\":\"Start from Scratch\",\"Offline Mode Explanation\":\"This device isn't connected to the internet, so you won't be able to publish any apps.\",\"Message\":\"Message\",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"by _\":\"by {{name}}\",\"Make an App\":\"Make an App\",\"Remove\":\"Odstranit\",\"Sign Out\":\"Sign Out\",\"Delete my Apps\":\"Delete my Apps\",\"vendors\":\"prodejci\",\"Medic\":\"Medic\",\"journalists\":\"žurnalisty\",\"Journalist\":\"Žurnalista\",\"parents\":\"rodiči\",\"Text Value\":\"Text Value\",\"I agree to your terms and conditions\":\"I agree to your terms and conditions\",\"My Apps\":\"My Apps\",\"Cancel\":\"Zrušit\",\"Try in Offline Mode\":\"Try in Offline Mode\",\"Guest\":\"Guest\",\"Try as Guest\":\"Try as Guest\",\"No Apps Message\":\"You don't have any apps yet.\",\"Data\":\"Data\",\"errorNoText\":\"You must include a text value\",\"Select Color\":\"Vybrat barvu\",\"Location\":\"Místo\",\"Edit\":\"Upravit\",\"Phone #\":\"Phone #\",\"Save\":\"Uložit\",\"Create a Safety App\":\"Create a Safety App\",\"Publish\":\"Publikování\",\"Choose a username\":\"Zvolte uživatelské jméno\",\"errorDefault\":\"Oops! There was an error. Go back to your <a href='/profile'>profile</a>?\",\"Label\":\"Label\",\"Create a How To Guide\":\"Create a How To Guide\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Edit my Profile\":\"Edit my Profile\",\"Apps made by _\":\"Aplikace vytvořeny: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Place call\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"App\":\"App\",\"Make Your Own App\":\"Make Your Own App\",\"Next\":\"Další\",\"Text Box\":\"Text Box\",\"App Name & Icon\":\"App Name & Icon\",\"Share\":\"Sdílet\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"Text\":\"Text\",\"teachers\":\"učiteli\",\"From Scratch\":\"From Scratch\",\"error404\":\"Sorry, we couldn't find this page. Would you like to <a href='/sign-in'>go back to the start</a>?\",\"How To\":\"How To\",\"doctors\":\"doktory\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\"},\"en-CA\":{\"Add a Brick\":\"Add a Brick\",\"Guest Explanation\":\"Guests can build, but not publish apps.\",\"Open\":\"Open\",\"Create\":\"Create\",\"My Profile\":\"My Profile\",\"the web\":\"the web\",\"you\":\"you\",\"Business\":\"Business\",\"You can create your own app. Just open a template and edit!\":\"You can create your own app. Just open a template and edit!\",\"Details\":\"Details\",\"Get Started\":\"Get Started\",\"Delete App\":\"Delete App\",\"Share Community News\":\"Share Community News\",\"Apps\":\"Apps\",\"scientist\":\"scientist\",\"Join Webmaker\":\"Join Webmaker\",\"Preview\":\"Preview\",\"Family\":\"Family\",\"Image\":\"Image\",\"Sign In\":\"Sign In\",\"Safety\":\"Safety\",\"Discover\":\"Discover\",\"Change\":\"Change\",\"Make &amp; share the web\":\"Make &amp; share the web\",\"errorAppNotFound\":\"Sorry, this app was not found. Go back to your <a href='/profile'>profile</a>?\",\"Name\":\"Name\",\"Near Me\":\"Near Me\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Untitled App\":\"Untitled App\",\"activists\":\"activists\",\"Done\":\"Done\",\"Delete\":\"Delete\",\"Apps I've Created\":\"Apps I've Created\",\"Phone\":\"Phone\",\"Email\":\"Email\",\"Activist\":\"Activist\",\"SMS\":\"SMS\",\"Create a Blog\":\"Create a Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Send me email updates about Mozilla Webmaker and other projects\",\"share_message\":\"Check out the app {{app.name}} I made with Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"My {{template}} App\",\"Featured Apps\":\"Featured Apps\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> from <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Text Colour\",\"students\":\"students\",\"Sorry, that name has already been snagged! Please try another.\":\"Sorry, that name has already been snagged! Please try another.\",\"Create and share app templates with people all around the world\":\"Create and share app templates with people all around the world\",\"Teacher\":\"Teacher\",\"Start from Scratch\":\"Start from Scratch\",\"Offline Mode Explanation\":\"This device isn't connected to the internet, so you won't be able to publish any apps.\",\"Message\":\"Message\",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"by _\":\"by {{name}}\",\"Make an App\":\"Make an App\",\"Remove\":\"Remove\",\"Sign Out\":\"Sign Out\",\"Delete my Apps\":\"Delete my Apps\",\"vendors\":\"vendors\",\"Medic\":\"Medic\",\"journalists\":\"journalists\",\"Journalist\":\"Journalist\",\"parents\":\"parents\",\"Text Value\":\"Text Value\",\"I agree to your terms and conditions\":\"I agree to your terms and conditions\",\"My Apps\":\"My Apps\",\"Cancel\":\"Cancel\",\"Try in Offline Mode\":\"Try in Offline Mode\",\"Guest\":\"Guest\",\"Try as Guest\":\"Try as Guest\",\"No Apps Message\":\"You don't have any apps yet.\",\"Data\":\"Data\",\"errorNoText\":\"You must include a text value\",\"Select Color\":\"Select Colour\",\"Location\":\"Location\",\"Edit\":\"Edit\",\"Phone #\":\"Phone #\",\"Save\":\"Save\",\"Create a Safety App\":\"Create a Safety App\",\"Publish\":\"Publish\",\"Choose a username\":\"Choose a username\",\"errorDefault\":\"Oops! There was an error. Go back to your <a href='/profile'>profile</a>?\",\"Label\":\"Label\",\"Create a How To Guide\":\"Create a How To Guide\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Edit my Profile\":\"Edit my Profile\",\"Apps made by _\":\"Apps made by: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Place call\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"App\":\"App\",\"Make Your Own App\":\"Make Your Own App\",\"Next\":\"Next\",\"Text Box\":\"Text Box\",\"App Name & Icon\":\"App Name & Icon\",\"Share\":\"Share\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"Text\":\"Text\",\"teachers\":\"teachers\",\"From Scratch\":\"From Scratch\",\"error404\":\"Sorry, we couldn't find this page. Would you like to <a href='/sign-in'>go back to the start</a>?\",\"How To\":\"How To\",\"doctors\":\"doctors\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\"},\"en-US\":{\"Add a Brick\":\"Add a Brick\",\"scientist\":\"scientist\",\"errorNoText\":\"You must include a text value\",\"My Profile\":\"My Profile\",\"Edit my Profile\":\"Edit my Profile\",\"you\":\"you\",\"You can create your own app. Just open a template and edit!\":\"You can create your own app. Just open a template and edit!\",\"Details\":\"Details\",\"Get Started\":\"Get Started\",\"Apps\":\"Apps\",\"My Apps\":\"My Apps\",\"by _\":\"by {{name}}\",\"Image\":\"Image\",\"Name\":\"Name\",\"App Name & Icon\":\"App Name & Icon\",\"activists\":\"activists\",\"Apps I've Created\":\"Apps I've Created\",\"Make Your Own App\":\"Make Your Own App\",\"Make an App\":\"Make an App\",\"SMS\":\"SMS\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> from <br/></span><strong>{{location}}</strong>\",\"students\":\"students\",\"Create and share app templates with people all around the world\":\"Create and share app templates with people all around the world\",\"Remove\":\"Remove\",\"Delete\":\"Delete\",\"vendors\":\"vendors\",\"journalists\":\"journalists\",\"Journalist\":\"Journalist\",\"Business\":\"Business\",\"From Scratch\":\"From Scratch\",\"Teacher\":\"Teacher\",\"Medic\":\"Medic\",\"How To\":\"How To\",\"Family\":\"Family\",\"Blogger\":\"Blogger\",\"Club\":\"Club\",\"Safety\":\"Safety\",\"Activist\":\"Activist\",\"parents\":\"parents\",\"Select Color\":\"Select Color\",\"Location\":\"Location\",\"Edit\":\"Edit\",\"Apps made by _\":\"Apps made by: <span v-cycle=\\\"personas\\\"></span>\",\"Next\":\"Next\",\"Preview\":\"Preview\",\"Text\":\"Text\",\"teachers\":\"teachers\",\"doctors\":\"doctors\",\"Message\":\"Message\",\"Place call\":\"Place call\",\"Sign In\":\"Sign In\",\"Try as Guest\":\"Try as Guest\",\"Guest\":\"Guest\",\"Guest Explanation\":\"Guests can build, but not publish apps.\",\"Try in Offline Mode\":\"Try in Offline Mode\",\"Offline Mode Explanation\":\"This device isn't connected to the internet, so you won't be able to publish any apps.\",\"Sign Out\":\"Sign Out\",\"Delete App\":\"Delete App\",\"Delete my Apps\":\"Delete my Apps\",\"Untitled App\":\"Untitled App\",\"Text Value\":\"Text Value\",\"Text Colour\":\"Text Colour\",\"Phone\":\"Phone\",\"Phone #\":\"Phone #\",\"Label\":\"Label\",\"Email\":\"Email\",\"Choose a username\":\"Choose a username\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Send me email updates about Mozilla Webmaker and other projects\",\"I agree to your terms and conditions\":\"I agree to your terms and conditions\",\"Change\":\"Change\",\"share_message\":\"Check out the app {{app.name}} I made with Mozilla Webmaker\",\"App\":\"App\",\"Cancel\":\"Cancel\",\"Done\":\"Done\",\"No Apps Message\":\"You don't have any apps yet.\",\"Featured Apps\":\"Featured Apps\",\"Near Me\":\"Near Me\",\"Sorry, that name has already been snagged! Please try another.\":\"Sorry, that name has already been snagged! Please try another.\",\"error404\":\"Sorry, we couldn't find this page. Would you like to <a href='/sign-in'>go back to the start</a>?\",\"errorAppNotFound\":\"Sorry, this app was not found. Go back to your <a href='/profile'>profile</a>?\",\"errorDefault\":\"Oops! There was an error. Go back to your <a href='/profile'>profile</a>?\",\"Discover\":\"Discover\",\"Make &amp; share the web\":\"Make &amp; share the web\",\"the web\":\"the web\",\"Share\":\"Share\",\"Open\":\"Open\",\"Create\":\"Create\",\"Data\":\"Data\",\"Publish\":\"Publish\",\"Join Webmaker\":\"Join Webmaker\",\"My {{template}} App\":\"My {{template}} App\",\"Save\":\"Save\",\"Start from Scratch\":\"Start from Scratch\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Create a Blog\":\"Create a Blog\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Share Community News\":\"Share Community News\",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"Create a How To Guide\":\"Create a How To Guide\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Create a Safety App\":\"Create a Safety App\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"Text Box\":\"Text Box\"},\"es-CL\":{\"Add a Brick\":\"Añadir un bloque\",\"Guest Explanation\":\"Los invitados pueden crear apps, pero no publicarlas.\",\"Open\":\"Abrir\",\"Create\":\"Crear\",\"My Profile\":\"Mi perfil\",\"the web\":\"la web\",\"you\":\"ti\",\"Business\":\"Negocios\",\"You can create your own app. Just open a template and edit!\":\"Puedes crear tu propia app. ¡Solo abre una plantilla y edítala!\",\"Details\":\"Detalles\",\"Get Started\":\"Comenzar\",\"Delete App\":\"Eliminar app\",\"Share Community News\":\"Comparte noticias de la comunidad\",\"Apps\":\"Apps\",\"scientist\":\"científico\",\"Join Webmaker\":\"Unirse a Webmaker\",\"Preview\":\"Previsualización\",\"Family\":\"Familia\",\"Image\":\"Imagen\",\"Sign In\":\"Conectarse\",\"Safety\":\"Seguridad\",\"Discover\":\"Descubrir\",\"Change\":\"Cambiar\",\"Make &amp; share the web\":\"Crear  y compartir la web\",\"errorAppNotFound\":\"Lo sentimos, esta app no fue encontrada. ¿Regresar a tu <a href='/profile'>perfil</a>?\",\"Name\":\"Nombre\",\"Near Me\":\"Cerca de mi\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Elegir esta opción te permitirá crear tu propia app sin hacer uso de una plantilla\",\"Untitled App\":\"App sin título\",\"activists\":\"activistas\",\"Done\":\"Hecho\",\"Delete\":\"Eliminar\",\"Apps I've Created\":\"Apps que he creado\",\"Phone\":\"Teléfono\",\"Email\":\"Correo\",\"Activist\":\"Activista\",\"SMS\":\"SMS\",\"Create a Blog\":\"Crear un Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Enviarme correos con las novedades de Mozilla Webmaker y otros proyectos\",\"share_message\":\"Revisa la app {{app.name}} que creé con Mozilla Webmaker\",\"Blogger\":\"Bloguero\",\"My {{template}} App\":\"Mi app de {{template}}\",\"Featured Apps\":\"Apps destacadas\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> de <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Color del texto\",\"students\":\"estudiantes\",\"Sorry, that name has already been snagged! Please try another.\":\"Lo sentimos, ¡ese nombre ya ha sido agarrado! Por favor, prueba con otro.\",\"Create and share app templates with people all around the world\":\"Crea y comparte plantillas de apps con personas de todo el mundo\",\"Teacher\":\"Profesor\",\"Start from Scratch\":\"Empezar de cero\",\"Offline Mode Explanation\":\"Este dispositivo no está conectado a Internet, por lo que no podrás publicar aplicaciones.\",\"Message\":\"Mensaje\",\"Share photos and write articles and about your local community\":\"Comparte fotos y escribe artículos sobre tu comunidad local\",\"by _\":\"por {{name}}\",\"Make an App\":\"Crear una app\",\"Remove\":\"Remover\",\"Sign Out\":\"Salir\",\"Delete my Apps\":\"Borrar mis apps\",\"vendors\":\"proveedores\",\"Medic\":\"Médico\",\"journalists\":\"periodistas\",\"Journalist\":\"Periodista\",\"parents\":\"padres\",\"Text Value\":\"Valor del texto\",\"I agree to your terms and conditions\":\"Acepto sus términos y condiciones\",\"My Apps\":\"Mis apps\",\"Cancel\":\"Cancelar\",\"Try in Offline Mode\":\"Probar en modo sin conexión\",\"Guest\":\"Invitado\",\"Try as Guest\":\"Probar como invitado\",\"No Apps Message\":\"En este momento no tienes ninguna app.\",\"Data\":\"Datos\",\"errorNoText\":\"Debes incluir un valor de texto\",\"Select Color\":\"Seleccionar color\",\"Location\":\"Ubicación\",\"Edit\":\"Editar\",\"Phone #\":\"Número de teléfono\",\"Save\":\"Guardar\",\"Create a Safety App\":\"Crear una app de seguridad\",\"Publish\":\"Publicar\",\"Choose a username\":\"Escoge un nombre de usuario\",\"errorDefault\":\"¡Chuta! Ocurrio un error. ¿Regresar a tu <a href='/profile'>perfil</a>?\",\"Label\":\"Etiqueta\",\"Create a How To Guide\":\"Crea una guía \\\"Hágalo usted mismo\\\"\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"¿Tienes algo para compartir con el mundo? Inicia un blog, personalizalo para hacerlo tuyo y ¡empieza a escribir!\",\"Edit my Profile\":\"Editar mi perfil\",\"Apps made by _\":\"Apps creadas por: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Realizar llamada\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"Si tienes habilidades únicas que quieres compartir con otros, intenta hacer una guía Hágalo usted mismo.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Añade un mapa, un botón de llamada de emergencia y otros consejos para mantenerse seguro en tu comunidad\",\"App\":\"App\",\"Make Your Own App\":\"Crea tu propia App\",\"Next\":\"Siguiente\",\"Text Box\":\"Caja de texto\",\"App Name & Icon\":\"Nombre de la app e ícono\",\"Share\":\"Compartir\",\"Promote your Business\":\"Promueve tu negocio\",\"Show off your products and give customers an easy way to reach you.\":\"Muestra tus productos y dale a los consumidores una forma fácil de encontrarte.\",\"Build a Lesson Plan\":\"Crea una planificación de clases\",\"Text\":\"Texto\",\"teachers\":\"profesores\",\"From Scratch\":\"De cero\",\"error404\":\"Lo sentimos, no pudimos encontrar esta página. ¿Te gustaría <a href='/sign-in'>regresar al inicio</a>?\",\"How To\":\"Tutorial\",\"doctors\":\"doctores\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"Si quieres compartir tus habilidades con otros, crea un plan de clases móvil y enseña lo que sabes\"},\"es-MX\":{\"Add a Brick\":\"Agregar un bloque\",\"Guest Explanation\":\"Los invitados pueden construir aplicaciones pero no las pueden publicar.\",\"Open\":\"Abrir\",\"Create\":\"Crear\",\"My Profile\":\"Mi perfil\",\"the web\":\"la web\",\"you\":\"tú\",\"Business\":\"Negocios\",\"You can create your own app. Just open a template and edit!\":\"Puedes crear tu propia aplicación; solo tiene que abrir una plantilla y editar.\",\"Details\":\"Detalles\",\"Get Started\":\"Comenzar\",\"Delete App\":\"Eliminar App\",\"Share Community News\":\"Compartir las noticias de la comunidad\",\"Apps\":\"Aplicaciones\",\"scientist\":\"científico\",\"Join Webmaker\":\"Únete a Webmaker\",\"Preview\":\"Vista preliminar\",\"Family\":\"Familia\",\"Image\":\"Imagen\",\"Sign In\":\"Conectar\",\"Safety\":\"Seguridad\",\"Discover\":\"Descubre\",\"Change\":\"Cambiar\",\"Make &amp; share the web\":\"Crear y compartir la web\",\"errorAppNotFound\":\"Lo sentimos, pero no se pudo encontrar esa aplicación. ¿Quieres regresar a tu <a href='/profile'>perfil</a>?\",\"Name\":\"Nombre\",\"Near Me\":\"Cerca de mí\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Esta opción te permitirá crear tu propia aplicación sin tener que utilizar una plantilla predeterminada.\",\"Untitled App\":\"App Sin Título\",\"activists\":\"activistas\",\"Done\":\"Terminado\",\"Delete\":\"Eliminar\",\"Apps I've Created\":\"Aplicaciones que he creado\",\"Phone\":\"Teléfono\",\"Email\":\"Correo electrónico\",\"Activist\":\"Activista\",\"SMS\":\"SMS\",\"Create a Blog\":\"Crear un blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Envíame un correo electrónico con las actualizaciones más recientes de Mozilla Webmaker y de otros proyectos.\",\"share_message\":\"Revisa la aplicación {{app.name}} que creé con Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"Mi aplicación {{template}}\",\"Featured Apps\":\"Aplicaciones destacadas\",\"Club\":\"Club\",\"name from location\":\"<strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> de <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Color del Texto\",\"students\":\"estudiantes\",\"Sorry, that name has already been snagged! Please try another.\":\"Lo sentimos pero este nombre ya ha sido tomado. Por favor, escoge otro.\",\"Create and share app templates with people all around the world\":\"Crea y comparte plantillas de aplicaciones con gente de todo el mundo\",\"Teacher\":\"Maestro\",\"Start from Scratch\":\"Empezar de cero\",\"Offline Mode Explanation\":\"Este dispositivo no está conectado al Internet así que no podrás publicar ninguna aplicación.\",\"Message\":\"Mensaje\",\"Share photos and write articles and about your local community\":\"Comparte fotos y escribe artículos sobre tu comunidad\",\"by _\":\"por {{nombre}}\",\"Make an App\":\"Crear una aplicación\",\"Remove\":\"Eliminar\",\"Sign Out\":\"Cerrar sesión\",\"Delete my Apps\":\"Borrar mis aplicaciones\",\"vendors\":\"proveedores\",\"Medic\":\"Médico\",\"journalists\":\"periodistas\",\"Journalist\":\"Periodista\",\"parents\":\"padres\",\"Text Value\":\"Valor del Texto\",\"I agree to your terms and conditions\":\"Acepto los términos y condiciones\",\"My Apps\":\"Mis aplicaciones\",\"Cancel\":\"Cancelar\",\"Try in Offline Mode\":\"Probar en modo fuera de línea\",\"Guest\":\"Invitado\",\"Try as Guest\":\"Pruébalo como invitado\",\"No Apps Message\":\"No tienes ninguna aplicación todavía.\",\"Data\":\"Datos\",\"errorNoText\":\"Debes incluir un valor de texto\",\"Select Color\":\"Seleccionar color\",\"Location\":\"Ubicación\",\"Edit\":\"Editar\",\"Phone #\":\"# de Teléfono\",\"Save\":\"Guardar\",\"Create a Safety App\":\"Crear una aplicación para la prevención\",\"Publish\":\"Publicar\",\"Choose a username\":\"Elige tu nombre de usuario\",\"errorDefault\":\"¡Ups! Hubo un error. ¿Quieres regresar a tu <a href='/profile'>profile</a>?\",\"Label\":\"Etiqueta\",\"Create a How To Guide\":\"Crear una guía práctica\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"¿Tiene algo que quieres compartir con el mundo? Inicia un blog, personalízalo, y comienza a escribir.\",\"Edit my Profile\":\"Editar mi perfil\",\"Apps made by _\":\"Aplicaciones realizadas por: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Hacer una llamada\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"Si tienes habilidades únicas y quieres compartirlas con los demás, intenta crear una guía práctica.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Agrega un mapa, un botón de emergencia y otros consejos que contribuyan a mantener segura tu comunidad.\",\"App\":\"Aplicación\",\"Make Your Own App\":\"Crear tu propia aplicación\",\"Next\":\"Siguiente\",\"Text Box\":\"Caja de texto\",\"App Name & Icon\":\"El nombre de la aplicación y el ícono\",\"Share\":\"Compartir\",\"Promote your Business\":\"Promociona tu negocio\",\"Show off your products and give customers an easy way to reach you.\":\"Presume tus productos y permíteles a los clientes ponerse en contacto contigo de manera fácil.\",\"Build a Lesson Plan\":\"Construir un plan de lección\",\"Text\":\"Texto\",\"teachers\":\"profesores\",\"From Scratch\":\"Empezar de cero\",\"error404\":\"Lo sentimos, pero no pudimos encontrar esa página. ¿Quieres <a href='/sign-in'>volver al inicio</a>?\",\"How To\":\"Cómo\",\"doctors\":\"doctores\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"Si quieres compartir tus habilidades con los demás, construye un plan de lección móvil y enseña lo que sabes.\"},\"fr\":{\"Add a Brick\":\"Ajouter une brique\",\"Guest Explanation\":\"Les Invités peuvent développer des applications, mais ne peuvent les publier.\",\"Open\":\"Ouvrir\",\"Create\":\"Créer\",\"My Profile\":\"Mon profil\",\"the web\":\"le web\",\"you\":\"vous\",\"Business\":\"Affaires\",\"You can create your own app. Just open a template and edit!\":\"Vous pouvez créer votre propre app. Il suffit d'ouvrir le modèle et de le modifier !\",\"Details\":\"Détails\",\"Get Started\":\"Commencer\",\"Delete App\":\"Effacer l'application\",\"Share Community News\":\"Partagez vos actualités avec la Communauté\",\"Apps\":\"Applications\",\"scientist\":\"scientifique\",\"Join Webmaker\":\"Rejoignez Webmaker\",\"Preview\":\"Aperçu\",\"Family\":\"Famille\",\"Image\":\"Image\",\"Sign In\":\"Connexion\",\"Safety\":\"Sécurité\",\"Discover\":\"Explorer\",\"Change\":\"Modifier\",\"Make &amp; share the web\":\"Créez & partagez le Web\",\"errorAppNotFound\":\"Désolé, l'application est introuvable. Souhaitez-vous revenir à votre <a href='/profile'>profil</a>?\",\"Name\":\"Nom\",\"Near Me\":\"Près de moi\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choisir cette option vous permettra de créer votre propre application sans modèle prédéfini.\",\"Untitled App\":\"Application sans titre\",\"activists\":\"activistes\",\"Done\":\"Terminé\",\"Delete\":\"Supprimer\",\"Apps I've Created\":\"Applis que j'ai créées\",\"Phone\":\"Téléphone\",\"Email\":\"Adresse électronique\",\"Activist\":\"Activiste\",\"SMS\":\"SMS\",\"Create a Blog\":\"Créer un Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"M'avertir des mises à jour pour Mozilla Webmaker et autres projets\",\"share_message\":\"Venez voir l'application \\\"{{app.name}}\\\" que j'ai créé avec Mozilla Webmaker\",\"Blogger\":\"Bloggueur\",\"My {{template}} App\":\"Mon {{template}} Application\",\"Featured Apps\":\"Applications sélectionnées\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> de <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Couleur du texte\",\"students\":\"étudiants\",\"Sorry, that name has already been snagged! Please try another.\":\"Désolé, ce nom est déjà utilisé! Veuillez utiliser un nom différent.\",\"Create and share app templates with people all around the world\":\"Créer et partager app modèles avec des personnes autour du monde\",\"Teacher\":\"Enseignant\",\"Start from Scratch\":\"Démarrer de zéro\",\"Offline Mode Explanation\":\"Cet appareil n'étant pas connecté à internet, vous ne pourrez pas publier d'application.\",\"Message\":\"Message\",\"Share photos and write articles and about your local community\":\"Partagez des photos et écrivez des articles en rapport avec votre communauté locale\",\"by _\":\"par {{name}}\",\"Make an App\":\"Créer une Appli\",\"Remove\":\"Supprimer\",\"Sign Out\":\"Déconnexion\",\"Delete my Apps\":\"Supprimer mes Applis\",\"vendors\":\"vendeurs\",\"Medic\":\"Médical\",\"journalists\":\"journalistes\",\"Journalist\":\"Journaliste\",\"parents\":\"parents\",\"Text Value\":\"Texte\",\"I agree to your terms and conditions\":\"J'accepte les termes et les conditions d'utilisation\",\"My Apps\":\"Mes Applis\",\"Cancel\":\"Annuler\",\"Try in Offline Mode\":\"Essayer en mode Hors Ligne\",\"Guest\":\"Invité\",\"Try as Guest\":\"Essayer en tant qu'Invité\",\"No Apps Message\":\"Vous n'avez aucune application.\",\"Data\":\"Données\",\"errorNoText\":\"Vous devez inclure du texte\",\"Select Color\":\"Sélectionner une couleur\",\"Location\":\"Habite à\",\"Edit\":\"Modifier\",\"Phone #\":\"No de téléphone\",\"Save\":\"Enregistrer\",\"Create a Safety App\":\"Créer une application sûre.\",\"Publish\":\"Publier\",\"Choose a username\":\"Choisissez un nom d'utilisateur\",\"errorDefault\":\"Oups! Une erreur s'est produite. Souhaitez-vous revenir à votre <a href='/profile'>profil</a>?\",\"Label\":\"Intitulé\",\"Create a How To Guide\":\"Créer un guide pratique\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Vous avez quelque chose à partager avec le monde ? Lancez un blog, personnalisez le afin de le faire à votre image et commencez à écrire !\",\"Edit my Profile\":\"Modifier mon profil\",\"Apps made by _\":\"Applis créées par : <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Passer un appel\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"Si vous avez des compétences particulières que vous désirez partager avec d'autres, essayer de réaliser un guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Ajouter une carte, un bouton d'appel d'urgence, et d'autres conseils pour préserver la sécurité de la communauté.\",\"App\":\"Application\",\"Make Your Own App\":\"Créez votre propre Appli\",\"Next\":\"Suivant\",\"Text Box\":\"Boîte de dialogue.\",\"App Name & Icon\":\"Nom et icône de l'App\",\"Share\":\"Partager\",\"Promote your Business\":\"Promouvoir votre entreprise\",\"Show off your products and give customers an easy way to reach you.\":\"Affichez vos produits et offrez aux clients un moyen facile de vous contacter.\",\"Build a Lesson Plan\":\"Créer un plan de leçon\",\"Text\":\"Texte\",\"teachers\":\"enseignants\",\"From Scratch\":\"Démarrer de zéro\",\"error404\":\"Désolé, la page demandée n'a pas pu être trouvée. Souhaitez vous <a href='/sign-in'>revenir à l'accueil</a>?\",\"How To\":\"Tutoriel\",\"doctors\":\"docteurs\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"Si vous souhaitez partager vos compétences avec les autres, créez un planning de leçon mobile et enseigner ce que vous savez\"},\"id\":{\"Add a Brick\":\"Tambahkan Bata\",\"Guest Explanation\":\"Tamu dapat membuat, tapi tidak mempublikasikan aplikasi.\",\"Open\":\"Buka\",\"Create\":\"Ciptakan\",\"My Profile\":\"Profil Saya\",\"the web\":\"web\",\"you\":\"Anda\",\"Business\":\"Business\",\"You can create your own app. Just open a template and edit!\":\"Anda dapat membuat aplikasi Anda sendiri. Cukup dengan membuka sebuah contoh dan edit!\",\"Details\":\"Detail\",\"Get Started\":\"Mulai\",\"Delete App\":\"Hapus Aplikasi\",\"Share Community News\":\"Share Community News\",\"Apps\":\"Aplikasi\",\"scientist\":\"ilmuwan\",\"Join Webmaker\":\"Bergabung dengan Webmaker\",\"Preview\":\"Pratinjau\",\"Family\":\"Keluarga\",\"Image\":\"Gambar\",\"Sign In\":\"Masuk\",\"Safety\":\"Keselamatan\",\"Discover\":\"Jajaki\",\"Change\":\"Ubah\",\"Make &amp; share the web\":\"Buat &amp; berbagi dengan web\",\"errorAppNotFound\":\"Maaf, aplikasi ini tidak ditemukan. Kembali ke <a href='/profile'>profil</a> Anda?\",\"Name\":\"Nama\",\"Near Me\":\"Dekat Saya\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Untitled App\":\"Aplikasi Tanpa Nama\",\"activists\":\"aktivis\",\"Done\":\"Selesai\",\"Delete\":\"Hapus\",\"Apps I've Created\":\"Aplikasi Buatan Saya\",\"Phone\":\"Telepon\",\"Email\":\"Surel\",\"Activist\":\"Aktivis\",\"SMS\":\"SMS\",\"Create a Blog\":\"Create a Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Kirimi saya kabar terbaru tentang Mozilla Webmaker dan proyek lainnya\",\"share_message\":\"Lihatlah aplikasi {{app.name}} yang saya buat dengan Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"Aplikasi {{template}} Saya\",\"Featured Apps\":\"Aplikasi Unggulan\",\"Club\":\"Klub\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> dari <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Warna Text\",\"students\":\"pelajar\",\"Sorry, that name has already been snagged! Please try another.\":\"Maaf, nama itu telah disambar! Silakan coba yang lain.\",\"Create and share app templates with people all around the world\":\"Buat dan bagikan contoh aplikasi kepada orang-orang diseluruh dunia\",\"Teacher\":\"Guru\",\"Start from Scratch\":\"Start from Scratch\",\"Offline Mode Explanation\":\"Peranti ini tidak tersambung ke internet, Anda tidak dapat mempublikasikan aplikasi apapun. \",\"Message\":\"Pesan\",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"by _\":\"oleh {{name}}\",\"Make an App\":\"Buat Aplikasi\",\"Remove\":\"Buang\",\"Sign Out\":\"Keluar\",\"Delete my Apps\":\"Hapus Aplikasi saya\",\"vendors\":\"penjual\",\"Medic\":\"Kesehatan\",\"journalists\":\"jurnalis\",\"Journalist\":\"Jurnalis\",\"parents\":\"orang tua\",\"Text Value\":\"Nilai Text\",\"I agree to your terms and conditions\":\"Saya setuju dengan syarat dan ketentuan anda\",\"My Apps\":\"Aplikasi Saya\",\"Cancel\":\"Batal\",\"Try in Offline Mode\":\"Cobalah dalam Mode Luring\",\"Guest\":\"Tamu\",\"Try as Guest\":\"Coba sebagai Tamu\",\"No Apps Message\":\"Anda belum punya aplikasi.\",\"Data\":\"Data\",\"errorNoText\":\"Anda harus sertakan nilai teks\",\"Select Color\":\"Pilih Warna\",\"Location\":\"Lokasi\",\"Edit\":\"Edit\",\"Phone #\":\"Telepon #\",\"Save\":\"Simpan\",\"Create a Safety App\":\"Create a Safety App\",\"Publish\":\"Terbitkan\",\"Choose a username\":\"Pilih nama pengguna\",\"errorDefault\":\"Ups! Terjadi galat. Kembali ke <a href='/profile'>profil</a> Anda?\",\"Label\":\"Label\",\"Create a How To Guide\":\"Create a How To Guide\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Edit my Profile\":\"Edit Profil saya\",\"Apps made by _\":\"Aplikasi dibuat oleh: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Letakkan panggilan\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"App\":\"Aplikasi\",\"Make Your Own App\":\"Make Your Own App\",\"Next\":\"Selanjutnya\",\"Text Box\":\"Text Box\",\"App Name & Icon\":\"Nama dan Ikon Aplikasi\",\"Share\":\"Bagikan\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"Text\":\"Teks\",\"teachers\":\"guru\",\"From Scratch\":\"Dari Awal\",\"error404\":\"Maaf, kami tidak menemukan laman ini. Apakah anda ingin <a href='/sign-in'>kembali ke awal</a>?\",\"How To\":\"Instruksi\",\"doctors\":\"dokter\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\"},\"nl\":{\"Add a Brick\":\"Een bouwsteen toevoegen\",\"Guest Explanation\":\"Gasten kunnen Apps maken, maar niet publiceren.\",\"Open\":\"Open\",\"Create\":\"Maak\",\"My Profile\":\"Mijn profiel\",\"the web\":\"het web\",\"you\":\"u\",\"Business\":\"Zakelijk\",\"You can create your own app. Just open a template and edit!\":\"U kunt uw eigen app maken. Open gewoon een sjabloon en bewerk deze!\",\"Details\":\"Details\",\"Get Started\":\"Begin nu\",\"Delete App\":\"Verwijder de App\",\"Share Community News\":\"Deel nieuws van de gemeenschap\",\"Apps\":\"Apps\",\"scientist\":\"wetenschapper\",\"Join Webmaker\":\"Meld u aan bij Webmaker\",\"Preview\":\"Voorbeeld\",\"Family\":\"Familie\",\"Image\":\"Afbeelding\",\"Sign In\":\"Log In\",\"Safety\":\"Veiligheid\",\"Discover\":\"Ontdekken\",\"Change\":\"Wijzig\",\"Make &amp; share the web\":\"Maak en deel het web\",\"errorAppNotFound\":\"Sorry, deze App is niet gevonden. Ga terug naar uw <a href='/profile'>profiel</a>?\",\"Name\":\"Naam\",\"Near Me\":\"Dicht bij mij\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Met deze optie kunt u uw eigen app maken zonder een sjabloon.\",\"Untitled App\":\"Naamloze App\",\"activists\":\"activisten\",\"Done\":\"Klaar\",\"Delete\":\"Verwijderen\",\"Apps I've Created\":\"Apps die ik heb gemaakt\",\"Phone\":\"Telefoon\",\"Email\":\"E-mailadres\",\"Activist\":\"Activist\",\"SMS\":\"sms\",\"Create a Blog\":\"Maak een blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Stuur mij e-mailupdates over Mozilla Webmaker en andere projecten\",\"share_message\":\"Kijk eens naar deze app {{app.name}} die ik gemaakt heb met Mozilla Webmaker\",\"Blogger\":\"Blogger\",\"My {{template}} App\":\"Mijn {{template}} App\",\"Featured Apps\":\"Uitgelichte Apps\",\"Club\":\"Club\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> uit <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Tekstkleur\",\"students\":\"studenten\",\"Sorry, that name has already been snagged! Please try another.\":\"Sorry, die naam is al door iemand anders gebruikt! Probeer een andere.\",\"Create and share app templates with people all around the world\":\"Maak en deel app-sjablonen met mensen van over de hele wereld\",\"Teacher\":\"Leraar\",\"Start from Scratch\":\"Begin opnieuw\",\"Offline Mode Explanation\":\"Dit apparaat is niet verbonden met het internet, dus u zult geen Apps kunnen publiceren.\",\"Message\":\"Bericht\",\"Share photos and write articles and about your local community\":\"Deel foto's en schrijf artikelen over uw lokale gemeenschap\",\"by _\":\"door {{name}}\",\"Make an App\":\"Maak een App\",\"Remove\":\"Verwijder\",\"Sign Out\":\"Afmelden\",\"Delete my Apps\":\"Verwijder mijn Apps\",\"vendors\":\"uitgevers\",\"Medic\":\"Dokter\",\"journalists\":\"journalisten\",\"Journalist\":\"Journalist\",\"parents\":\"ouders\",\"Text Value\":\"Tekstwaarde\",\"I agree to your terms and conditions\":\"Ik ga akkoord met de voorwaarden\",\"My Apps\":\"Mijn Apps\",\"Cancel\":\"Annuleren\",\"Try in Offline Mode\":\"Probeer in offlinemodus\",\"Guest\":\"Gast\",\"Try as Guest\":\"Probeer als een gast\",\"No Apps Message\":\"U heeft nog geen apps.\",\"Data\":\"Gegevens\",\"errorNoText\":\"U moet een tekstwaarde invullen\",\"Select Color\":\"Selecteer een kleur\",\"Location\":\"Locatie\",\"Edit\":\"Bewerken\",\"Phone #\":\"Telefoon #\",\"Save\":\"Opslaan\",\"Create a Safety App\":\"Maak een veiligheidsapp\",\"Publish\":\"Publiceren\",\"Choose a username\":\"Kies een gebruikersnaam\",\"errorDefault\":\"Oeps! Er was een fout. Ga terug naar uw <a href='/profile'>profiel</a>?\",\"Label\":\"Label\",\"Create a How To Guide\":\"Maak een handleiding\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Heeft u de wereld iets te vertellen? Start een blog, pas het aan om het van uzelf te maken en start met schrijven.\",\"Edit my Profile\":\"Mijn profiel bewerken\",\"Apps made by _\":\"Apps gemaakt door: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Nummer bellen\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"Als u unieke vaardigheden bezit die u met anderen wilt delen, maak dan eens een handleiding.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Voeg een kaart toe, of een knop voor hulpdiensten en andere tips om veilig te blijven in uw gemeenschap\",\"App\":\"App\",\"Make Your Own App\":\"Maak uw eigen App\",\"Next\":\"Volgende\",\"Text Box\":\"Tekstvak\",\"App Name & Icon\":\"App-naam & -icoon\",\"Share\":\"Delen\",\"Promote your Business\":\"Promoot uw zaken\",\"Show off your products and give customers an easy way to reach you.\":\"Toon uw producten en geef klanten een gemakkelijke manier om u te bereiken,\",\"Build a Lesson Plan\":\"Maak een lesplan\",\"Text\":\"Tekst\",\"teachers\":\"onderwijzers\",\"From Scratch\":\"Helemaal opnieuw\",\"error404\":\"Sorry, wij konden deze pagina niet vinden. Zou u <a href='/sign-in'>terug naar het begin</a> willen gaan?\",\"How To\":\"Hoe\",\"doctors\":\"dokters\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"Als u uw vaardigheden wilt delen met anderen, maak dan een mobiel lesplan en onderwijs wat u weet\"},\"sv\":{\"Add a Brick\":\"Add a Brick\",\"Guest Explanation\":\"Gäster kan bygga, men inte publicera appar.\",\"Open\":\"Öppna\",\"Create\":\"Skapa\",\"My Profile\":\"Min profil\",\"the web\":\"Webben\",\"you\":\"dig\",\"Business\":\"Business\",\"You can create your own app. Just open a template and edit!\":\"Du kan skapa din egna app. Öppna bara en mall och editera!\",\"Details\":\"Detaljer\",\"Get Started\":\"Kom igång\",\"Delete App\":\"Radera App\",\"Share Community News\":\"Share Community News\",\"Apps\":\"Appar\",\"scientist\":\"forskare\",\"Join Webmaker\":\"Gå med i Webmaker\",\"Preview\":\"Förhandsgranska\",\"Family\":\"Familj\",\"Image\":\"Bild\",\"Sign In\":\"Logga In\",\"Safety\":\"Säkerhet\",\"Discover\":\"Upptäck\",\"Change\":\"Ändra\",\"Make &amp; share the web\":\"Make &amp; share the web\",\"errorAppNotFound\":\"Ursäkta, den här appen gick inte att hitta. Gå tillbaka till din <a href='/profile'>profil</a>?\",\"Name\":\"Namn\",\"Near Me\":\"Nära Mig\",\"Choosing this option will allow you to create your own app without a preset template.\":\"Choosing this option will allow you to create your own app without a preset template.\",\"Untitled App\":\"Ej namngiven App\",\"activists\":\"aktivister \",\"Done\":\"Färdig\",\"Delete\":\"Ta bort\",\"Apps I've Created\":\"Appar jag har skapat\",\"Phone\":\"Telefon\",\"Email\":\"Epost\",\"Activist\":\"Aktivist\",\"SMS\":\"SMS\",\"Create a Blog\":\"Create a Blog\",\"Send me email updates about Mozilla Webmaker and other projects\":\"Skicka mig email-uppdateringar om Mozilla Webmaker och andra projekt\",\"share_message\":\"Kolla in appen {{app.name}} som jag gjorde med Mozilla Webmaker\",\"Blogger\":\"Bloggare\",\"My {{template}} App\":\"Min {{mall}} App\",\"Featured Apps\":\"Presenterade Appar\",\"Club\":\"Klubb\",\"name from location\":\" <strong>{{name}}</strong><span v-if=\\\"location\\\"><br/> från <br/></span><strong>{{location}}</strong>\",\"Text Colour\":\"Textfärg\",\"students\":\"studenter\",\"Sorry, that name has already been snagged! Please try another.\":\"Ursäkta, det namnet är redan taget! Försök med ett annat.\",\"Create and share app templates with people all around the world\":\"Skapa och dela app mallar med folk runt om i världen\",\"Teacher\":\"Lärare\",\"Start from Scratch\":\"Start from Scratch\",\"Offline Mode Explanation\":\"Den här enheten är inte uppkopplad till internet, så du kan inte publicera några appar.\",\"Message\":\"Meddelande \",\"Share photos and write articles and about your local community\":\"Share photos and write articles and about your local community\",\"by _\":\"av {{name}}\",\"Make an App\":\"Gör en App\",\"Remove\":\"Radera\",\"Sign Out\":\"Logga Ut\",\"Delete my Apps\":\"Radera mina Appar\",\"vendors\":\"utvecklare\",\"Medic\":\"Läkare\",\"journalists\":\"journalister\",\"Journalist\":\"Journalist\",\"parents\":\"föräldrar\",\"Text Value\":\"Textvärde\",\"I agree to your terms and conditions\":\"Jag går med på dina villkor\",\"My Apps\":\"Mina Appar\",\"Cancel\":\"Avbryt\",\"Try in Offline Mode\":\"Försök i Offline Läge\",\"Guest\":\"Gäst\",\"Try as Guest\":\"Försök som Gäst\",\"No Apps Message\":\"Du har inga appar ännu.\",\"Data\":\"Data\",\"errorNoText\":\"You must include a text value\",\"Select Color\":\"Välj Färg\",\"Location\":\"Område\",\"Edit\":\"Redigera\",\"Phone #\":\"Telefon #\",\"Save\":\"Spara\",\"Create a Safety App\":\"Create a Safety App\",\"Publish\":\"Publicera \",\"Choose a username\":\"Välj ett användarnamn\",\"errorDefault\":\"Oops! Det blev ett fel. Gå tillbaka till din <a href='/profile'>profil</a>?\",\"Label\":\"Etikett\",\"Create a How To Guide\":\"Create a How To Guide\",\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\":\"Have something to share with the world? Start a blog, customize to make it yours and start writing!\",\"Edit my Profile\":\"Redigera min Profil\",\"Apps made by _\":\"Appar gjorda av: <span v-cycle=\\\"personas\\\"></span>\",\"Place call\":\"Samtal\",\"If you've got unique skills you'd like to share with others, try making a How To guide.\":\"If you've got unique skills you'd like to share with others, try making a How To guide.\",\"Add a map, a emergency call button, and other tips to keep safe in your community\":\"Add a map, a emergency call button, and other tips to keep safe in your community\",\"App\":\"App\",\"Make Your Own App\":\"Make Your Own App\",\"Next\":\"Nästa\",\"Text Box\":\"Text Box\",\"App Name & Icon\":\"App Name & Icon\",\"Share\":\"Dela\",\"Promote your Business\":\"Promote your Business\",\"Show off your products and give customers an easy way to reach you.\":\"Show off your products and give customers an easy way to reach you.\",\"Build a Lesson Plan\":\"Build a Lesson Plan\",\"Text\":\"Text\",\"teachers\":\"lärare\",\"From Scratch\":\"Från Början\",\"error404\":\"Ursäkta, vi kunde inte hitta sidan. Vill ni <a href='/sign-in'>gå tillbaka till start</a>?\",\"How To\":\"Hur Man Gör\",\"doctors\":\"doktorer\",\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\":\"If you want to share your skills with others, build a mobile lesson plan and teach what you know\"}};",
    "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    if (encoding === 'base64')\n      subject = base64clean(subject)\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new TypeError('must start with number, buffer, array or string')\n\n  if (this.length > kMaxLength)\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n      'size: 0x' + kMaxLength.toString(16) + ' bytes')\n\n  var buf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n    throw new TypeError('Arguments must be Buffers')\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase)\n          throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  if(!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max)\n      str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(byte)) throw new Error('Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  return asciiSlice(buf, start, end)\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0)\n    throw new RangeError('offset is not uint')\n  if (offset + ext > length)\n    throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n      ((this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      this[offset + 3])\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80))\n    return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16) |\n      (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n      (this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  if (end < start) throw new TypeError('sourceEnd < sourceStart')\n  if (target_start < 0 || target_start >= target.length)\n    throw new TypeError('targetStart out of bounds')\n  if (start < 0 || start >= source.length) throw new TypeError('sourceStart out of bounds')\n  if (end < 0 || end > source.length) throw new TypeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new TypeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new TypeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new TypeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F) {\n      byteArray.push(b)\n    } else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++) {\n        byteArray.push(parseInt(h[j], 16))\n      }\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n",
    "var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n",
    "exports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n",
    "\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n",
    "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n",
    "// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canMutationObserver = typeof window !== 'undefined'\n    && window.MutationObserver;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    var queue = [];\n\n    if (canMutationObserver) {\n        var hiddenDiv = document.createElement(\"div\");\n        var observer = new MutationObserver(function () {\n            var queueList = queue.slice();\n            queue.length = 0;\n            queueList.forEach(function (fn) {\n                fn();\n            });\n        });\n\n        observer.observe(hiddenDiv, { attributes: true });\n\n        return function nextTick(fn) {\n            if (!queue.length) {\n                hiddenDiv.setAttribute('yes', 'no');\n            }\n            queue.push(fn);\n        };\n    }\n\n    if (canPost) {\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n",
    "(function (global){\n/*! http://mths.be/punycode v1.2.4 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^ -~]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /\\x2E|\\u3002|\\uFF0E|\\uFF61/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\twhile (length--) {\n\t\t\tarray[length] = fn(array[length]);\n\t\t}\n\t\treturn array;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings.\n\t * @private\n\t * @param {String} domain The domain name.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\treturn map(string.split(regexSeparators), fn).join('.');\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <http://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols to a Punycode string of ASCII-only\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name to Unicode. Only the\n\t * Punycoded parts of the domain name will be converted, i.e. it doesn't\n\t * matter if you call it on a string that has already been converted to\n\t * Unicode.\n\t * @memberOf punycode\n\t * @param {String} domain The Punycode domain name to convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(domain) {\n\t\treturn mapDomain(domain, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name to Punycode. Only the\n\t * non-ASCII parts of the domain name will be converted, i.e. it doesn't\n\t * matter if you call it with a domain that's already in ASCII.\n\t * @memberOf punycode\n\t * @param {String} domain The domain name to convert, as a Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name.\n\t */\n\tfunction toASCII(domain) {\n\t\treturn mapDomain(domain, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.2.4',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <http://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n",
    "'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n",
    "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar punycode = require('punycode');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a puny coded representation of \"domain\".\n      // It only converts the part of the domain name that\n      // has non ASCII characters. I.e. it dosent matter if\n      // you call it with a domain that already is in ASCII.\n      var domainArray = this.hostname.split('.');\n      var newOut = [];\n      for (var i = 0; i < domainArray.length; ++i) {\n        var s = domainArray[i];\n        newOut.push(s.match(/[^A-Za-z0-9_-]/) ?\n            'xn--' + punycode.encode(s) : s);\n      }\n      this.hostname = newOut.join('.');\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  Object.keys(this).forEach(function(k) {\n    result[k] = this[k];\n  }, this);\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    Object.keys(relative).forEach(function(k) {\n      if (k !== 'protocol')\n        result[k] = relative[k];\n    });\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      Object.keys(relative).forEach(function(k) {\n        result[k] = relative[k];\n      });\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especialy happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!isNull(result.pathname) || !isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host) && (last === '.' || last === '..') ||\n      last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last == '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especialy happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!isNull(result.pathname) || !isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\nfunction isString(arg) {\n  return typeof arg === \"string\";\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isNull(arg) {\n  return arg === null;\n}\nfunction isNullOrUndefined(arg) {\n  return  arg == null;\n}\n",
    "module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}",
    "(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "(function (Buffer){\n'use strict';\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n// shim for Node's 'util' package\n// DO NOT REMOVE THIS! It is required for compatibility with EnderJS (http://enderjs.com/).\nvar util = {\n  isArray: function (ar) {\n    return Array.isArray(ar) || (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n  },\n  isDate: function (d) {\n    return typeof d === 'object' && objectToString(d) === '[object Date]';\n  },\n  isRegExp: function (re) {\n    return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n  },\n  getRegExpFlags: function (re) {\n    var flags = '';\n    re.global && (flags += 'g');\n    re.ignoreCase && (flags += 'i');\n    re.multiline && (flags += 'm');\n    return flags;\n  }\n};\n\n\nif (typeof module === 'object')\n  module.exports = clone;\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\n\nfunction clone(parent, circular, depth, prototype) {\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (util.isArray(parent)) {\n      child = [];\n    } else if (util.isRegExp(parent)) {\n      child = new RegExp(parent.source, util.getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (util.isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') child = Object.create(Object.getPrototypeOf(parent));\n      else child = Object.create(prototype);\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n}).call(this,require(\"buffer\").Buffer)",
    "/**\n * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n *\n * @version 1.0.3\n * @codingstandard ftlabs-jsv2\n * @copyright The Financial Times Limited [All Rights Reserved]\n * @license MIT License (see LICENSE.txt)\n */\n\n/*jslint browser:true, node:true*/\n/*global define, Event, Node*/\n\n\n/**\n * Instantiate fast-clicking listeners on the specified layer.\n *\n * @constructor\n * @param {Element} layer The layer to listen on\n * @param {Object} options The options to override the defaults\n */\nfunction FastClick(layer, options) {\n\t'use strict';\n\tvar oldOnClick;\n\n\toptions = options || {};\n\n\t/**\n\t * Whether a click is currently being tracked.\n\t *\n\t * @type boolean\n\t */\n\tthis.trackingClick = false;\n\n\n\t/**\n\t * Timestamp for when click tracking started.\n\t *\n\t * @type number\n\t */\n\tthis.trackingClickStart = 0;\n\n\n\t/**\n\t * The element being tracked for a click.\n\t *\n\t * @type EventTarget\n\t */\n\tthis.targetElement = null;\n\n\n\t/**\n\t * X-coordinate of touch start event.\n\t *\n\t * @type number\n\t */\n\tthis.touchStartX = 0;\n\n\n\t/**\n\t * Y-coordinate of touch start event.\n\t *\n\t * @type number\n\t */\n\tthis.touchStartY = 0;\n\n\n\t/**\n\t * ID of the last touch, retrieved from Touch.identifier.\n\t *\n\t * @type number\n\t */\n\tthis.lastTouchIdentifier = 0;\n\n\n\t/**\n\t * Touchmove boundary, beyond which a click will be cancelled.\n\t *\n\t * @type number\n\t */\n\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t/**\n\t * The FastClick layer.\n\t *\n\t * @type Element\n\t */\n\tthis.layer = layer;\n\n\t/**\n\t * The minimum time between tap(touchstart and touchend) events\n\t *\n\t * @type number\n\t */\n\tthis.tapDelay = options.tapDelay || 200;\n\n\tif (FastClick.notNeeded(layer)) {\n\t\treturn;\n\t}\n\n\t// Some old versions of Android don't have Function.prototype.bind\n\tfunction bind(method, context) {\n\t\treturn function() { return method.apply(context, arguments); };\n\t}\n\n\n\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\tvar context = this;\n\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t}\n\n\t// Set up event handlers as required\n\tif (deviceIsAndroid) {\n\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t}\n\n\tlayer.addEventListener('click', this.onClick, true);\n\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t// layer when they are cancelled.\n\tif (!Event.prototype.stopImmediatePropagation) {\n\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\tif (type === 'click') {\n\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t} else {\n\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t}\n\t\t};\n\n\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\tif (type === 'click') {\n\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t}\n\t\t\t\t}), capture);\n\t\t\t} else {\n\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t}\n\t\t};\n\t}\n\n\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t// adding it as listener.\n\tif (typeof layer.onclick === 'function') {\n\n\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t// - the old one won't work if passed to addEventListener directly.\n\t\toldOnClick = layer.onclick;\n\t\tlayer.addEventListener('click', function(event) {\n\t\t\toldOnClick(event);\n\t\t}, false);\n\t\tlayer.onclick = null;\n\t}\n}\n\n\n/**\n * Android requires exceptions.\n *\n * @type boolean\n */\nvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0;\n\n\n/**\n * iOS requires exceptions.\n *\n * @type boolean\n */\nvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent);\n\n\n/**\n * iOS 4 requires an exception for select elements.\n *\n * @type boolean\n */\nvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n/**\n * iOS 6.0(+?) requires the target element to be manually derived\n *\n * @type boolean\n */\nvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS ([6-9]|\\d{2})_\\d/).test(navigator.userAgent);\n\n/**\n * BlackBerry requires exceptions.\n *\n * @type boolean\n */\nvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n/**\n * Determine whether a given element requires a native click.\n *\n * @param {EventTarget|Element} target Target DOM element\n * @returns {boolean} Returns true if the element needs a native click\n */\nFastClick.prototype.needsClick = function(target) {\n\t'use strict';\n\tswitch (target.nodeName.toLowerCase()) {\n\n\t// Don't send a synthetic click to disabled inputs (issue #62)\n\tcase 'button':\n\tcase 'select':\n\tcase 'textarea':\n\t\tif (target.disabled) {\n\t\t\treturn true;\n\t\t}\n\n\t\tbreak;\n\tcase 'input':\n\n\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\treturn true;\n\t\t}\n\n\t\tbreak;\n\tcase 'label':\n\tcase 'video':\n\t\treturn true;\n\t}\n\n\treturn (/\\bneedsclick\\b/).test(target.className);\n};\n\n\n/**\n * Determine whether a given element requires a call to focus to simulate click into element.\n *\n * @param {EventTarget|Element} target Target DOM element\n * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n */\nFastClick.prototype.needsFocus = function(target) {\n\t'use strict';\n\tswitch (target.nodeName.toLowerCase()) {\n\tcase 'textarea':\n\t\treturn true;\n\tcase 'select':\n\t\treturn !deviceIsAndroid;\n\tcase 'input':\n\t\tswitch (target.type) {\n\t\tcase 'button':\n\t\tcase 'checkbox':\n\t\tcase 'file':\n\t\tcase 'image':\n\t\tcase 'radio':\n\t\tcase 'submit':\n\t\t\treturn false;\n\t\t}\n\n\t\t// No point in attempting to focus disabled inputs\n\t\treturn !target.disabled && !target.readOnly;\n\tdefault:\n\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t}\n};\n\n\n/**\n * Send a click event to the specified element.\n *\n * @param {EventTarget|Element} targetElement\n * @param {Event} event\n */\nFastClick.prototype.sendClick = function(targetElement, event) {\n\t'use strict';\n\tvar clickEvent, touch;\n\n\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\tdocument.activeElement.blur();\n\t}\n\n\ttouch = event.changedTouches[0];\n\n\t// Synthesise a click event, with an extra attribute so it can be tracked\n\tclickEvent = document.createEvent('MouseEvents');\n\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\tclickEvent.forwardedTouchEvent = true;\n\ttargetElement.dispatchEvent(clickEvent);\n};\n\nFastClick.prototype.determineEventType = function(targetElement) {\n\t'use strict';\n\n\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\treturn 'mousedown';\n\t}\n\n\treturn 'click';\n};\n\n\n/**\n * @param {EventTarget|Element} targetElement\n */\nFastClick.prototype.focus = function(targetElement) {\n\t'use strict';\n\tvar length;\n\n\t// Issue #160: on iOS 7, some input elements (e.g. date datetime) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time') {\n\t\tlength = targetElement.value.length;\n\t\ttargetElement.setSelectionRange(length, length);\n\t} else {\n\t\ttargetElement.focus();\n\t}\n};\n\n\n/**\n * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n *\n * @param {EventTarget|Element} targetElement\n */\nFastClick.prototype.updateScrollParent = function(targetElement) {\n\t'use strict';\n\tvar scrollParent, parentElement;\n\n\tscrollParent = targetElement.fastClickScrollParent;\n\n\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t// target element was moved to another parent.\n\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\tparentElement = targetElement;\n\t\tdo {\n\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\tscrollParent = parentElement;\n\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tparentElement = parentElement.parentElement;\n\t\t} while (parentElement);\n\t}\n\n\t// Always update the scroll top tracker if possible.\n\tif (scrollParent) {\n\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t}\n};\n\n\n/**\n * @param {EventTarget} targetElement\n * @returns {Element|EventTarget}\n */\nFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\t'use strict';\n\n\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\treturn eventTarget.parentNode;\n\t}\n\n\treturn eventTarget;\n};\n\n\n/**\n * On touch start, record the position and scroll offset.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchStart = function(event) {\n\t'use strict';\n\tvar targetElement, touch, selection;\n\n\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\tif (event.targetTouches.length > 1) {\n\t\treturn true;\n\t}\n\n\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\ttouch = event.targetTouches[0];\n\n\tif (deviceIsIOS) {\n\n\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\tselection = window.getSelection();\n\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!deviceIsIOS4) {\n\n\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\tthis.updateScrollParent(targetElement);\n\t\t}\n\t}\n\n\tthis.trackingClick = true;\n\tthis.trackingClickStart = event.timeStamp;\n\tthis.targetElement = targetElement;\n\n\tthis.touchStartX = touch.pageX;\n\tthis.touchStartY = touch.pageY;\n\n\t// Prevent phantom clicks on fast double-tap (issue #36)\n\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\tevent.preventDefault();\n\t}\n\n\treturn true;\n};\n\n\n/**\n * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.touchHasMoved = function(event) {\n\t'use strict';\n\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n\n/**\n * Update the last position.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchMove = function(event) {\n\t'use strict';\n\tif (!this.trackingClick) {\n\t\treturn true;\n\t}\n\n\t// If the touch has moved, cancel the click tracking\n\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t}\n\n\treturn true;\n};\n\n\n/**\n * Attempt to find the labelled control for the given label element.\n *\n * @param {EventTarget|HTMLLabelElement} labelElement\n * @returns {Element|null}\n */\nFastClick.prototype.findControl = function(labelElement) {\n\t'use strict';\n\n\t// Fast path for newer browsers supporting the HTML5 control attribute\n\tif (labelElement.control !== undefined) {\n\t\treturn labelElement.control;\n\t}\n\n\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\tif (labelElement.htmlFor) {\n\t\treturn document.getElementById(labelElement.htmlFor);\n\t}\n\n\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n};\n\n\n/**\n * On touch end, determine whether to send a click event at once.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchEnd = function(event) {\n\t'use strict';\n\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\tif (!this.trackingClick) {\n\t\treturn true;\n\t}\n\n\t// Prevent phantom clicks on fast double-tap (issue #36)\n\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\tthis.cancelNextClick = true;\n\t\treturn true;\n\t}\n\n\t// Reset to prevent wrong click cancel on input (issue #156).\n\tthis.cancelNextClick = false;\n\n\tthis.lastClickTime = event.timeStamp;\n\n\ttrackingClickStart = this.trackingClickStart;\n\tthis.trackingClick = false;\n\tthis.trackingClickStart = 0;\n\n\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t// for this to function correctly, it must be called *after* the event target is checked!\n\t// See issue #57; also filed as rdar://13048589 .\n\tif (deviceIsIOSWithBadTarget) {\n\t\ttouch = event.changedTouches[0];\n\n\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t}\n\n\ttargetTagName = targetElement.tagName.toLowerCase();\n\tif (targetTagName === 'label') {\n\t\tforElement = this.findControl(targetElement);\n\t\tif (forElement) {\n\t\t\tthis.focus(targetElement);\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttargetElement = forElement;\n\t\t}\n\t} else if (this.needsFocus(targetElement)) {\n\n\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\tthis.targetElement = null;\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.focus(targetElement);\n\t\tthis.sendClick(targetElement, event);\n\n\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\tthis.targetElement = null;\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\tif (!this.needsClick(targetElement)) {\n\t\tevent.preventDefault();\n\t\tthis.sendClick(targetElement, event);\n\t}\n\n\treturn false;\n};\n\n\n/**\n * On touch cancel, stop tracking the click.\n *\n * @returns {void}\n */\nFastClick.prototype.onTouchCancel = function() {\n\t'use strict';\n\tthis.trackingClick = false;\n\tthis.targetElement = null;\n};\n\n\n/**\n * Determine mouse events which should be permitted.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onMouse = function(event) {\n\t'use strict';\n\n\t// If a target element was never set (because a touch event was never fired) allow the event\n\tif (!this.targetElement) {\n\t\treturn true;\n\t}\n\n\tif (event.forwardedTouchEvent) {\n\t\treturn true;\n\t}\n\n\t// Programmatically generated events targeting a specific element should be permitted\n\tif (!event.cancelable) {\n\t\treturn true;\n\t}\n\n\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t// to prevent ghost/doubleclicks.\n\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\tif (event.stopImmediatePropagation) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t} else {\n\n\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\tevent.propagationStopped = true;\n\t\t}\n\n\t\t// Cancel the event\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\treturn false;\n\t}\n\n\t// If the mouse event is permitted, return true for the action to go through.\n\treturn true;\n};\n\n\n/**\n * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n * an actual click which should be permitted.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onClick = function(event) {\n\t'use strict';\n\tvar permitted;\n\n\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\tif (this.trackingClick) {\n\t\tthis.targetElement = null;\n\t\tthis.trackingClick = false;\n\t\treturn true;\n\t}\n\n\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\treturn true;\n\t}\n\n\tpermitted = this.onMouse(event);\n\n\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\tif (!permitted) {\n\t\tthis.targetElement = null;\n\t}\n\n\t// If clicks are permitted, return true for the action to go through.\n\treturn permitted;\n};\n\n\n/**\n * Remove all FastClick's event listeners.\n *\n * @returns {void}\n */\nFastClick.prototype.destroy = function() {\n\t'use strict';\n\tvar layer = this.layer;\n\n\tif (deviceIsAndroid) {\n\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t}\n\n\tlayer.removeEventListener('click', this.onClick, true);\n\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n};\n\n\n/**\n * Check whether FastClick is needed.\n *\n * @param {Element} layer The layer to listen on\n */\nFastClick.notNeeded = function(layer) {\n\t'use strict';\n\tvar metaViewport;\n\tvar chromeVersion;\n\tvar blackberryVersion;\n\n\t// Devices that don't support touch don't need FastClick\n\tif (typeof window.ontouchstart === 'undefined') {\n\t\treturn true;\n\t}\n\n\t// Chrome version - zero for other browsers\n\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\tif (chromeVersion) {\n\n\t\tif (deviceIsAndroid) {\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\tif (metaViewport) {\n\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tif (deviceIsBlackBerry10) {\n\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\tif (metaViewport) {\n\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// IE10 with -ms-touch-action: none, which disables double-tap-to-zoom (issue #97)\n\tif (layer.style.msTouchAction === 'none') {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n\n/**\n * Factory method for creating a FastClick object\n *\n * @param {Element} layer The layer to listen on\n * @param {Object} options The options to override the defaults\n */\nFastClick.attach = function(layer, options) {\n\t'use strict';\n\treturn new FastClick(layer, options);\n};\n\n\nif (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n\n\t// AMD. Register as an anonymous module.\n\tdefine(function() {\n\t\t'use strict';\n\t\treturn FastClick;\n\t});\n} else if (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = FastClick.attach;\n\tmodule.exports.FastClick = FastClick;\n} else {\n\twindow.FastClick = FastClick;\n}\n",
    "/*! @license Firebase v2.0.4 - License: https://www.firebase.com/terms/terms-of-service.html */ (function() {var h,aa=this;function n(a){return void 0!==a}function ba(){}function ca(a){a.Qb=function(){return a.ef?a.ef:a.ef=new a}}\nfunction da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function ea(a){return\"array\"==da(a)}function fa(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function p(a){return\"string\"==typeof a}function ga(a){return\"number\"==typeof a}function ha(a){return\"function\"==da(a)}function ia(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}\nfunction ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ja:ka;return q.apply(null,arguments)}\nfunction la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function na(a,b){function c(){}c.prototype=b.prototype;a.oc=b.prototype;a.prototype=new c;a.Ag=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function oa(a){a=String(a);if(/^\\s*$/.test(a)?0:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);}function pa(){this.Id=void 0}\nfunction qa(a,b,c){switch(typeof b){case \"string\":ra(b,c);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?b:\"null\");break;case \"boolean\":c.push(b);break;case \"undefined\":c.push(\"null\");break;case \"object\":if(null==b){c.push(\"null\");break}if(ea(b)){var d=b.length;c.push(\"[\");for(var e=\"\",f=0;f<d;f++)c.push(e),e=b[f],qa(a,a.Id?a.Id.call(b,String(f),e):e,c),e=\",\";c.push(\"]\");break}c.push(\"{\");d=\"\";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],\"function\"!=typeof e&&(c.push(d),ra(f,c),\nc.push(\":\"),qa(a,a.Id?a.Id.call(b,f,e):e,c),d=\",\"));c.push(\"}\");break;case \"function\":break;default:throw Error(\"Unknown type: \"+typeof b);}}var sa={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},ta=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\nfunction ra(a,b){b.push('\"',a.replace(ta,function(a){if(a in sa)return sa[a];var b=a.charCodeAt(0),e=\"\\\\u\";16>b?e+=\"000\":256>b?e+=\"00\":4096>b&&(e+=\"0\");return sa[a]=e+b.toString(16)}),'\"')};function ua(a){return\"undefined\"!==typeof JSON&&n(JSON.parse)?JSON.parse(a):oa(a)}function t(a){if(\"undefined\"!==typeof JSON&&n(JSON.stringify))a=JSON.stringify(a);else{var b=[];qa(new pa,a,b);a=b.join(\"\")}return a};function u(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function v(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function va(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function wa(a){var b={};va(a,function(a,d){b[a]=d});return b};function xa(a){this.xc=a;this.Hd=\"firebase:\"}h=xa.prototype;h.set=function(a,b){null==b?this.xc.removeItem(this.Hd+a):this.xc.setItem(this.Hd+a,t(b))};h.get=function(a){a=this.xc.getItem(this.Hd+a);return null==a?null:ua(a)};h.remove=function(a){this.xc.removeItem(this.Hd+a)};h.ff=!1;h.toString=function(){return this.xc.toString()};function ya(){this.ia={}}ya.prototype.set=function(a,b){null==b?delete this.ia[a]:this.ia[a]=b};ya.prototype.get=function(a){return u(this.ia,a)?this.ia[a]:null};ya.prototype.remove=function(a){delete this.ia[a]};ya.prototype.ff=!0;function za(a){try{if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window[a]){var b=window[a];b.setItem(\"firebase:sentinel\",\"cache\");b.removeItem(\"firebase:sentinel\");return new xa(b)}}catch(c){}return new ya}var Aa=za(\"localStorage\"),Ba=za(\"sessionStorage\");function Ca(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(\".\")+1);this.Cb=b;this.yb=c;this.yg=d;this.Gd=e||\"\";this.Ka=Aa.get(\"host:\"+a)||this.host}function Da(a,b){b!==a.Ka&&(a.Ka=b,\"s-\"===a.Ka.substr(0,2)&&Aa.set(\"host:\"+a.host,a.Ka))}Ca.prototype.toString=function(){var a=(this.Cb?\"https://\":\"http://\")+this.host;this.Gd&&(a+=\"<\"+this.Gd+\">\");return a};function Ea(){this.Ta=-1};function Fa(){this.Ta=-1;this.Ta=64;this.R=[];this.be=[];this.Af=[];this.Dd=[];this.Dd[0]=128;for(var a=1;a<this.Ta;++a)this.Dd[a]=0;this.Rd=this.Tb=0;this.reset()}na(Fa,Ea);Fa.prototype.reset=function(){this.R[0]=1732584193;this.R[1]=4023233417;this.R[2]=2562383102;this.R[3]=271733878;this.R[4]=3285377520;this.Rd=this.Tb=0};\nfunction Ga(a,b,c){c||(c=0);var d=a.Af;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.R[0];c=a.R[1];for(var g=a.R[2],k=a.R[3],l=a.R[4],m,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),m=1518500249):(f=c^g^k,m=1859775393):60>e?(f=c&g|k&(c|g),m=2400959708):(f=c^g^k,m=3395469782),f=(b<<\n5|b>>>27)+f+l+m+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.R[0]=a.R[0]+b&4294967295;a.R[1]=a.R[1]+c&4294967295;a.R[2]=a.R[2]+g&4294967295;a.R[3]=a.R[3]+k&4294967295;a.R[4]=a.R[4]+l&4294967295}\nFa.prototype.update=function(a,b){n(b)||(b=a.length);for(var c=b-this.Ta,d=0,e=this.be,f=this.Tb;d<b;){if(0==f)for(;d<=c;)Ga(this,a,d),d+=this.Ta;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ta){Ga(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ta){Ga(this,e);f=0;break}}this.Tb=f;this.Rd+=b};function Ha(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ma()).toString(36)};var w=Array.prototype,Ia=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ja=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ka=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=p(a)?\na.split(\"\"):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},La=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ma=w.reduce?function(a,b,c,d){d&&(b=q(b,d));return w.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ja(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Na=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=\np(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Oa(a,b){var c=Pa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Pa(a,b,c){for(var d=a.length,e=p(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Qa(a,b){var c=Ia(a,b);0<=c&&w.splice.call(a,c,1)}function Ra(a,b,c,d){return w.splice.apply(a,Sa(arguments,1))}function Sa(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}\nfunction Ta(a,b){a.sort(b||Ua)}function Ua(a,b){return a>b?1:a<b?-1:0};var Va;a:{var Wa=aa.navigator;if(Wa){var Xa=Wa.userAgent;if(Xa){Va=Xa;break a}}Va=\"\"}function Ya(a){return-1!=Va.indexOf(a)};var Za=Ya(\"Opera\")||Ya(\"OPR\"),$a=Ya(\"Trident\")||Ya(\"MSIE\"),ab=Ya(\"Gecko\")&&-1==Va.toLowerCase().indexOf(\"webkit\")&&!(Ya(\"Trident\")||Ya(\"MSIE\")),bb=-1!=Va.toLowerCase().indexOf(\"webkit\");(function(){var a=\"\",b;if(Za&&aa.opera)return a=aa.opera.version,ha(a)?a():a;ab?b=/rv\\:([^\\);]+)(\\)|;)/:$a?b=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:bb&&(b=/WebKit\\/(\\S+)/);b&&(a=(a=b.exec(Va))?a[1]:\"\");return $a&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var cb=null,db=null,eb=null;function fb(a,b){if(!fa(a))throw Error(\"encodeByteArray takes an array as a parameter\");gb();for(var c=b?db:cb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,m=l?a[e+2]:0,r=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;l||(m=64,g||(k=64));d.push(c[r],c[f],c[k],c[m])}return d.join(\"\")}\nfunction gb(){if(!cb){cb={};db={};eb={};for(var a=0;65>a;a++)cb[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a),db[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(a),eb[db[a]]=a}};var hb=function(){var a=1;return function(){return a++}}();function x(a,b){if(!a)throw ib(b);}function ib(a){return Error(\"Firebase INTERNAL ASSERT FAILED:\"+a)}\nfunction jb(a){try{var b;if(\"undefined\"!==typeof atob)b=atob(a);else{gb();for(var c=eb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var l=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==g||null==k||null==l)throw Error();d.push(f<<2|g>>4);64!=k&&(d.push(g<<4&240|k>>2),64!=l&&d.push(k<<6&192|l))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a=\"\";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Sa(d,c,\nc+8192));b=a}}return b}catch(m){kb(\"base64Decode failed: \",m)}return null}function lb(a){var b=mb(a);a=new Fa;a.update(b);var b=[],c=8*a.Rd;56>a.Tb?a.update(a.Dd,56-a.Tb):a.update(a.Dd,a.Ta-(a.Tb-56));for(var d=a.Ta-1;56<=d;d--)a.be[d]=c&255,c/=256;Ga(a,a.be);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.R[d]>>e&255,++c;return fb(b)}\nfunction nb(a){for(var b=\"\",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+nb.apply(null,arguments[c]):\"object\"===typeof arguments[c]?b+t(arguments[c]):b+arguments[c],b+=\" \";return b}var ob=null,pb=!0;function kb(a){!0===pb&&(pb=!1,null===ob&&!0===Ba.get(\"logging_enabled\")&&qb(!0));if(ob){var b=nb.apply(null,arguments);ob(b)}}function rb(a){return function(){kb(a,arguments)}}\nfunction sb(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE INTERNAL ERROR: \"+nb.apply(null,arguments);\"undefined\"!==typeof console.error?console.error(b):console.log(b)}}function tb(a){var b=nb.apply(null,arguments);throw Error(\"FIREBASE FATAL ERROR: \"+b);}function z(a){if(\"undefined\"!==typeof console){var b=\"FIREBASE WARNING: \"+nb.apply(null,arguments);\"undefined\"!==typeof console.warn?console.warn(b):console.log(b)}}\nfunction ub(a){var b=\"\",c=\"\",d=\"\",e=!0,f=\"https\",g=\"\";if(p(a)){var k=a.indexOf(\"//\");0<=k&&(f=a.substring(0,k-1),a=a.substring(k+2));k=a.indexOf(\"/\");-1===k&&(k=a.length);b=a.substring(0,k);a=a.substring(k+1);var l=b.split(\".\");if(3===l.length){k=l[2].indexOf(\":\");e=0<=k?\"https\"===f||\"wss\"===f:!0;c=l[1];d=l[0];g=\"\";a=(\"/\"+a).split(\"/\");for(k=0;k<a.length;k++)if(0<a[k].length){l=a[k];try{l=decodeURIComponent(l.replace(/\\+/g,\" \"))}catch(m){}g+=\"/\"+l}d=d.toLowerCase()}else 2===l.length&&(c=l[0])}return{host:b,\ndomain:c,vg:d,Cb:e,scheme:f,Pc:g}}function vb(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}\nfunction wb(a){if(\"complete\"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",c,!1),window.addEventListener(\"load\",c,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",function(){\"complete\"===document.readyState&&c()}),window.attachEvent(\"onload\",c))}}\nfunction xb(a,b){if(a===b)return 0;if(\"[MIN_NAME]\"===a||\"[MAX_NAME]\"===b)return-1;if(\"[MIN_NAME]\"===b||\"[MAX_NAME]\"===a)return 1;var c=yb(a),d=yb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function zb(a,b){if(b&&a in b)return b[a];throw Error(\"Missing required key (\"+a+\") in object: \"+t(b));}\nfunction Ab(a){if(\"object\"!==typeof a||null===a)return t(a);var b=[],c;for(c in a)b.push(c);b.sort();c=\"{\";for(var d=0;d<b.length;d++)0!==d&&(c+=\",\"),c+=t(b[d]),c+=\":\",c+=Ab(a[b[d]]);return c+\"}\"}function Bb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Cb(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else A(a,b)}\nfunction Db(a){x(!vb(a),\"Invalid JSON number\");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join(\"\");c=\"\";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&\n(d=\"0\"+d),c+=d;return c.toLowerCase()}var Eb=/^-?\\d{1,10}$/;function yb(a){return Eb.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Fb(a){try{a()}catch(b){setTimeout(function(){throw b;},Math.floor(0))}}function B(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Fb(function(){a.apply(null,c)})}};function Gb(a,b,c,d){this.me=b;this.Ld=c;this.Rc=d;this.nd=a}Gb.prototype.Rb=function(){var a=this.Ld.hc();return\"value\"===this.nd?a.path:a.parent().path};Gb.prototype.oe=function(){return this.nd};Gb.prototype.Pb=function(){return this.me.Pb(this)};Gb.prototype.toString=function(){return this.Rb().toString()+\":\"+this.nd+\":\"+t(this.Ld.Xe())};function Hb(a,b,c){this.me=a;this.error=b;this.path=c}Hb.prototype.Rb=function(){return this.path};Hb.prototype.oe=function(){return\"cancel\"};\nHb.prototype.Pb=function(){return this.me.Pb(this)};Hb.prototype.toString=function(){return this.path.toString()+\":cancel\"};function Ib(a,b,c){this.Kb=a;this.mb=b;this.vc=c||null}h=Ib.prototype;h.pf=function(a){return\"value\"===a};h.createEvent=function(a,b){var c=b.w.m;return new Gb(\"value\",this,new C(a.Wa,b.hc(),c))};h.Pb=function(a){var b=this.vc;if(\"cancel\"===a.oe()){x(this.mb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.mb;return function(){c.call(b,a.error)}}var d=this.Kb;return function(){d.call(b,a.Ld)}};h.Te=function(a,b){return this.mb?new Hb(this,a,b):null};\nh.matches=function(a){return a instanceof Ib&&(!a.Kb||!this.Kb||a.Kb===this.Kb)&&a.vc===this.vc};h.cf=function(){return null!==this.Kb};function Jb(a,b,c){this.ca=a;this.mb=b;this.vc=c}h=Jb.prototype;h.pf=function(a){a=\"children_added\"===a?\"child_added\":a;return(\"children_removed\"===a?\"child_removed\":a)in this.ca};h.Te=function(a,b){return this.mb?new Hb(this,a,b):null};h.createEvent=function(a,b){var c=b.hc().k(a.nb);return new Gb(a.type,this,new C(a.Wa,c,b.w.m),a.Rc)};\nh.Pb=function(a){var b=this.vc;if(\"cancel\"===a.oe()){x(this.mb,\"Raising a cancel event on a listener with no cancel callback\");var c=this.mb;return function(){c.call(b,a.error)}}var d=this.ca[a.nd];return function(){d.call(b,a.Ld,a.Rc)}};h.matches=function(a){if(a instanceof Jb){if(this.ca&&a.ca){var b=Kb(a.ca);if(b===Kb(this.ca)){if(1===b){var b=Lb(a.ca),c=Lb(this.ca);return c===b&&(!a.ca[b]||!this.ca[c]||a.ca[b]===this.ca[c])}return Mb(this.ca,function(b,c){return a.ca[c]===b})}return!1}return!0}return!1};\nh.cf=function(){return null!==this.ca};function mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,x(d<a.length,\"Surrogate pair missing trail surrogate.\"),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function D(a,b,c,d){var e;d<b?e=\"at least \"+b:d>c&&(e=0===c?\"none\":\"no more than \"+c);if(e)throw Error(a+\" failed: Was called with \"+d+(1===d?\" argument.\":\" arguments.\")+\" Expects \"+e+\".\");}function E(a,b,c){var d=\"\";switch(b){case 1:d=c?\"first\":\"First\";break;case 2:d=c?\"second\":\"Second\";break;case 3:d=c?\"third\":\"Third\";break;case 4:d=c?\"fourth\":\"Fourth\";break;default:throw Error(\"errorPrefix called with argumentNumber > 4.  Need to update it?\");}return a=a+\" failed: \"+(d+\" argument \")}\nfunction F(a,b,c,d){if((!d||n(c))&&!ha(c))throw Error(E(a,b,d)+\"must be a valid function.\");}function Nb(a,b,c){if(n(c)&&(!ia(c)||null===c))throw Error(E(a,b,!0)+\"must be a valid context object.\");};var Ob=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,Pb=/[\\[\\].#$\\u0000-\\u001F\\u007F]/;function Qb(a){return p(a)&&0!==a.length&&!Ob.test(a)}function Rb(a){return null===a||p(a)||ga(a)&&!vb(a)||ia(a)&&u(a,\".sv\")}function Sb(a,b,c){c&&!n(b)||Tb(E(a,1,c),b)}\nfunction Tb(a,b,c,d){c||(c=0);d=d||[];if(!n(b))throw Error(a+\"contains undefined\"+Ub(d));if(ha(b))throw Error(a+\"contains a function\"+Ub(d)+\" with contents: \"+b.toString());if(vb(b))throw Error(a+\"contains \"+b.toString()+Ub(d));if(1E3<c)throw new TypeError(a+\"contains a cyclic object value (\"+d.slice(0,100).join(\".\")+\"...)\");if(p(b)&&b.length>10485760/3&&10485760<mb(b).length)throw Error(a+\"contains a string greater than 10485760 utf8 bytes\"+Ub(d)+\" ('\"+b.substring(0,50)+\"...')\");if(ia(b))for(var e in b)if(u(b,\ne)){var f=b[e];if(\".priority\"!==e&&\".value\"!==e&&\".sv\"!==e&&!Qb(e))throw Error(a+\" contains an invalid key (\"+e+\")\"+Ub(d)+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');d.push(e);Tb(a,f,c+1,d);d.pop()}}function Ub(a){return 0==a.length?\"\":\" in property '\"+a.join(\".\")+\"'\"}function Vb(a,b){if(!ia(b)||ea(b))throw Error(E(a,1,!1)+\" must be an Object containing the children to replace.\");Sb(a,b,!1)}\nfunction Wb(a,b,c){if(vb(c))throw Error(E(a,b,!1)+\"is \"+c.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!Rb(c))throw Error(E(a,b,!1)+\"must be a valid Firebase priority (a string, finite number, server value, or null).\");}\nfunction Xb(a,b,c){if(!c||n(b))switch(b){case \"value\":case \"child_added\":case \"child_removed\":case \"child_changed\":case \"child_moved\":break;default:throw Error(E(a,1,c)+'must be a valid event type: \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".');}}function Yb(a,b,c,d){if((!d||n(c))&&!Qb(c))throw Error(E(a,b,d)+'was an invalid key: \"'+c+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").');}\nfunction Zb(a,b){if(!p(b)||0===b.length||Pb.test(b))throw Error(E(a,1,!1)+'was an invalid path: \"'+b+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"');}function $b(a,b){if(\".info\"===G(b))throw Error(a+\" failed: Can't modify data under /.info/\");}function ac(a,b){if(!p(b))throw Error(E(a,1,!1)+\"must be a valid credential (a string).\");}function bc(a,b,c){if(!p(c))throw Error(E(a,b,!1)+\"must be a valid string.\");}\nfunction cc(a,b,c,d){if(!d||n(c))if(!ia(c)||null===c)throw Error(E(a,b,d)+\"must be a valid object.\");}function dc(a,b,c){if(!ia(b)||null===b||!u(b,c))throw Error(E(a,1,!1)+'must contain the key \"'+c+'\"');if(!p(v(b,c)))throw Error(E(a,1,!1)+'must contain the key \"'+c+'\" with type \"string\"');};function ec(a,b){return xb(a.name,b.name)}function fc(a,b){return xb(a,b)};function gc(){}var hc={};function H(a){return q(a.compare,a)}gc.prototype.df=function(a,b){return 0!==this.compare(new I(\"[MIN_NAME]\",a),new I(\"[MIN_NAME]\",b))};gc.prototype.Ae=function(){return ic};function jc(a){this.Vb=a}na(jc,gc);h=jc.prototype;h.se=function(a){return!a.B(this.Vb).e()};h.compare=function(a,b){var c=a.K.B(this.Vb),d=b.K.B(this.Vb),c=c.he(d);return 0===c?xb(a.name,b.name):c};h.ye=function(a,b){var c=J(a),c=K.I(this.Vb,c);return new I(b,c)};\nh.ze=function(){var a=K.I(this.Vb,kc);return new I(\"[MAX_NAME]\",a)};h.toString=function(){return this.Vb};var L=new jc(\".priority\");function lc(){}na(lc,gc);h=lc.prototype;h.compare=function(a,b){return xb(a.name,b.name)};h.se=function(){throw ib(\"KeyIndex.isDefinedOn not expected to be called.\");};h.df=function(){return!1};h.Ae=function(){return ic};h.ze=function(){return new I(\"[MAX_NAME]\",K)};h.ye=function(a){x(p(a),\"KeyIndex indexValue must always be a string.\");return new I(a,K)};\nh.toString=function(){return\".key\"};var mc=new lc;function nc(){this.yc=this.na=this.nc=this.ha=this.ka=!1;this.xb=0;this.Hb=\"\";this.Bc=null;this.Xb=\"\";this.Ac=null;this.Ub=\"\";this.m=L}var oc=new nc;function pc(a){x(a.ha,\"Only valid if start has been set\");return a.Bc}function qc(a){x(a.ha,\"Only valid if start has been set\");return a.nc?a.Xb:\"[MIN_NAME]\"}function rc(a){x(a.na,\"Only valid if end has been set\");return a.Ac}function sc(a){x(a.na,\"Only valid if end has been set\");return a.yc?a.Ub:\"[MAX_NAME]\"}\nfunction tc(a){x(a.ka,\"Only valid if limit has been set\");return a.xb}function uc(a){var b=new nc;b.ka=a.ka;b.xb=a.xb;b.ha=a.ha;b.Bc=a.Bc;b.nc=a.nc;b.Xb=a.Xb;b.na=a.na;b.Ac=a.Ac;b.yc=a.yc;b.Ub=a.Ub;b.m=a.m;return b}h=nc.prototype;h.ve=function(a){var b=uc(this);b.ka=!0;b.xb=a;b.Hb=\"\";return b};h.we=function(a){var b=uc(this);b.ka=!0;b.xb=a;b.Hb=\"l\";return b};h.xe=function(a){var b=uc(this);b.ka=!0;b.xb=a;b.Hb=\"r\";return b};\nh.Md=function(a,b){var c=uc(this);c.ha=!0;c.Bc=a;null!=b?(c.nc=!0,c.Xb=b):(c.nc=!1,c.Xb=\"\");return c};h.md=function(a,b){var c=uc(this);c.na=!0;c.Ac=a;n(b)?(c.yc=!0,c.Ub=b):(c.Dg=!1,c.Ub=\"\");return c};function vc(a,b){var c=uc(a);c.m=b;return c}function wc(a){return!(a.ha||a.na||a.ka)};function M(a,b,c,d){this.g=a;this.path=b;this.w=c;this.dc=d}\nfunction xc(a){var b=null,c=null;a.ha&&(b=pc(a));a.na&&(c=rc(a));if(a.m===mc){if(a.ha){if(\"[MIN_NAME]\"!=qc(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(null!=b&&\"string\"!==typeof b)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}if(a.na){if(\"[MAX_NAME]\"!=sc(a))throw Error(\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\");if(null!=\nc&&\"string\"!==typeof c)throw Error(\"Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.\");}}else if(a.m===L){if(null!=b&&!Rb(b)||null!=c&&!Rb(c))throw Error(\"Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).\");}else if(x(a.m instanceof jc,\"unknown index type.\"),null!=b&&\"object\"===typeof b||null!=c&&\"object\"===typeof c)throw Error(\"Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.\");\n}function yc(a){if(a.ha&&a.na&&a.ka&&(!a.ka||\"\"===a.Hb))throw Error(\"Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.\");}function zc(a,b){if(!0===a.dc)throw Error(b+\": You can't combine multiple orderBy calls.\");}M.prototype.hc=function(){D(\"Query.ref\",0,0,arguments.length);return new O(this.g,this.path)};M.prototype.ref=M.prototype.hc;\nM.prototype.zb=function(a,b,c,d){D(\"Query.on\",2,4,arguments.length);Xb(\"Query.on\",a,!1);F(\"Query.on\",2,b,!1);var e=Ac(\"Query.on\",c,d);if(\"value\"===a)Bc(this.g,this,new Ib(b,e.cancel||null,e.Ha||null));else{var f={};f[a]=b;Bc(this.g,this,new Jb(f,e.cancel,e.Ha))}return b};M.prototype.on=M.prototype.zb;\nM.prototype.bc=function(a,b,c){D(\"Query.off\",0,3,arguments.length);Xb(\"Query.off\",a,!0);F(\"Query.off\",2,b,!0);Nb(\"Query.off\",3,c);var d=null,e=null;\"value\"===a?d=new Ib(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new Jb(e,null,c||null));e=this.g;d=\".info\"===G(this.path)?e.ud.hb(this,d):e.M.hb(this,d);Cc(e.Z,this.path,d)};M.prototype.off=M.prototype.bc;\nM.prototype.gg=function(a,b){function c(g){f&&(f=!1,e.bc(a,c),b.call(d.Ha,g))}D(\"Query.once\",2,4,arguments.length);Xb(\"Query.once\",a,!1);F(\"Query.once\",2,b,!1);var d=Ac(\"Query.once\",arguments[2],arguments[3]),e=this,f=!0;this.zb(a,c,function(b){e.bc(a,c);d.cancel&&d.cancel.call(d.Ha,b)})};M.prototype.once=M.prototype.gg;\nM.prototype.ve=function(a){z(\"Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.\");D(\"Query.limit\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limit: First argument must be a positive integer.\");if(this.w.ka)throw Error(\"Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.\");var b=this.w.ve(a);yc(b);return new M(this.g,this.path,b,this.dc)};M.prototype.limit=M.prototype.ve;\nM.prototype.we=function(a){D(\"Query.limitToFirst\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToFirst: First argument must be a positive integer.\");if(this.w.ka)throw Error(\"Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new M(this.g,this.path,this.w.we(a),this.dc)};M.prototype.limitToFirst=M.prototype.we;\nM.prototype.xe=function(a){D(\"Query.limitToLast\",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error(\"Query.limitToLast: First argument must be a positive integer.\");if(this.w.ka)throw Error(\"Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).\");return new M(this.g,this.path,this.w.xe(a),this.dc)};M.prototype.limitToLast=M.prototype.xe;\nM.prototype.hg=function(a){D(\"Query.orderByChild\",1,1,arguments.length);if(\"$key\"===a)throw Error('Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.');if(\"$priority\"===a)throw Error('Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.');Yb(\"Query.orderByChild\",1,a,!1);zc(this,\"Query.orderByChild\");var b=vc(this.w,new jc(a));xc(b);return new M(this.g,this.path,b,!0)};M.prototype.orderByChild=M.prototype.hg;\nM.prototype.ig=function(){D(\"Query.orderByKey\",0,0,arguments.length);zc(this,\"Query.orderByKey\");var a=vc(this.w,mc);xc(a);return new M(this.g,this.path,a,!0)};M.prototype.orderByKey=M.prototype.ig;M.prototype.jg=function(){D(\"Query.orderByPriority\",0,0,arguments.length);zc(this,\"Query.orderByPriority\");var a=vc(this.w,L);xc(a);return new M(this.g,this.path,a,!0)};M.prototype.orderByPriority=M.prototype.jg;\nM.prototype.Md=function(a,b){D(\"Query.startAt\",0,2,arguments.length);Sb(\"Query.startAt\",a,!0);Yb(\"Query.startAt\",2,b,!0);var c=this.w.Md(a,b);yc(c);xc(c);if(this.w.ha)throw Error(\"Query.startAt: Starting point was already set (by another call to startAt or equalTo).\");n(a)||(b=a=null);return new M(this.g,this.path,c,this.dc)};M.prototype.startAt=M.prototype.Md;\nM.prototype.md=function(a,b){D(\"Query.endAt\",0,2,arguments.length);Sb(\"Query.endAt\",a,!0);Yb(\"Query.endAt\",2,b,!0);var c=this.w.md(a,b);yc(c);xc(c);if(this.w.na)throw Error(\"Query.endAt: Ending point was already set (by another call to endAt or equalTo).\");return new M(this.g,this.path,c,this.dc)};M.prototype.endAt=M.prototype.md;\nM.prototype.Of=function(a,b){D(\"Query.equalTo\",1,2,arguments.length);Sb(\"Query.equalTo\",a,!1);Yb(\"Query.equalTo\",2,b,!0);if(this.w.ha)throw Error(\"Query.equalTo: Starting point was already set (by another call to endAt or equalTo).\");if(this.w.na)throw Error(\"Query.equalTo: Ending point was already set (by another call to endAt or equalTo).\");return this.Md(a,b).md(a,b)};M.prototype.equalTo=M.prototype.Of;\nfunction Dc(a){a=a.w;var b={};a.ha&&(b.sp=a.Bc,a.nc&&(b.sn=a.Xb));a.na&&(b.ep=a.Ac,a.yc&&(b.en=a.Ub));if(a.ka){b.l=a.xb;var c=a.Hb;\"\"===c&&(c=a.ha?\"l\":\"r\");b.vf=c}a.m!==L&&(b.i=a.m.toString());return b}M.prototype.Da=function(){var a=Ab(Dc(this));return\"{}\"===a?\"default\":a};\nfunction Ac(a,b,c){var d={cancel:null,Ha:null};if(b&&c)d.cancel=b,F(a,3,d.cancel,!0),d.Ha=c,Nb(a,4,d.Ha);else if(b)if(\"object\"===typeof b&&null!==b)d.Ha=b;else if(\"function\"===typeof b)d.cancel=b;else throw Error(E(a,3,!0)+\" must either be a cancel callback or a context object.\");return d};function P(a,b){if(1==arguments.length){this.n=a.split(\"/\");for(var c=0,d=0;d<this.n.length;d++)0<this.n[d].length&&(this.n[c]=this.n[d],c++);this.n.length=c;this.ba=0}else this.n=a,this.ba=b}function G(a){return a.ba>=a.n.length?null:a.n[a.ba]}function Q(a){return a.n.length-a.ba}function R(a){var b=a.ba;b<a.n.length&&b++;return new P(a.n,b)}P.prototype.toString=function(){for(var a=\"\",b=this.ba;b<this.n.length;b++)\"\"!==this.n[b]&&(a+=\"/\"+this.n[b]);return a||\"/\"};\nP.prototype.parent=function(){if(this.ba>=this.n.length)return null;for(var a=[],b=this.ba;b<this.n.length-1;b++)a.push(this.n[b]);return new P(a,0)};P.prototype.k=function(a){for(var b=[],c=this.ba;c<this.n.length;c++)b.push(this.n[c]);if(a instanceof P)for(c=a.ba;c<a.n.length;c++)b.push(a.n[c]);else for(a=a.split(\"/\"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new P(b,0)};P.prototype.e=function(){return this.ba>=this.n.length};var S=new P(\"\");\nfunction T(a,b){var c=G(a);if(null===c)return b;if(c===G(b))return T(R(a),R(b));throw Error(\"INTERNAL ERROR: innerPath (\"+b+\") is not within outerPath (\"+a+\")\");}P.prototype.da=function(a){if(Q(this)!==Q(a))return!1;for(var b=this.ba,c=a.ba;b<=this.n.length;b++,c++)if(this.n[b]!==a.n[c])return!1;return!0};P.prototype.contains=function(a){var b=this.ba,c=a.ba;if(Q(this)>Q(a))return!1;for(;b<this.n.length;){if(this.n[b]!==a.n[c])return!1;++b;++c}return!0};function Ec(){this.children={};this.dd=0;this.value=null}function Fc(a,b,c){this.yd=a?a:\"\";this.Oc=b?b:null;this.D=c?c:new Ec}function Gc(a,b){for(var c=b instanceof P?b:new P(b),d=a,e;null!==(e=G(c));)d=new Fc(e,d,v(d.D.children,e)||new Ec),c=R(c);return d}h=Fc.prototype;h.ta=function(){return this.D.value};function Hc(a,b){x(\"undefined\"!==typeof b,\"Cannot set value to undefined\");a.D.value=b;Ic(a)}h.clear=function(){this.D.value=null;this.D.children={};this.D.dd=0;Ic(this)};\nh.pd=function(){return 0<this.D.dd};h.e=function(){return null===this.ta()&&!this.pd()};h.ea=function(a){var b=this;A(this.D.children,function(c,d){a(new Fc(d,b,c))})};function Jc(a,b,c,d){c&&!d&&b(a);a.ea(function(a){Jc(a,b,!0,d)});c&&d&&b(a)}function Kc(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new P(null===this.Oc?this.yd:this.Oc.path()+\"/\"+this.yd)};h.name=function(){return this.yd};h.parent=function(){return this.Oc};\nfunction Ic(a){if(null!==a.Oc){var b=a.Oc,c=a.yd,d=a.e(),e=u(b.D.children,c);d&&e?(delete b.D.children[c],b.D.dd--,Ic(b)):d||e||(b.D.children[c]=a.D,b.D.dd++,Ic(b))}};function Lc(a,b){this.Ga=a;this.pa=b?b:Mc}h=Lc.prototype;h.Ja=function(a,b){return new Lc(this.Ga,this.pa.Ja(a,b,this.Ga).W(null,null,!1,null,null))};h.remove=function(a){return new Lc(this.Ga,this.pa.remove(a,this.Ga).W(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.pa;!c.e();){b=this.Ga(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};\nfunction Nc(a,b){for(var c,d=a.pa,e=null;!d.e();){c=a.Ga(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\");}h.e=function(){return this.pa.e()};h.count=function(){return this.pa.count()};h.Ic=function(){return this.pa.Ic()};h.Zb=function(){return this.pa.Zb()};h.Ba=function(a){return this.pa.Ba(a)};\nh.Aa=function(a){return new Oc(this.pa,null,this.Ga,!1,a)};h.rb=function(a,b){return new Oc(this.pa,a,this.Ga,!1,b)};h.Sb=function(a,b){return new Oc(this.pa,a,this.Ga,!0,b)};h.bf=function(a){return new Oc(this.pa,null,this.Ga,!0,a)};function Oc(a,b,c,d,e){this.qf=e||null;this.te=d;this.ac=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.te?a.left:a.right;else if(0===e){this.ac.push(a);break}else this.ac.push(a),a=this.te?a.right:a.left}\nfunction U(a){if(0===a.ac.length)return null;var b=a.ac.pop(),c;c=a.qf?a.qf(b.key,b.value):{key:b.key,value:b.value};if(a.te)for(b=b.left;!b.e();)a.ac.push(b),b=b.right;else for(b=b.right;!b.e();)a.ac.push(b),b=b.left;return c}function Pc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Mc;this.right=null!=e?e:Mc}h=Pc.prototype;h.W=function(a,b,c,d,e){return new Pc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};\nh.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.Ba=function(a){return this.left.Ba(a)||a(this.key,this.value)||this.right.Ba(a)};function Qc(a){return a.left.e()?a:Qc(a.left)}h.Ic=function(){return Qc(this).key};h.Zb=function(){return this.right.e()?this.key:this.right.Zb()};h.Ja=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.W(null,null,null,e.left.Ja(a,b,c),null):0===d?e.W(null,b,null,null,null):e.W(null,null,null,null,e.right.Ja(a,b,c));return Rc(e)};\nfunction Sc(a){if(a.left.e())return Mc;a.left.aa()||a.left.left.aa()||(a=Tc(a));a=a.W(null,null,null,Sc(a.left),null);return Rc(a)}\nh.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.aa()||c.left.left.aa()||(c=Tc(c)),c=c.W(null,null,null,c.left.remove(a,b),null);else{c.left.aa()&&(c=Uc(c));c.right.e()||c.right.aa()||c.right.left.aa()||(c=Vc(c),c.left.left.aa()&&(c=Uc(c),c=Vc(c)));if(0===b(a,c.key)){if(c.right.e())return Mc;d=Qc(c.right);c=c.W(d.key,d.value,null,null,Sc(c.right))}c=c.W(null,null,null,null,c.right.remove(a,b))}return Rc(c)};h.aa=function(){return this.color};\nfunction Rc(a){a.right.aa()&&!a.left.aa()&&(a=Wc(a));a.left.aa()&&a.left.left.aa()&&(a=Uc(a));a.left.aa()&&a.right.aa()&&(a=Vc(a));return a}function Tc(a){a=Vc(a);a.right.left.aa()&&(a=a.W(null,null,null,null,Uc(a.right)),a=Wc(a),a=Vc(a));return a}function Wc(a){return a.right.W(null,null,a.color,a.W(null,null,!0,null,a.right.left),null)}function Uc(a){return a.left.W(null,null,a.color,null,a.W(null,null,!0,a.left.right,null))}\nfunction Vc(a){return a.W(null,null,!a.color,a.left.W(null,null,!a.left.color,null,null),a.right.W(null,null,!a.right.color,null,null))}function Xc(){}h=Xc.prototype;h.W=function(){return this};h.Ja=function(a,b){return new Pc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.Ba=function(){return!1};h.Ic=function(){return null};h.Zb=function(){return null};h.aa=function(){return!1};var Mc=new Xc;function I(a,b){this.name=a;this.K=b}function Yc(a,b){return new I(a,b)};function Zc(a,b){this.A=a;x(null!==this.A,\"LeafNode shouldn't be created with null value.\");this.ga=b||K;$c(this.ga);this.wb=null}h=Zc.prototype;h.P=function(){return!0};h.O=function(){return this.ga};h.ib=function(a){return new Zc(this.A,a)};h.B=function(a){return\".priority\"===a?this.ga:K};h.$=function(a){return a.e()?this:\".priority\"===G(a)?this.ga:K};h.Y=function(){return!1};h.af=function(){return null};h.I=function(a,b){return\".priority\"===a?this.ib(b):K.I(a,b).ib(this.ga)};\nh.L=function(a,b){var c=G(a);if(null===c)return b;x(\".priority\"!==c||1===Q(a),\".priority must be the last token in a path\");return this.I(c,K.L(R(a),b))};h.e=function(){return!1};h.Ua=function(){return 0};h.N=function(a){return a&&!this.O().e()?{\".value\":this.ta(),\".priority\":this.O().N()}:this.ta()};h.hash=function(){if(null===this.wb){var a=\"\";this.ga.e()||(a+=\"priority:\"+ad(this.ga.N())+\":\");var b=typeof this.A,a=a+(b+\":\"),a=\"number\"===b?a+Db(this.A):a+this.A;this.wb=lb(a)}return this.wb};\nh.ta=function(){return this.A};h.he=function(a){if(a===K)return 1;if(a instanceof bd)return-1;x(a.P(),\"Unknown node type\");var b=typeof a.A,c=typeof this.A,d=Ia(cd,b),e=Ia(cd,c);x(0<=d,\"Unknown leaf type: \"+b);x(0<=e,\"Unknown leaf type: \"+c);return d===e?\"object\"===c?0:this.A<a.A?-1:this.A===a.A?0:1:e-d};var cd=[\"object\",\"boolean\",\"number\",\"string\"];Zc.prototype.Wd=function(){return this};Zc.prototype.Yb=function(){return!0};\nZc.prototype.da=function(a){return a===this?!0:a.P()?this.A===a.A&&this.ga.da(a.ga):!1};Zc.prototype.toString=function(){return\"string\"===typeof this.A?this.A:'\"'+this.A+'\"'};function dd(a,b){this.td=a;this.Wb=b}dd.prototype.get=function(a){var b=v(this.td,a);if(!b)throw Error(\"No index defined for \"+a);return b===hc?null:b};function ed(a,b,c){var d=fd(a.td,function(d,f){var g=v(a.Wb,f);x(g,\"Missing index implementation for \"+f);if(d===hc){if(g.se(b.K)){for(var k=[],l=c.Aa(Yc),m=U(l);m;)m.name!=b.name&&k.push(m),m=U(l);k.push(b);return gd(k,H(g))}return hc}g=c.get(b.name);k=d;g&&(k=k.remove(new I(b.name,g)));return k.Ja(b,b.K)});return new dd(d,a.Wb)}\nfunction hd(a,b,c){var d=fd(a.td,function(a){if(a===hc)return a;var d=c.get(b.name);return d?a.remove(new I(b.name,d)):a});return new dd(d,a.Wb)}var id=new dd({\".priority\":hc},{\".priority\":L});function bd(a,b,c){this.j=a;(this.ga=b)&&$c(this.ga);this.sb=c;this.wb=null}h=bd.prototype;h.P=function(){return!1};h.O=function(){return this.ga||K};h.ib=function(a){return new bd(this.j,a,this.sb)};h.B=function(a){if(\".priority\"===a)return this.O();a=this.j.get(a);return null===a?K:a};h.$=function(a){var b=G(a);return null===b?this:this.B(b).$(R(a))};h.Y=function(a){return null!==this.j.get(a)};\nh.I=function(a,b){x(b,\"We should always be passing snapshot nodes\");if(\".priority\"===a)return this.ib(b);var c=new I(a,b),d;b.e()?(d=this.j.remove(a),c=hd(this.sb,c,this.j)):(d=this.j.Ja(a,b),c=ed(this.sb,c,this.j));return new bd(d,this.ga,c)};h.L=function(a,b){var c=G(a);if(null===c)return b;x(\".priority\"!==G(a)||1===Q(a),\".priority must be the last token in a path\");var d=this.B(c).L(R(a),b);return this.I(c,d)};h.e=function(){return this.j.e()};h.Ua=function(){return this.j.count()};var jd=/^(0|[1-9]\\d*)$/;\nh=bd.prototype;h.N=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.ea(L,function(f,g){b[f]=g.N(a);c++;e&&jd.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.O().e()&&(b[\".priority\"]=this.O().N());return b};h.hash=function(){if(null===this.wb){var a=\"\";this.O().e()||(a+=\"priority:\"+ad(this.O().N())+\":\");this.ea(L,function(b,c){var d=c.hash();\"\"!==d&&(a+=\":\"+b+\":\"+d)});this.wb=\"\"===a?\"\":lb(a)}return this.wb};\nh.af=function(a,b,c){return(c=kd(this,c))?(a=Nc(c,new I(a,b)))?a.name:null:Nc(this.j,a)};function ld(a,b){var c;c=(c=kd(a,b))?(c=c.Ic())&&c.name:a.j.Ic();return c?new I(c,a.j.get(c)):null}function md(a,b){var c;c=(c=kd(a,b))?(c=c.Zb())&&c.name:a.j.Zb();return c?new I(c,a.j.get(c)):null}h.ea=function(a,b){var c=kd(this,a);return c?c.Ba(function(a){return b(a.name,a.K)}):this.j.Ba(b)};h.Aa=function(a){return this.rb(a.Ae(),a)};\nh.rb=function(a,b){var c=kd(this,b);return c?c.rb(a,function(a){return a}):this.j.rb(a.name,Yc)};h.bf=function(a){return this.Sb(a.ze(),a)};h.Sb=function(a,b){var c=kd(this,b);return c?c.Sb(a,function(a){return a}):this.j.Sb(a.name,Yc)};h.he=function(a){return this.e()?a.e()?0:-1:a.P()||a.e()?1:a===kc?-1:0};\nh.Wd=function(a){if(a===mc||nd(this.sb.Wb,a.toString()))return this;var b=this.sb,c=this.j;x(a!==mc,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var d=[],e=!1,c=c.Aa(Yc),f=U(c);f;)e=e||a.se(f.K),d.push(f),f=U(c);d=e?gd(d,H(a)):hc;e=a.toString();c=od(b.Wb);c[e]=a;a=od(b.td);a[e]=d;return new bd(this.j,this.ga,new dd(a,c))};h.Yb=function(a){return a===mc||nd(this.sb.Wb,a.toString())};\nh.da=function(a){if(a===this)return!0;if(a.P())return!1;if(this.O().da(a.O())&&this.j.count()===a.j.count()){var b=this.Aa(L);a=a.Aa(L);for(var c=U(b),d=U(a);c&&d;){if(c.name!==d.name||!c.K.da(d.K))return!1;c=U(b);d=U(a)}return null===c&&null===d}return!1};function kd(a,b){return b===mc?null:a.sb.get(b.toString())}h.toString=function(){var a=\"{\",b=!0;this.ea(L,function(c,d){b?b=!1:a+=\", \";a+='\"'+c+'\" : '+d.toString()});return a+=\"}\"};function J(a,b){if(null===a)return K;var c=null;\"object\"===typeof a&&\".priority\"in a?c=a[\".priority\"]:\"undefined\"!==typeof b&&(c=b);x(null===c||\"string\"===typeof c||\"number\"===typeof c||\"object\"===typeof c&&\".sv\"in c,\"Invalid priority type found: \"+typeof c);\"object\"===typeof a&&\".value\"in a&&null!==a[\".value\"]&&(a=a[\".value\"]);if(\"object\"!==typeof a||\".sv\"in a)return new Zc(a,J(c));if(a instanceof Array){var d=K,e=a;A(e,function(a,b){if(u(e,b)&&\".\"!==b.substring(0,1)){var c=J(a);if(c.P()||!c.e())d=\nd.I(b,c)}});return d.ib(J(c))}var f=[],g=!1,k=a;va(k,function(a){if(\"string\"!==typeof a||\".\"!==a.substring(0,1)){var b=J(k[a]);b.e()||(g=g||!b.O().e(),f.push(new I(a,b)))}});var l=gd(f,ec,function(a){return a.name},fc);if(g){var m=gd(f,H(L));return new bd(l,J(c),new dd({\".priority\":m},{\".priority\":L}))}return new bd(l,J(c),id)}var pd=Math.log(2);function qd(a){this.count=parseInt(Math.log(a+1)/pd,10);this.Ve=this.count-1;this.Jf=a+1&parseInt(Array(this.count+1).join(\"1\"),2)}\nfunction rd(a){var b=!(a.Jf&1<<a.Ve);a.Ve--;return b}\nfunction gd(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var m=a[b],r=c?c(m):m;return new Pc(r,m.K,!1,null,null)}var m=parseInt(f/2,10)+b,f=e(b,m),s=e(m+1,d),m=a[m],r=c?c(m):m;return new Pc(r,m.K,!1,f,s)}a.sort(b);var f=function(b){function d(b,g){var k=r-b,s=r;r-=b;var s=e(k+1,s),k=a[k],y=c?c(k):k,s=new Pc(y,k.K,g,null,s);f?f.left=s:m=s;f=s}for(var f=null,m=null,r=a.length,s=0;s<b.count;++s){var y=rd(b),N=Math.pow(2,b.count-(s+1));y?d(N,!1):(d(N,!1),d(N,!0))}return m}(new qd(a.length));\nreturn null!==f?new Lc(d||b,f):new Lc(d||b)}function ad(a){return\"number\"===typeof a?\"number:\"+Db(a):\"string:\"+a}function $c(a){if(a.P()){var b=a.N();x(\"string\"===typeof b||\"number\"===typeof b||\"object\"===typeof b&&u(b,\".sv\"),\"Priority must be a string or number.\")}else x(a===kc||a.e(),\"priority of unexpected type.\");x(a===kc||a.O().e(),\"Priority nodes can't have a priority of their own.\")}var K=new bd(new Lc(fc),null,id);function sd(){bd.call(this,new Lc(fc),K,id)}na(sd,bd);h=sd.prototype;\nh.he=function(a){return a===this?0:1};h.da=function(a){return a===this};h.O=function(){throw ib(\"Why is this called?\");};h.B=function(){return K};h.e=function(){return!1};var kc=new sd,ic=new I(\"[MIN_NAME]\",K);function C(a,b,c){this.D=a;this.U=b;this.m=c}C.prototype.N=function(){D(\"Firebase.DataSnapshot.val\",0,0,arguments.length);return this.D.N()};C.prototype.val=C.prototype.N;C.prototype.Xe=function(){D(\"Firebase.DataSnapshot.exportVal\",0,0,arguments.length);return this.D.N(!0)};C.prototype.exportVal=C.prototype.Xe;C.prototype.Qf=function(){D(\"Firebase.DataSnapshot.exists\",0,0,arguments.length);return!this.D.e()};C.prototype.exists=C.prototype.Qf;\nC.prototype.k=function(a){D(\"Firebase.DataSnapshot.child\",0,1,arguments.length);ga(a)&&(a=String(a));Zb(\"Firebase.DataSnapshot.child\",a);var b=new P(a),c=this.U.k(b);return new C(this.D.$(b),c,L)};C.prototype.child=C.prototype.k;C.prototype.Y=function(a){D(\"Firebase.DataSnapshot.hasChild\",1,1,arguments.length);Zb(\"Firebase.DataSnapshot.hasChild\",a);var b=new P(a);return!this.D.$(b).e()};C.prototype.hasChild=C.prototype.Y;\nC.prototype.O=function(){D(\"Firebase.DataSnapshot.getPriority\",0,0,arguments.length);return this.D.O().N()};C.prototype.getPriority=C.prototype.O;C.prototype.forEach=function(a){D(\"Firebase.DataSnapshot.forEach\",1,1,arguments.length);F(\"Firebase.DataSnapshot.forEach\",1,a,!1);if(this.D.P())return!1;var b=this;return!!this.D.ea(this.m,function(c,d){return a(new C(d,b.U.k(c),L))})};C.prototype.forEach=C.prototype.forEach;\nC.prototype.pd=function(){D(\"Firebase.DataSnapshot.hasChildren\",0,0,arguments.length);return this.D.P()?!1:!this.D.e()};C.prototype.hasChildren=C.prototype.pd;C.prototype.name=function(){z(\"Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.\");D(\"Firebase.DataSnapshot.name\",0,0,arguments.length);return this.key()};C.prototype.name=C.prototype.name;C.prototype.key=function(){D(\"Firebase.DataSnapshot.key\",0,0,arguments.length);return this.U.key()};\nC.prototype.key=C.prototype.key;C.prototype.Ua=function(){D(\"Firebase.DataSnapshot.numChildren\",0,0,arguments.length);return this.D.Ua()};C.prototype.numChildren=C.prototype.Ua;C.prototype.hc=function(){D(\"Firebase.DataSnapshot.ref\",0,0,arguments.length);return this.U};C.prototype.ref=C.prototype.hc;function td(a){x(ea(a)&&0<a.length,\"Requires a non-empty array\");this.Bf=a;this.Gc={}}td.prototype.Td=function(a,b){for(var c=this.Gc[a]||[],d=0;d<c.length;d++)c[d].sc.apply(c[d].Ha,Array.prototype.slice.call(arguments,1))};td.prototype.zb=function(a,b,c){ud(this,a);this.Gc[a]=this.Gc[a]||[];this.Gc[a].push({sc:b,Ha:c});(a=this.pe(a))&&b.apply(c,a)};td.prototype.bc=function(a,b,c){ud(this,a);a=this.Gc[a]||[];for(var d=0;d<a.length;d++)if(a[d].sc===b&&(!c||c===a[d].Ha)){a.splice(d,1);break}};\nfunction ud(a,b){x(Oa(a.Bf,function(a){return a===b}),\"Unknown event: \"+b)};function vd(){td.call(this,[\"visible\"]);var a,b;\"undefined\"!==typeof document&&\"undefined\"!==typeof document.addEventListener&&(\"undefined\"!==typeof document.hidden?(b=\"visibilitychange\",a=\"hidden\"):\"undefined\"!==typeof document.mozHidden?(b=\"mozvisibilitychange\",a=\"mozHidden\"):\"undefined\"!==typeof document.msHidden?(b=\"msvisibilitychange\",a=\"msHidden\"):\"undefined\"!==typeof document.webkitHidden&&(b=\"webkitvisibilitychange\",a=\"webkitHidden\"));this.qc=!0;if(b){var c=this;document.addEventListener(b,\nfunction(){var b=!document[a];b!==c.qc&&(c.qc=b,c.Td(\"visible\",b))},!1)}}na(vd,td);ca(vd);vd.prototype.pe=function(a){x(\"visible\"===a,\"Unknown event type: \"+a);return[this.qc]};function wd(){td.call(this,[\"online\"]);this.Lc=!0;if(\"undefined\"!==typeof window&&\"undefined\"!==typeof window.addEventListener){var a=this;window.addEventListener(\"online\",function(){a.Lc||a.Td(\"online\",!0);a.Lc=!0},!1);window.addEventListener(\"offline\",function(){a.Lc&&a.Td(\"online\",!1);a.Lc=!1},!1)}}na(wd,td);ca(wd);wd.prototype.pe=function(a){x(\"online\"===a,\"Unknown event type: \"+a);return[this.Lc]};function A(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function fd(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Mb(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function Kb(a){var b=0,c;for(c in a)b++;return b}function Lb(a){for(var b in a)return b}function xd(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function yd(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function nd(a,b){for(var c in a)if(a[c]==b)return!0;return!1}\nfunction zd(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function Ad(a,b){var c=zd(a,b,void 0);return c&&a[c]}function Bd(a){for(var b in a)return!1;return!0}function Cd(a,b){return b in a?a[b]:void 0}function od(a){var b={},c;for(c in a)b[c]=a[c];return b}var Dd=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction Ed(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Dd.length;f++)c=Dd[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Fd(){this.wc={}}function Gd(a,b,c){n(c)||(c=1);u(a.wc,b)||(a.wc[b]=0);a.wc[b]+=c}Fd.prototype.get=function(){return od(this.wc)};function Hd(a){this.Kf=a;this.vd=null}Hd.prototype.get=function(){var a=this.Kf.get(),b=od(a);if(this.vd)for(var c in this.vd)b[c]-=this.vd[c];this.vd=a;return b};function Id(a,b){this.uf={};this.Nd=new Hd(a);this.S=b;var c=1E4+2E4*Math.random();setTimeout(q(this.nf,this),Math.floor(c))}Id.prototype.nf=function(){var a=this.Nd.get(),b={},c=!1,d;for(d in a)0<a[d]&&u(this.uf,d)&&(b[d]=a[d],c=!0);c&&(a=this.S,a.ja&&(b={c:b},a.f(\"reportStats\",b),a.wa(\"s\",b)));setTimeout(q(this.nf,this),Math.floor(6E5*Math.random()))};var Jd={},Kd={};function Ld(a){a=a.toString();Jd[a]||(Jd[a]=new Fd);return Jd[a]}function Md(a,b){var c=a.toString();Kd[c]||(Kd[c]=b());return Kd[c]};var Nd=null;\"undefined\"!==typeof MozWebSocket?Nd=MozWebSocket:\"undefined\"!==typeof WebSocket&&(Nd=WebSocket);function Od(a,b,c){this.ie=a;this.f=rb(this.ie);this.frames=this.Cc=null;this.kb=this.lb=this.Oe=0;this.Qa=Ld(b);this.Za=(b.Cb?\"wss://\":\"ws://\")+b.Ka+\"/.ws?v=5\";\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(this.Za+=\"&r=f\");b.host!==b.Ka&&(this.Za=this.Za+\"&ns=\"+b.yb);c&&(this.Za=this.Za+\"&s=\"+c)}var Pd;\nOd.prototype.open=function(a,b){this.fb=b;this.cg=a;this.f(\"Websocket connecting to \"+this.Za);this.zc=!1;Aa.set(\"previous_websocket_failure\",!0);try{this.oa=new Nd(this.Za)}catch(c){this.f(\"Error instantiating WebSocket.\");var d=c.message||c.data;d&&this.f(d);this.eb();return}var e=this;this.oa.onopen=function(){e.f(\"Websocket connected.\");e.zc=!0};this.oa.onclose=function(){e.f(\"Websocket connection was disconnected.\");e.oa=null;e.eb()};this.oa.onmessage=function(a){if(null!==e.oa)if(a=a.data,e.kb+=\na.length,Gd(e.Qa,\"bytes_received\",a.length),Qd(e),null!==e.frames)Rd(e,a);else{a:{x(null===e.frames,\"We already have a frame buffer\");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Oe=b;e.frames=[];a=null;break a}}e.Oe=1;e.frames=[]}null!==a&&Rd(e,a)}};this.oa.onerror=function(a){e.f(\"WebSocket error.  Closing connection.\");(a=a.message||a.data)&&e.f(a);e.eb()}};Od.prototype.start=function(){};\nOd.isAvailable=function(){var a=!1;if(\"undefined\"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Nd&&!Pd};Od.responsesRequiredToBeHealthy=2;Od.healthyTimeout=3E4;h=Od.prototype;h.wd=function(){Aa.remove(\"previous_websocket_failure\")};function Rd(a,b){a.frames.push(b);if(a.frames.length==a.Oe){var c=a.frames.join(\"\");a.frames=null;c=ua(c);a.cg(c)}}\nh.send=function(a){Qd(this);a=t(a);this.lb+=a.length;Gd(this.Qa,\"bytes_sent\",a.length);a=Bb(a,16384);1<a.length&&this.oa.send(String(a.length));for(var b=0;b<a.length;b++)this.oa.send(a[b])};h.Yc=function(){this.ub=!0;this.Cc&&(clearInterval(this.Cc),this.Cc=null);this.oa&&(this.oa.close(),this.oa=null)};h.eb=function(){this.ub||(this.f(\"WebSocket is closing itself\"),this.Yc(),this.fb&&(this.fb(this.zc),this.fb=null))};h.close=function(){this.ub||(this.f(\"WebSocket is being closed\"),this.Yc())};\nfunction Qd(a){clearInterval(a.Cc);a.Cc=setInterval(function(){a.oa&&a.oa.send(\"0\");Qd(a)},Math.floor(45E3))};function Sd(a){this.cc=a;this.Fd=[];this.Mb=0;this.ge=-1;this.Ab=null}function Td(a,b,c){a.ge=b;a.Ab=c;a.ge<a.Mb&&(a.Ab(),a.Ab=null)}function Ud(a,b,c){for(a.Fd[b]=c;a.Fd[a.Mb];){var d=a.Fd[a.Mb];delete a.Fd[a.Mb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Fb(function(){f.cc(d[e])})}if(a.Mb===a.ge){a.Ab&&(clearTimeout(a.Ab),a.Ab(),a.Ab=null);break}a.Mb++}};function Vd(){this.set={}}h=Vd.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return u(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return Bd(this.set)};h.count=function(){return Kb(this.set)};function Wd(a,b){A(a.set,function(a,d){b(d,a)})};function Xd(a,b,c){this.ie=a;this.f=rb(a);this.kb=this.lb=0;this.Qa=Ld(b);this.Kd=c;this.zc=!1;this.bd=function(a){b.host!==b.Ka&&(a.ns=b.yb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+\"=\"+a[f]);return(b.Cb?\"https://\":\"http://\")+b.Ka+\"/.lp?\"+c.join(\"&\")}}var Yd,Zd;\nXd.prototype.open=function(a,b){this.Ue=0;this.fa=b;this.gf=new Sd(a);this.ub=!1;var c=this;this.ob=setTimeout(function(){c.f(\"Timed out trying to connect.\");c.eb();c.ob=null},Math.floor(3E4));wb(function(){if(!c.ub){c.Na=new $d(function(a,b,d,k,l){ae(c,arguments);if(c.Na)if(c.ob&&(clearTimeout(c.ob),c.ob=null),c.zc=!0,\"start\"==a)c.id=b,c.mf=d;else if(\"close\"===a)b?(c.Na.Jd=!1,Td(c.gf,b,function(){c.eb()})):c.eb();else throw Error(\"Unrecognized command received: \"+a);},function(a,b){ae(c,arguments);\nUd(c.gf,a,b)},function(){c.eb()},c.bd);var a={start:\"t\"};a.ser=Math.floor(1E8*Math.random());c.Na.Ud&&(a.cb=c.Na.Ud);a.v=\"5\";c.Kd&&(a.s=c.Kd);\"undefined\"!==typeof location&&location.href&&-1!==location.href.indexOf(\"firebaseio.com\")&&(a.r=\"f\");a=c.bd(a);c.f(\"Connecting via long-poll to \"+a);be(c.Na,a,function(){})}})};\nXd.prototype.start=function(){var a=this.Na,b=this.mf;a.Xf=this.id;a.Yf=b;for(a.Zd=!0;ce(a););a=this.id;b=this.mf;this.$b=document.createElement(\"iframe\");var c={dframe:\"t\"};c.id=a;c.pw=b;this.$b.src=this.bd(c);this.$b.style.display=\"none\";document.body.appendChild(this.$b)};Xd.isAvailable=function(){return!Zd&&!(\"object\"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!(\"object\"===typeof Windows&&\"object\"===typeof Windows.zg)&&(Yd||!0)};h=Xd.prototype;\nh.wd=function(){};h.Yc=function(){this.ub=!0;this.Na&&(this.Na.close(),this.Na=null);this.$b&&(document.body.removeChild(this.$b),this.$b=null);this.ob&&(clearTimeout(this.ob),this.ob=null)};h.eb=function(){this.ub||(this.f(\"Longpoll is closing itself\"),this.Yc(),this.fa&&(this.fa(this.zc),this.fa=null))};h.close=function(){this.ub||(this.f(\"Longpoll is being closed.\"),this.Yc())};\nh.send=function(a){a=t(a);this.lb+=a.length;Gd(this.Qa,\"bytes_sent\",a.length);a=mb(a);a=fb(a,!0);a=Bb(a,1840);for(var b=0;b<a.length;b++){var c=this.Na;c.Qc.push({og:this.Ue,wg:a.length,We:a[b]});c.Zd&&ce(c);this.Ue++}};function ae(a,b){var c=t(b).length;a.kb+=c;Gd(a.Qa,\"bytes_received\",c)}\nfunction $d(a,b,c,d){this.bd=d;this.fb=c;this.Fe=new Vd;this.Qc=[];this.ke=Math.floor(1E8*Math.random());this.Jd=!0;this.Ud=hb();window[\"pLPCommand\"+this.Ud]=a;window[\"pRTLPCB\"+this.Ud]=b;a=document.createElement(\"iframe\");a.style.display=\"none\";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||kb(\"No IE domain setting required\")}catch(e){a.src=\"javascript:void((function(){document.open();document.domain='\"+document.domain+\"';document.close();})())\"}}else throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";\na.contentDocument?a.$a=a.contentDocument:a.contentWindow?a.$a=a.contentWindow.document:a.document&&(a.$a=a.document);this.va=a;a=\"\";this.va.src&&\"javascript:\"===this.va.src.substr(0,11)&&(a='<script>document.domain=\"'+document.domain+'\";\\x3c/script>');a=\"<html><body>\"+a+\"</body></html>\";try{this.va.$a.open(),this.va.$a.write(a),this.va.$a.close()}catch(f){kb(\"frame writing exception\"),f.stack&&kb(f.stack),kb(f)}}\n$d.prototype.close=function(){this.Zd=!1;if(this.va){this.va.$a.body.innerHTML=\"\";var a=this;setTimeout(function(){null!==a.va&&(document.body.removeChild(a.va),a.va=null)},Math.floor(0))}var b=this.fb;b&&(this.fb=null,b())};\nfunction ce(a){if(a.Zd&&a.Jd&&a.Fe.count()<(0<a.Qc.length?2:1)){a.ke++;var b={};b.id=a.Xf;b.pw=a.Yf;b.ser=a.ke;for(var b=a.bd(b),c=\"\",d=0;0<a.Qc.length;)if(1870>=a.Qc[0].We.length+30+c.length){var e=a.Qc.shift(),c=c+\"&seg\"+d+\"=\"+e.og+\"&ts\"+d+\"=\"+e.wg+\"&d\"+d+\"=\"+e.We;d++}else break;de(a,b+c,a.ke);return!0}return!1}function de(a,b,c){function d(){a.Fe.remove(c);ce(a)}a.Fe.add(c);var e=setTimeout(d,Math.floor(25E3));be(a,b,function(){clearTimeout(e);d()})}\nfunction be(a,b,c){setTimeout(function(){try{if(a.Jd){var d=a.va.$a.createElement(\"script\");d.type=\"text/javascript\";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&\"loaded\"!==a&&\"complete\"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){kb(\"Long-poll script failed to load: \"+b);a.Jd=!1;a.close()};a.va.$a.body.appendChild(d)}}catch(e){}},Math.floor(1))};function ee(a){fe(this,a)}var ge=[Xd,Od];function fe(a,b){var c=Od&&Od.isAvailable(),d=c&&!(Aa.ff||!0===Aa.get(\"previous_websocket_failure\"));b.yg&&(c||z(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),d=!0);if(d)a.$c=[Od];else{var e=a.$c=[];Cb(ge,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function he(a){if(0<a.$c.length)return a.$c[0];throw Error(\"No transports available\");};function ie(a,b,c,d,e,f){this.id=a;this.f=rb(\"c:\"+this.id+\":\");this.cc=c;this.Kc=d;this.fa=e;this.De=f;this.Q=b;this.Ed=[];this.Se=0;this.xf=new ee(b);this.Pa=0;this.f(\"Connection created\");je(this)}\nfunction je(a){var b=he(a.xf);a.J=new b(\"c:\"+a.id+\":\"+a.Se++,a.Q);a.He=b.responsesRequiredToBeHealthy||0;var c=ke(a,a.J),d=le(a,a.J);a.ad=a.J;a.Xc=a.J;a.C=null;a.vb=!1;setTimeout(function(){a.J&&a.J.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.rd=setTimeout(function(){a.rd=null;a.vb||(a.J&&102400<a.J.kb?(a.f(\"Connection exceeded healthy timeout but has received \"+a.J.kb+\" bytes.  Marking connection healthy.\"),a.vb=!0,a.J.wd()):a.J&&10240<a.J.lb?a.f(\"Connection exceeded healthy timeout but has sent \"+\na.J.lb+\" bytes.  Leaving connection alive.\"):(a.f(\"Closing unhealthy connection after timeout.\"),a.close()))},Math.floor(b)))}function le(a,b){return function(c){b===a.J?(a.J=null,c||0!==a.Pa?1===a.Pa&&a.f(\"Realtime connection lost.\"):(a.f(\"Realtime connection failed.\"),\"s-\"===a.Q.Ka.substr(0,2)&&(Aa.remove(\"host:\"+a.Q.host),a.Q.Ka=a.Q.host)),a.close()):b===a.C?(a.f(\"Secondary connection lost.\"),c=a.C,a.C=null,a.ad!==c&&a.Xc!==c||a.close()):a.f(\"closing an old connection\")}}\nfunction ke(a,b){return function(c){if(2!=a.Pa)if(b===a.Xc){var d=zb(\"t\",c);c=zb(\"d\",c);if(\"c\"==d){if(d=zb(\"t\",c),\"d\"in c)if(c=c.d,\"h\"===d){var d=c.ts,e=c.v,f=c.h;a.Kd=c.s;Da(a.Q,f);0==a.Pa&&(a.J.start(),me(a,a.J,d),\"5\"!==e&&z(\"Protocol version mismatch detected\"),c=a.xf,(c=1<c.$c.length?c.$c[1]:null)&&ne(a,c))}else if(\"n\"===d){a.f(\"recvd end transmission on primary\");a.Xc=a.C;for(c=0;c<a.Ed.length;++c)a.Bd(a.Ed[c]);a.Ed=[];oe(a)}else\"s\"===d?(a.f(\"Connection shutdown command received. Shutting down...\"),\na.De&&(a.De(c),a.De=null),a.fa=null,a.close()):\"r\"===d?(a.f(\"Reset packet received.  New host: \"+c),Da(a.Q,c),1===a.Pa?a.close():(pe(a),je(a))):\"e\"===d?sb(\"Server Error: \"+c):\"o\"===d?(a.f(\"got pong on primary.\"),qe(a),re(a)):sb(\"Unknown control packet command: \"+d)}else\"d\"==d&&a.Bd(c)}else if(b===a.C)if(d=zb(\"t\",c),c=zb(\"d\",c),\"c\"==d)\"t\"in c&&(c=c.t,\"a\"===c?se(a):\"r\"===c?(a.f(\"Got a reset on secondary, closing it\"),a.C.close(),a.ad!==a.C&&a.Xc!==a.C||a.close()):\"o\"===c&&(a.f(\"got pong on secondary.\"),\na.tf--,se(a)));else if(\"d\"==d)a.Ed.push(c);else throw Error(\"Unknown protocol layer: \"+d);else a.f(\"message on old connection\")}}ie.prototype.wa=function(a){te(this,{t:\"d\",d:a})};function oe(a){a.ad===a.C&&a.Xc===a.C&&(a.f(\"cleaning up and promoting a connection: \"+a.C.ie),a.J=a.C,a.C=null)}\nfunction se(a){0>=a.tf?(a.f(\"Secondary connection is healthy.\"),a.vb=!0,a.C.wd(),a.C.start(),a.f(\"sending client ack on secondary\"),a.C.send({t:\"c\",d:{t:\"a\",d:{}}}),a.f(\"Ending transmission on primary\"),a.J.send({t:\"c\",d:{t:\"n\",d:{}}}),a.ad=a.C,oe(a)):(a.f(\"sending ping on secondary.\"),a.C.send({t:\"c\",d:{t:\"p\",d:{}}}))}ie.prototype.Bd=function(a){qe(this);this.cc(a)};function qe(a){a.vb||(a.He--,0>=a.He&&(a.f(\"Primary connection is healthy.\"),a.vb=!0,a.J.wd()))}\nfunction ne(a,b){a.C=new b(\"c:\"+a.id+\":\"+a.Se++,a.Q,a.Kd);a.tf=b.responsesRequiredToBeHealthy||0;a.C.open(ke(a,a.C),le(a,a.C));setTimeout(function(){a.C&&(a.f(\"Timed out trying to upgrade.\"),a.C.close())},Math.floor(6E4))}function me(a,b,c){a.f(\"Realtime connection established.\");a.J=b;a.Pa=1;a.Kc&&(a.Kc(c),a.Kc=null);0===a.He?(a.f(\"Primary connection is healthy.\"),a.vb=!0):setTimeout(function(){re(a)},Math.floor(5E3))}\nfunction re(a){a.vb||1!==a.Pa||(a.f(\"sending ping on primary.\"),te(a,{t:\"c\",d:{t:\"p\",d:{}}}))}function te(a,b){if(1!==a.Pa)throw\"Connection is not connected\";a.ad.send(b)}ie.prototype.close=function(){2!==this.Pa&&(this.f(\"Closing realtime connection.\"),this.Pa=2,pe(this),this.fa&&(this.fa(),this.fa=null))};function pe(a){a.f(\"Shutting down all connections\");a.J&&(a.J.close(),a.J=null);a.C&&(a.C.close(),a.C=null);a.rd&&(clearTimeout(a.rd),a.rd=null)};function ue(a){var b={},c={},d={},e=\"\";try{var f=a.split(\".\"),b=ua(jb(f[0])||\"\"),c=ua(jb(f[1])||\"\"),e=f[2],d=c.d||{};delete c.d}catch(g){}return{Bg:b,fe:c,data:d,sg:e}}function ve(a){a=ue(a).fe;return\"object\"===typeof a&&a.hasOwnProperty(\"iat\")?v(a,\"iat\"):null}function we(a){a=ue(a);var b=a.fe;return!!a.sg&&!!b&&\"object\"===typeof b&&b.hasOwnProperty(\"iat\")};function xe(a,b,c,d){this.id=ye++;this.f=rb(\"p:\"+this.id+\":\");this.Eb=!0;this.ua={};this.la=[];this.Nc=0;this.Jc=[];this.ja=!1;this.Va=1E3;this.xd=3E5;this.Cd=b;this.Ad=c;this.Ee=d;this.Q=a;this.Ke=null;this.Tc={};this.ng=0;this.Dc=this.ue=null;ze(this,0);vd.Qb().zb(\"visible\",this.fg,this);-1===a.host.indexOf(\"fblocal\")&&wd.Qb().zb(\"online\",this.dg,this)}var ye=0,Ae=0;h=xe.prototype;\nh.wa=function(a,b,c){var d=++this.ng;a={r:d,a:a,b:b};this.f(t(a));x(this.ja,\"sendRequest call when we're not connected not allowed.\");this.La.wa(a);c&&(this.Tc[d]=c)};function Be(a,b,c,d,e){var f=b.Da(),g=b.path.toString();a.f(\"Listen called for \"+g+\" \"+f);a.ua[g]=a.ua[g]||{};x(!a.ua[g][f],\"listen() called twice for same path/queryId.\");b={H:e,qd:c,kg:Dc(b),tag:d};a.ua[g][f]=b;a.ja&&Ce(a,g,f,b)}\nfunction Ce(a,b,c,d){a.f(\"Listen on \"+b+\" for \"+c);var e={p:b};d.tag&&(e.q=d.kg,e.t=d.tag);e.h=d.qd();a.wa(\"q\",e,function(e){if((a.ua[b]&&a.ua[b][c])===d){a.f(\"listen response\",e);var g=e.s;\"ok\"!==g&&De(a,b,c);e=e.d;d.H&&d.H(g,e)}})}h.T=function(a,b,c){this.Lb={Mf:a,Ye:!1,sc:b,cd:c};this.f(\"Authenticating using credential: \"+a);Ee(this);(b=40==a.length)||(a=ue(a).fe,b=\"object\"===typeof a&&!0===v(a,\"admin\"));b&&(this.f(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.xd=3E4)};\nh.Pe=function(a){delete this.Lb;this.ja&&this.wa(\"unauth\",{},function(b){a(b.s,b.d)})};function Ee(a){var b=a.Lb;a.ja&&b&&a.wa(\"auth\",{cred:b.Mf},function(c){var d=c.s;c=c.d||\"error\";\"ok\"!==d&&a.Lb===b&&delete a.Lb;b.Ye?\"ok\"!==d&&b.cd&&b.cd(d,c):(b.Ye=!0,b.sc&&b.sc(d,c))})}function Fe(a,b,c,d){a.ja?Ge(a,\"o\",b,c,d):a.Jc.push({Pc:b,action:\"o\",data:c,H:d})}function He(a,b,c,d){a.ja?Ge(a,\"om\",b,c,d):a.Jc.push({Pc:b,action:\"om\",data:c,H:d})}\nh.Ce=function(a,b){this.ja?Ge(this,\"oc\",a,null,b):this.Jc.push({Pc:a,action:\"oc\",data:null,H:b})};function Ge(a,b,c,d,e){c={p:c,d:d};a.f(\"onDisconnect \"+b,c);a.wa(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Ie(this,\"p\",a,b,c,d)};function Ke(a,b,c,d){Ie(a,\"m\",b,c,d,void 0)}function Ie(a,b,c,d,e,f){d={p:c,d:d};n(f)&&(d.h=f);a.la.push({action:b,of:d,H:e});a.Nc++;b=a.la.length-1;a.ja?Le(a,b):a.f(\"Buffering put: \"+c)}\nfunction Le(a,b){var c=a.la[b].action,d=a.la[b].of,e=a.la[b].H;a.la[b].lg=a.ja;a.wa(c,d,function(d){a.f(c+\" response\",d);delete a.la[b];a.Nc--;0===a.Nc&&(a.la=[]);e&&e(d.s,d.d)})}\nh.Bd=function(a){if(\"r\"in a){this.f(\"from server: \"+t(a));var b=a.r,c=this.Tc[b];c&&(delete this.Tc[b],c(a.b))}else{if(\"error\"in a)throw\"A server-side error has occurred: \"+a.error;\"a\"in a&&(b=a.a,c=a.b,this.f(\"handleServerMessage\",b,c),\"d\"===b?this.Cd(c.p,c.d,!1,c.t):\"m\"===b?this.Cd(c.p,c.d,!0,c.t):\"c\"===b?Me(this,c.p,c.q):\"ac\"===b?(a=c.s,b=c.d,c=this.Lb,delete this.Lb,c&&c.cd&&c.cd(a,b)):\"sd\"===b?this.Ke?this.Ke(c):\"msg\"in c&&\"undefined\"!==typeof console&&console.log(\"FIREBASE: \"+c.msg.replace(\"\\n\",\n\"\\nFIREBASE: \")):sb(\"Unrecognized action received from server: \"+t(b)+\"\\nAre you using the latest client?\"))}};h.Kc=function(a){this.f(\"connection ready\");this.ja=!0;this.Dc=(new Date).getTime();this.Ee({serverTimeOffset:a-(new Date).getTime()});Ne(this);this.Ad(!0)};function ze(a,b){x(!a.La,\"Scheduling a connect when we're already connected/ing?\");a.Nb&&clearTimeout(a.Nb);a.Nb=setTimeout(function(){a.Nb=null;Oe(a)},Math.floor(b))}\nh.fg=function(a){a&&!this.qc&&this.Va===this.xd&&(this.f(\"Window became visible.  Reducing delay.\"),this.Va=1E3,this.La||ze(this,0));this.qc=a};h.dg=function(a){a?(this.f(\"Browser went online.  Reconnecting.\"),this.Va=1E3,this.Eb=!0,this.La||ze(this,0)):(this.f(\"Browser went offline.  Killing connection; don't reconnect.\"),this.Eb=!1,this.La&&this.La.close())};\nh.jf=function(){this.f(\"data client disconnected\");this.ja=!1;this.La=null;for(var a=0;a<this.la.length;a++){var b=this.la[a];b&&\"h\"in b.of&&b.lg&&(b.H&&b.H(\"disconnect\"),delete this.la[a],this.Nc--)}0===this.Nc&&(this.la=[]);if(this.Eb)this.qc?this.Dc&&(3E4<(new Date).getTime()-this.Dc&&(this.Va=1E3),this.Dc=null):(this.f(\"Window isn't visible.  Delaying reconnect.\"),this.Va=this.xd,this.ue=(new Date).getTime()),a=Math.max(0,this.Va-((new Date).getTime()-this.ue)),a*=Math.random(),this.f(\"Trying to reconnect in \"+\na+\"ms\"),ze(this,a),this.Va=Math.min(this.xd,1.3*this.Va);else for(var c in this.Tc)delete this.Tc[c];this.Ad(!1)};function Oe(a){if(a.Eb){a.f(\"Making a connection attempt\");a.ue=(new Date).getTime();a.Dc=null;var b=q(a.Bd,a),c=q(a.Kc,a),d=q(a.jf,a),e=a.id+\":\"+Ae++;a.La=new ie(e,a.Q,b,c,d,function(b){z(b+\" (\"+a.Q.toString()+\")\");a.Eb=!1})}}h.tb=function(){this.Eb=!1;this.La?this.La.close():(this.Nb&&(clearTimeout(this.Nb),this.Nb=null),this.ja&&this.jf())};\nh.kc=function(){this.Eb=!0;this.Va=1E3;this.La||ze(this,0)};function Me(a,b,c){c=c?La(c,function(a){return Ab(a)}).join(\"$\"):\"default\";(a=De(a,b,c))&&a.H&&a.H(\"permission_denied\")}function De(a,b,c){b=(new P(b)).toString();var d=a.ua[b][c];delete a.ua[b][c];0===Kb(a.ua[b])&&delete a.ua[b];return d}function Ne(a){Ee(a);A(a.ua,function(b,d){A(b,function(b,c){Ce(a,d,c,b)})});for(var b=0;b<a.la.length;b++)a.la[b]&&Le(a,b);for(;a.Jc.length;)b=a.Jc.shift(),Ge(a,b.action,b.Pc,b.data,b.H)};function Pe(){this.j=this.A=null}Pe.prototype.ic=function(a,b){if(a.e())this.A=b,this.j=null;else if(null!==this.A)this.A=this.A.L(a,b);else{null==this.j&&(this.j=new Vd);var c=G(a);this.j.contains(c)||this.j.add(c,new Pe);c=this.j.get(c);a=R(a);c.ic(a,b)}};\nfunction Qe(a,b){if(b.e())return a.A=null,a.j=null,!0;if(null!==a.A){if(a.A.P())return!1;var c=a.A;a.A=null;c.ea(L,function(b,c){a.ic(new P(b),c)});return Qe(a,b)}return null!==a.j?(c=G(b),b=R(b),a.j.contains(c)&&Qe(a.j.get(c),b)&&a.j.remove(c),a.j.e()?(a.j=null,!0):!1):!0}function Re(a,b,c){null!==a.A?c(b,a.A):a.ea(function(a,e){var f=new P(b.toString()+\"/\"+a);Re(e,f,c)})}Pe.prototype.ea=function(a){null!==this.j&&Wd(this.j,function(b,c){a(b,c)})};function Se(){this.Wc=K}Se.prototype.toString=function(){return this.Wc.toString()};function Te(){this.qb=[]}function Ue(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Rb();null===c||f.da(c.Rb())||(a.qb.push(c),c=null);null===c&&(c=new Ve(f));c.add(e)}c&&a.qb.push(c)}function Cc(a,b,c){Ue(a,c);We(a,function(a){return a.da(b)})}function Xe(a,b,c){Ue(a,c);We(a,function(a){return a.contains(b)||b.contains(a)})}\nfunction We(a,b){for(var c=!0,d=0;d<a.qb.length;d++){var e=a.qb[d];if(e)if(e=e.Rb(),b(e)){for(var e=a.qb[d],f=0;f<e.od.length;f++){var g=e.od[f];if(null!==g){e.od[f]=null;var k=g.Pb();ob&&kb(\"event: \"+g.toString());Fb(k)}}a.qb[d]=null}else c=!1}c&&(a.qb=[])}function Ve(a){this.Ca=a;this.od=[]}Ve.prototype.add=function(a){this.od.push(a)};Ve.prototype.Rb=function(){return this.Ca};var Ye=\"auth.firebase.com\";function Ze(a,b,c){this.ed=a||{};this.Sd=b||{};this.lc=c||{};this.ed.remember||(this.ed.remember=\"default\")}var $e=[\"remember\",\"redirectTo\"];function af(a){var b={},c={};va(a||{},function(a,e){0<=Ia($e,a)?b[a]=e:c[a]=e});return new Ze(b,{},c)};var bf={NETWORK_ERROR:\"Unable to contact the Firebase server.\",SERVER_ERROR:\"An unknown server error occurred.\",TRANSPORT_UNAVAILABLE:\"There are no login transports available for the requested method.\",REQUEST_INTERRUPTED:\"The browser redirected the page before the login request could complete.\",USER_CANCELLED:\"The user cancelled authentication.\"};function V(a){var b=Error(v(bf,a),a);b.code=a;return b};function cf(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&\"__winchan_relay_frame\"===a[b].name)return a[b]}catch(c){}return null}function df(a,b,c){a.attachEvent?a.attachEvent(\"on\"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function ef(a,b,c){a.detachEvent?a.detachEvent(\"on\"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}\nfunction ff(a){/^https?:\\/\\//.test(a)||(a=window.location.href);var b=/^(https?:\\/\\/[\\-_a-zA-Z\\.0-9:]+)/.exec(a);return b?b[1]:a}function gf(a){var b=\"\";try{a=a.replace(\"#\",\"\");var c={},d=a.replace(/^\\?/,\"\").split(\"&\");for(a=0;a<d.length;a++)if(d[a]){var e=d[a].split(\"=\");c[e[0]]=e[1]}c&&u(c,\"__firebase_request_key\")&&(b=v(c,\"__firebase_request_key\"))}catch(f){}return b}\nfunction hf(a){var b=[],c;for(c in a)if(u(a,c)){var d=v(a,c);if(ea(d))for(var e=0;e<d.length;e++)b.push(encodeURIComponent(c)+\"=\"+encodeURIComponent(d[e]));else b.push(encodeURIComponent(c)+\"=\"+encodeURIComponent(v(a,c)))}return b.join(\"&\")}function jf(){var a=ub(Ye);return a.scheme+\"://\"+a.host+\"/v2\"};function kf(){return!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lf(){var a=navigator.userAgent;if(\"Microsoft Internet Explorer\"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf(\"Trident\")&&(a=a.match(/rv:([0-9]{2,2}[\\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function mf(a){a=a||{};a.method||(a.method=\"GET\");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type=\"application/json\");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}\nmf.prototype.open=function(a,b,c){function d(){c&&(c(V(\"REQUEST_INTERRUPTED\")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;df(window,\"beforeunload\",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=ua(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(V(\"SERVER_ERROR\")):c(V(\"NETWORK_ERROR\"));c=null;ef(window,\"beforeunload\",d)}};if(\"GET\"===f)a+=(/\\?/.test(a)?\"\":\"?\")+hf(b),g=null;else{var k=this.options.headers.content_type;\n\"application/json\"===k&&(g=t(b));\"application/x-www-form-urlencoded\"===k&&(g=hf(b))}e.open(f,a,!0);a={\"X-Requested-With\":\"XMLHttpRequest\",Accept:\"application/json;text/plain\"};Ed(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};mf.isAvailable=function(){return!!window.XMLHttpRequest&&\"string\"===typeof(new XMLHttpRequest).responseType&&(!(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))||lf())};mf.prototype.uc=function(){return\"json\"};function nf(a){a=a||{};this.Uc=Ha()+Ha()+Ha();this.kf=a||{}}\nnf.prototype.open=function(a,b,c){function d(){c&&(c(V(\"USER_CANCELLED\")),c=null)}var e=this,f=ub(Ye),g;b.requestId=this.Uc;b.redirectTo=f.scheme+\"://\"+f.host+\"/blank/page.html\";a+=/\\?/.test(a)?\"\":\"?\";a+=hf(b);(g=window.open(a,\"_blank\",\"location=no\"))&&ha(g.addEventListener)?(g.addEventListener(\"loadstart\",function(a){var b;if(b=a&&a.url)a:{var f=a.url;try{var r=document.createElement(\"a\");r.href=f;b=r.host===ub(Ye).host&&\"/blank/page.html\"===r.pathname;break a}catch(s){}b=!1}b&&(a=gf(a.url),g.removeEventListener(\"exit\",\nd),g.close(),a=new Ze(null,null,{requestId:e.Uc,requestKey:a}),e.kf.requestWithCredential(\"/auth/session\",a,c),c=null)}),g.addEventListener(\"exit\",d)):c(V(\"TRANSPORT_UNAVAILABLE\"))};nf.isAvailable=function(){return kf()};nf.prototype.uc=function(){return\"redirect\"};function of(a){a=a||{};if(!a.window_features||-1!==navigator.userAgent.indexOf(\"Fennec/\")||-1!==navigator.userAgent.indexOf(\"Firefox/\")&&-1!==navigator.userAgent.indexOf(\"Android\"))a.window_features=void 0;a.window_name||(a.window_name=\"_blank\");a.relay_url||(a.relay_url=jf()+\"/auth/channel\");this.options=a}\nof.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);r&&(r=clearInterval(r));ef(window,\"message\",e);ef(window,\"unload\",d);if(m&&!a)try{m.close()}catch(b){k.postMessage(\"die\",l)}m=k=void 0}function e(a){if(a.origin===l)try{var b=ua(a.data);\"ready\"===b.a?k.postMessage(s,l):\"error\"===b.a?(d(!1),c&&(c(b.d),c=null)):\"response\"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=lf(),g,k,l=ff(a);if(l!==ff(this.options.relay_url))c&&setTimeout(function(){c(Error(\"invalid arguments: origin of url and relay_url must match\"))},\n0);else{f&&(g=document.createElement(\"iframe\"),g.setAttribute(\"src\",this.options.relay_url),g.style.display=\"none\",g.setAttribute(\"name\",\"__winchan_relay_frame\"),document.body.appendChild(g),k=g.contentWindow);a+=(/\\?/.test(a)?\"\":\"?\")+hf(b);var m=window.open(a,this.options.window_name,this.options.window_features);k||(k=m);var r=setInterval(function(){m&&m.closed&&(d(!1),c&&(c(V(\"USER_CANCELLED\")),c=null))},500),s=t({a:\"request\",d:b});df(window,\"unload\",d);df(window,\"message\",e)}};\nof.isAvailable=function(){return\"postMessage\"in window&&!/^file:\\//.test(location.href)&&!(kf()||navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href)||navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\\/FBIOS/)||window.navigator.standalone)&&!navigator.userAgent.match(/PhantomJS/)};of.prototype.uc=function(){return\"popup\"};function pf(a){a=a||{};a.callback_parameter||(a.callback_parameter=\"callback\");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}\npf.prototype.open=function(a,b,c){function d(){c&&(c(V(\"REQUEST_INTERRUPTED\")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;Bd(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);ef(window,\"beforeunload\",d)}var f=\"fn\"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]=\"__firebase_auth_jsonp.\"+f;a+=(/\\?/.test(a)?\"\":\"?\")+hf(b);\ndf(window,\"beforeunload\",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};qf(f,a,c)};\nfunction qf(a,b,c){setTimeout(function(){try{var d=document.createElement(\"script\");d.type=\"text/javascript\";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(V(\"NETWORK_ERROR\"))};var e=document.getElementsByTagName(\"head\");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(V(\"NETWORK_ERROR\"))}},0)}pf.isAvailable=function(){return!kf()};pf.prototype.uc=function(){return\"json\"};function rf(a,b){this.Ge=[\"session\",a.Gd,a.yb].join(\":\");this.Pd=b}rf.prototype.set=function(a,b){if(!b)if(this.Pd.length)b=this.Pd[0];else throw Error(\"fb.login.SessionManager : No storage options available!\");b.set(this.Ge,a)};rf.prototype.get=function(){var a=La(this.Pd,q(this.Tf,this)),a=Ka(a,function(a){return null!==a});Ta(a,function(a,c){return ve(c.token)-ve(a.token)});return 0<a.length?a.shift():null};rf.prototype.Tf=function(a){try{var b=a.get(this.Ge);if(b&&b.token)return b}catch(c){}return null};\nrf.prototype.clear=function(){var a=this;Ja(this.Pd,function(b){b.remove(a.Ge)})};function sf(a){a=a||{};this.Uc=Ha()+Ha()+Ha();this.kf=a||{}}sf.prototype.open=function(a,b){Ba.set(\"redirect_request_id\",this.Uc);b.requestId=this.Uc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\\?/.test(a)?\"\":\"?\")+hf(b);window.location=a};sf.isAvailable=function(){return!/^file:\\//.test(location.href)&&!kf()};sf.prototype.uc=function(){return\"redirect\"};function tf(a,b,c,d){td.call(this,[\"auth_status\"]);this.Q=a;this.Re=b;this.xg=c;this.Be=d;this.mc=new rf(a,[Aa,Ba]);this.jb=null;uf(this)}na(tf,td);h=tf.prototype;h.ne=function(){return this.jb||null};function uf(a){Ba.get(\"redirect_request_id\")&&vf(a);var b=a.mc.get();b&&b.token?(wf(a,b),a.Re(b.token,function(c,d){xf(a,c,d,!1,b.token,b)},function(b,d){yf(a,\"resumeSession()\",b,d)})):wf(a,null)}\nfunction zf(a,b,c,d,e,f){\"firebaseio-demo.com\"===a.Q.domain&&z(\"Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.\");a.Re(b,function(f,k){xf(a,f,k,!0,b,c,d||{},e)},function(b,c){yf(a,\"auth()\",b,c,f)})}function Af(a,b){a.mc.clear();wf(a,null);a.xg(function(a,d){if(\"ok\"===a)B(b,null);else{var e=(a||\"error\").toUpperCase(),f=e;d&&(f+=\": \"+d);f=Error(f);f.code=e;B(b,f)}})}\nfunction xf(a,b,c,d,e,f,g,k){\"ok\"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=we(e)?e:\"\",c=null,b&&u(b,\"uid\")?c=v(b,\"uid\"):u(f,\"uid\")&&(c=v(f,\"uid\")),f.uid=c,c=\"custom\",b&&u(b,\"provider\")?c=v(b,\"provider\"):u(f,\"provider\")&&(c=v(f,\"provider\")),f.provider=c,a.mc.clear(),we(e)&&(g=g||{},c=Aa,\"sessionOnly\"===g.remember&&(c=Ba),\"none\"!==g.remember&&a.mc.set(f,c)),wf(a,f)),B(k,null,f)):(a.mc.clear(),wf(a,null),f=a=(b||\"error\").toUpperCase(),c&&(f+=\": \"+c),f=Error(f),f.code=a,B(k,f))}\nfunction yf(a,b,c,d,e){z(b+\" was canceled: \"+d);a.mc.clear();wf(a,null);a=Error(d);a.code=c.toUpperCase();B(e,a)}function Bf(a,b,c,d,e){Cf(a);var f=[mf,pf];c=new Ze(d||{},{},c||{});Df(a,f,\"/auth/\"+b,c,e)}\nfunction Ef(a,b,c,d){Cf(a);var e=[of,nf];c=af(c);\"anonymous\"===b||\"password\"===b?setTimeout(function(){B(d,V(\"TRANSPORT_UNAVAILABLE\"))},0):(c.Sd.window_features=\"menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top=\"+(\"object\"===typeof screen?.5*(screen.height-625):0)+\",left=\"+(\"object\"===typeof screen?.5*(screen.width-625):0),c.Sd.relay_url=jf()+\"/\"+a.Q.yb+\"/auth/channel\",c.Sd.requestWithCredential=q(a.Vc,a),Df(a,e,\"/auth/\"+b,c,d))}\nfunction vf(a){var b=Ba.get(\"redirect_request_id\");if(b){var c=Ba.get(\"redirect_client_options\");Ba.remove(\"redirect_request_id\");Ba.remove(\"redirect_client_options\");var d=[mf,pf],b={requestId:b,requestKey:gf(document.location.hash)},c=new Ze(c,{},b);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,\"\")}catch(e){}Df(a,d,\"/auth/session\",c)}}h.je=function(a,b){Cf(this);var c=af(a);c.lc._method=\"POST\";this.Vc(\"/users\",c,function(a){B(b,a)})};\nh.Ie=function(a,b){var c=this;Cf(this);var d=\"/users/\"+encodeURIComponent(a.email),e=af(a);e.lc._method=\"DELETE\";this.Vc(d,e,function(a,d){!a&&d&&d.uid&&c.jb&&c.jb.uid&&c.jb.uid===d.uid&&Af(c);B(b,a)})};h.ee=function(a,b){Cf(this);var c=\"/users/\"+encodeURIComponent(a.email)+\"/password\",d=af(a);d.lc._method=\"PUT\";d.lc.password=a.newPassword;this.Vc(c,d,function(a){B(b,a)})};\nh.Je=function(a,b){Cf(this);var c=\"/users/\"+encodeURIComponent(a.email)+\"/password\",d=af(a);d.lc._method=\"POST\";this.Vc(c,d,function(a){B(b,a)})};h.Vc=function(a,b,c){Ff(this,[mf,pf],a,b,c)};function Df(a,b,c,d,e){Ff(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?zf(a,c.token,c,d.ed,function(a,b){a?B(e,a):B(e,null,b)}):B(e,b||V(\"UNKNOWN_ERROR\"))})}\nfunction Ff(a,b,c,d,e){b=Ka(b,function(a){return\"function\"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){B(e,V(\"TRANSPORT_UNAVAILABLE\"))},0):(b=new (b.shift())(d.Sd),d=wa(d.lc),d.v=\"js-2.0.4\",d.transport=b.uc(),d.suppress_status_codes=!0,a=jf()+\"/\"+a.Q.yb+c,b.open(a,d,function(a,b){if(a)B(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;B(e,c)}else B(e,null,b)}))}\nfunction wf(a,b){var c=null!==a.jb||null!==b;a.jb=b;c&&a.Td(\"auth_status\",b);a.Be(null!==b)}h.pe=function(a){x(\"auth_status\"===a,'initial event must be of type \"auth_status\"');return[this.jb]};function Cf(a){var b=a.Q;if(\"firebaseio.com\"!==b.domain&&\"firebaseio-demo.com\"!==b.domain&&\"auth.firebase.com\"===Ye)throw Error(\"This custom Firebase server ('\"+a.Q.domain+\"') does not support delegated login.\");};function Gf(a,b){return a&&\"object\"===typeof a?(x(\".sv\"in a,\"Unexpected leaf node or priority contents\"),b[a[\".sv\"]]):a}function Hf(a,b){var c=new Pe;Re(a,new P(\"\"),function(a,e){c.ic(a,If(e,b))});return c}function If(a,b){var c=a.O().N(),c=Gf(c,b),d;if(a.P()){var e=Gf(a.ta(),b);return e!==a.ta()||c!==a.O().N()?new Zc(e,J(c)):a}d=a;c!==a.O().N()&&(d=d.ib(new Zc(c)));a.ea(L,function(a,c){var e=If(c,b);e!==c&&(d=d.I(a,e))});return d};function W(a,b,c,d){this.type=a;this.Wa=b;this.nb=c;this.Rc=null;this.$f=d};function Jf(){}var Kf=new Jf;function Lf(a,b,c,d){var e,f;f=X(c);e=X(b);if(d.e())return c.u?(a=[],e?e.da(f)||(e.P()?a=Mf(f):f.P()?(a=[],e.P()||e.e()||a.push(new W(\"children_removed\",e))):a=Nf(e,f),a.push(new W(\"value\",f))):(a=Mf(f),a.push(new W(\"value\",f))),0!==a.length||b.u||a.push(new W(\"value\",f)),a):e?Nf(e,f):Mf(f);if(\".priority\"===G(d))return!c.u||e&&e.da(f)?[]:[new W(\"value\",f)];if(c.u||1===Q(d))return e=G(d),f=f.B(e),a.kd(b,c,e,f);e=G(d);return f.Y(e)?(f=f.B(e),a.kd(b,c,e,f)):[]}\nJf.prototype.kd=function(a,b,c,d){(a=X(a))?a.Y(c)?(a=a.B(c),c=a.da(d)?[]:d.e()?[new W(\"child_removed\",a,c)]:[new W(\"child_changed\",d,c,a)]):c=d.e()?[]:[new W(\"child_added\",d,c)]:c=d.e()?[]:[new W(\"child_added\",d,c)];0<c.length&&b.u&&c.push(new W(\"value\",X(b)));return c};function Mf(a){var b=[];a.P()||a.e()||b.push(new W(\"children_added\",a));return b}\nfunction Nf(a,b){var c=[],d=[],e=[],f=[],g={},k={},l,m,r,s;l=a.Aa(L);r=U(l);m=b.Aa(L);s=U(m);for(var y=H(L);null!==r||null!==s;){var N;N=r?s?y(r,s):-1:1;0>N?(N=v(g,r.name),n(N)?(f.push(d[N]),d[N]=null):(k[r.name]=e.length,e.push(r)),r=U(l)):(0<N?(N=v(k,s.name),n(N)?(f.push(s),e[N]=null):(g[s.name]=d.length,d.push(s))):((r=r.K.hash()!==s.K.hash())&&f.push(s),r=U(l)),s=U(m))}for(g=0;g<e.length;g++)(k=e[g])&&c.push(new W(\"child_removed\",k.K,k.name));for(g=0;g<d.length;g++)(e=d[g])&&c.push(new W(\"child_added\",\ne.K,e.name));for(g=0;g<f.length;g++)d=f[g],c.push(new W(\"child_changed\",d.K,d.name,a.B(d.name)));return c}function Of(a,b,c){this.bb=a;this.Ma=c;this.m=b}na(Of,Jf);\nOf.prototype.kd=function(a,b,c,d){var e=X(a)||K,f=X(b)||K;if(e.Ua()<this.bb||f.Ua()<this.bb)return Of.oc.kd.call(this,a,b,c,d);x(!e.P()&&!f.P(),\"If it's a leaf node, we should have hit the above case.\");a=[];var g=e.B(c);g.e()?f.Y(c)&&(e=this.Ma?ld(e,this.m):md(e,this.m),a.push(new W(\"child_removed\",e.K,e.name)),a.push(new W(\"child_added\",d,c))):f.Y(c)?d.da(g)||a.push(new W(\"child_changed\",d,c,e.B(c))):(a.push(new W(\"child_removed\",g,c)),e=this.Ma?ld(f,this.m):md(f,this.m),a.push(new W(\"child_added\",\ne.K,e.name)));0<a.length&&b.u&&a.push(new W(\"value\",f));return a};function Pf(){}h=Pf.prototype;\nh.Xa=function(a,b,c,d){var e;if(b.type===Qf){if(b.source.$e)return this.Fa(a,b.path,b.Oa,c,d);x(b.source.Ze,\"Unknown source.\");e=b.source.wf;return this.Sa(a,b.path,b.Oa,c,d,e)}if(b.type===Rf){if(b.source.$e)return this.ae(a,b.path,b.children,c,d);x(b.source.Ze,\"Unknown source.\");e=b.source.wf;return this.$d(a,b.path,b.children,c,d,e)}if(b.type===Sf){if(b.sf)a:{var f=b.path;Tf(this,a);b=a.u;e=a.X;if(a.F){x(a.u,\"Must have event snap if we have server snap\");var g=c.Ya(f,a.u,a.F);if(g)if(b=a.u.L(f,\ng),f.e())b=this.G(b);else{e=G(f);b=b.B(e);a=this.Ra(a,e,b,a.F,a.o,c,d);break a}}else if(a.o)if(a.u)(d=c.Ob())?b=this.G(d):(c=c.Ya(f,a.u,a.o))&&(b=this.G(b.L(f,c)));else{if(x(a.X,\"We must at least have complete children\"),x(!f.e(),\"If the path were empty, we would have an event snap from the set\"),c=c.Ya(f,a.X,a.o))e=a.X.L(f,c),e=this.G(e)}else if(a.u)(c=c.Ob())&&(b=this.G(c));else if(a.X){x(!f.e(),\"If the path was empty, we would have an event snap\");g=G(f);if(a.X.Y(g)){a=(b=c.Ib.Ob(c.Gb.k(g)))?this.Ra(a,\ng,b,a.F,a.o,c,d):this.Ra(a,g,K,a.F,a.o,c,null);break a}x(1<Q(f),\"Must be a deep set being reverted\")}a=new Uf(a.F,a.o,b,e)}else a=this.Ea(a,b.path,c,d);return a}if(b.type===Vf)return b=b.path,Tf(this,a),this.Sa(a,b,(a.ab()||K).$(b),c,d,!1);throw ib(\"Unknown operation type: \"+b.type);};function Tf(a,b){Wf(a,b.F);Wf(a,b.o);Wf(a,b.u);Wf(a,b.X)}function Wf(a,b){x(!b||a.Yb(b),\"Expected an indexed snap\")}\nh.Fa=function(a,b,c,d,e){Tf(this,a);if(b.e())return b=this.G(c),new Uf(a.F,a.o,b,null);var f=X(a)||K,g=G(b);return 1===Q(b)||a.u||f.Y(g)?(c=f.B(G(b)).L(R(b),c),this.Ra(a,G(b),c,a.F,a.o,d,e)):a};h.ae=function(a,b,c,d,e){Tf(this,a);var f=this,g=a;Xf(c,function(c,l){var m=b.k(c);Yf(a,G(m))&&(g=f.Fa(g,m,l,d,e))});Xf(c,function(c,l){var m=b.k(c);Yf(a,G(m))||(g=f.Fa(g,m,l,d,e))});return g};\nh.Ea=function(a,b,c,d){var e=a.u,f=a.X,g;Tf(this,a);if(a.F){x(e,\"If we have a server snap, we must have an event snap\");var k=c.Ya(b,a.u,a.F);if(k)if(b.e())e=this.G(k);else return g=G(b),b=e.L(b,k).B(g),this.Ra(a,g,b,a.F,a.o,c,d)}else if(a.o)if(e){var l=!1;a.o.ea(L,function(a,b){l||e.B(a).da(b)||(l=!0);l&&(e=e.I(a,b))});l&&(e=this.G(e))}else if(f&&(x(0<Q(b),\"If it were an empty path, we would have an event snap\"),g=G(b),1===Q(b)||f.Y(g))&&(k=c.Ya(b,f,a.o)))return b=f.L(b,k).B(g),this.Ra(a,g,b,a.F,\na.o,c,d);return new Uf(a.F,a.o,e,f)};\nh.Sa=function(a,b,c,d,e,f){var g;Tf(this,a);var k=a.F,l=a.o;if(a.F)k=b.e()?this.G(c,f):this.G(a.F.L(b,c),f);else if(b.e())k=this.G(c,f),l=null;else if(1===Q(b)&&(a.o||!c.e()))l=a.o||this.Ia(K),l=this.G(l.L(b,c),f);else if(a.o&&(g=G(b),a.o.Y(g)))var m=a.o.B(g).L(R(b),c),l=this.G(a.o.I(g,m),f);g=!1;f=a.u;m=a.X;if(k!==a.F||l!==a.o)if(k&&!f)f=this.G(d.xa(k)),m=null;else if(k&&f&&!c.e()&&k.$(b).da(f.$(b)))g=!0;else if(c=d.Ya(b,f,k||l))if(b.e())f=this.G(c),m=null;else{g=G(b);b=R(b);a:{f=g;if(a.u)m=a.u.B(f);\nelse if(a.X)a.X.Y(f)?m=a.X.B(f):(x(b.e(),\"According to precondition, this must be true\"),m=K);else{if(b.e()){m=c;break a}x(a.F||a.o,\"If we do not have event data, we must have server data\");m=(a.F||a.o).B(f)}m=m.e()&&a.ab()?a.ab().B(f).L(b,c):m.L(b,c)}return this.Ra(a,g,m,k,l,d,e)}else g=!0;x(!g||f===a.u&&m===a.X,\"We thought we could skip diffing, but we changed the eventCache.\");return new Uf(k,l,f,m)};\nh.$d=function(a,b,c,d,e,f){if(!a.F&&!a.o&&b.e())return a;Tf(this,a);var g=this,k=a;Xf(c,function(c,m){var r=b.k(c);Yf(a,G(r))&&(k=g.Sa(k,r,m,d,e,f))});Xf(c,function(c,m){var r=b.k(c);Yf(a,G(r))||(k=g.Sa(k,r,m,d,e,f))});return k};h.Ra=function(a,b,c,d,e){var f=a.u;a=a.X;f?f=this.G(f.I(b,c)):(a||(a=this.Ia(K)),a=this.G(a.I(b,c)));return new Uf(d,e,f,a)};h.G=function(a){return this.Ia(a)};function Yf(a,b){var c=X(a),d=a.ab();return!!(c&&c.Y(b)||d&&d.Y(b))};function Zf(a){this.gb=a;this.index=a.m;this.gb.ha&&n(pc(this.gb))?(a=qc(this.gb),a=this.index.ye(pc(this.gb),a)):a=this.index.Ae();this.Fb=a;this.gb.na&&n(rc(this.gb))?(a=sc(this.gb),a=this.index.ye(rc(this.gb),a)):a=this.index.ze();this.pb=a}na(Zf,Pf);Zf.prototype.Ia=function(a){return a.Wd(this.index)};Zf.prototype.Yb=function(a){return a.Yb(this.index)};\nZf.prototype.G=function(a,b){if(!1===b)return Zf.oc.G.call(this,a,!1);if(a.P())return this.Ia(K);for(var c=this.Ia(a),d=this.Fb,e=this.pb,f=H(this.index),g=c.Aa(this.index),k=U(g);k&&0<f(d,k);)c=c.I(k.name,K),k=U(g);g=c.rb(e,this.index);for((k=U(g))&&0>=f(k,e)&&(k=U(g));k;)c=c.I(k.name,K),k=U(g);return c};\nZf.prototype.Fa=function(a,b,c,d,e){Tf(this,a);if(1<Q(b)){var f=G(b);if((null!==X(a)?X(a):K).Y(f))return Zf.oc.Fa.call(this,a,b,c,d,e);var g=null!==e?e:a.ab(),g=null!==g&&g.Y(f)?g.B(f):null,g=d.k(f).xa(g);return null!==g?(b=g.L(R(b),c),this.Ra(a,f,b,a.F,a.o,d,e)):a}return Zf.oc.Fa.call(this,a,b,c,d,e)};function $f(a){Zf.call(this,a);this.Ma=!(\"\"===a.Hb?a.ha:\"l\"===a.Hb);this.bb=tc(a)}na($f,Zf);\n$f.prototype.G=function(a,b){if(!1===b)return $f.oc.G.call(this,a,!1);if(a.P())return this.Ia(K);var c=this.Ia(a),d,e,f,g;if(2*this.bb<a.Ua())for(d=this.Ia(K.ib(a.O())),c=this.Ma?c.Sb(this.pb,this.index):c.rb(this.Fb,this.index),e=U(c),f=0;e&&f<this.bb;)if(g=this.Ma?0>=H(this.index)(this.Fb,e):0>=H(this.index)(e,this.pb))d=d.I(e.name,e.K),f++,e=U(c);else break;else{d=this.Ia(a);var k,l,m=H(this.index);if(this.Ma){c=c.bf(this.index);k=this.pb;l=this.Fb;var r=m,m=function(a,b){return-1*r(a,b)}}else c=\nc.Aa(this.index),k=this.Fb,l=this.pb;f=0;var s=!1;for(e=U(c);e;)!s&&0>=m(k,e)&&(s=!0),(g=s&&f<this.bb&&0>=m(e,l))?f++:d=d.I(e.name,K),e=U(c)}return d};$f.prototype.Ra=function(a,b,c,d,e,f,g){var k=X(a);return!k||k.Ua()<this.bb?$f.oc.Ra.call(this,a,b,c,d,e,f,g):(b=ag(this,a,b,c,f,g||d))?a.u?new Uf(d,e,b,null):new Uf(d,e,null,b):new Uf(d,e,a.u,a.X)};\nfunction ag(a,b,c,d,e,f){var g=H(a.index),k;k=a.Ma?function(a,b){return-1*g(a,b)}:g;b=X(b);x(b.Ua()===a.bb,\"Limit should be full.\");var l=new I(c,d),m=a.Ma?ld(b,a.index):md(b,a.index);x(null!=m,\"Shouldn't be null, since oldEventCache shouldn't be empty.\");var r=0>=H(a.index)(a.Fb,l)&&0>=H(a.index)(l,a.pb);if(b.Y(c)){f=e.de(f,m,1,a.Ma,a.index);e=null;0<f.length&&(e=f[0],e.name===c&&(e=2<=f.length?f[1]:null));k=null==e?1:k(e,l);if(r&&!d.e()&&0<=k)return b.I(c,d);c=b.I(c,K);return null!=e&&0>=H(a.index)(a.Fb,\ne)&&0>=H(a.index)(e,a.pb)?c.I(e.name,e.K):c}return d.e()?null:r?0<=k(m,l)?b.I(c,d).I(m.name,K):null:null};function bg(a){this.m=a}na(bg,Pf);bg.prototype.Ia=function(a){return a.Wd(this.m)};bg.prototype.Yb=function(a){return a.Yb(this.m)};function cg(a){this.U=a;this.m=a.w.m}\nfunction dg(a,b,c,d){var e=[],f=a.m,g=La(Ka(b,function(a){return\"child_changed\"===a.type&&f.df(a.$f,a.Wa)}),function(a){return new W(\"child_moved\",a.Wa,a.nb)}),k=Pa(b,function(a){return\"child_removed\"!==a.type&&\"child_added\"!==a.type});for(la(Ra,b,k,0).apply(null,g);0<b.length;){var g=b[0].type,k=eg(b,g),l=b.slice(0,k);b=b.slice(k);\"value\"===g||\"children_added\"===g||\"children_removed\"===g?x(1===l.length,\"We should not have more than one of these at a view\"):Ta(l,q(a.Lf,a));e=e.concat(fg(a,d,l,c))}return e}\nfunction eg(a,b){var c=Pa(a,function(a){return a.type!==b});return-1===c?a.length:c}\nfunction fg(a,b,c,d){for(var e=[],f=0;f<c.length;++f)for(var g=c[f],k=null,l=null,m=0;m<b.length;++m){var r=b[m];if(r.pf(g.type)){if(!k&&!l)if(\"children_added\"===g.type){var s=a,y=g.Wa,l=[];if(!y.P()&&!y.e())for(var s=y.Aa(s.m),y=null,N=U(s);N;){var Je=new W(\"child_added\",N.K,N.name);Je.Rc=y;l.push(Je);y=N.name;N=U(s)}}else if(\"children_removed\"===g.type){if(s=a,y=g.Wa,l=[],!y.P()&&!y.e())for(s=y.Aa(s.m),y=U(s);y;)l.push(new W(\"child_removed\",y.K,y.name)),y=U(s)}else k=g,\"value\"!==k.type&&\"child_removed\"!==\nk.type&&(k.Rc=d.af(k.nb,k.Wa,a.m));if(k)e.push(r.createEvent(k,a.U));else for(s=0;s<l.length;++s)e.push(r.createEvent(l[s],a.U))}}return e}cg.prototype.Lf=function(a,b){if(null==a.nb||null==b.nb)throw ib(\"Should only compare child_ events.\");return this.m.compare(new I(a.nb,a.Wa),new I(b.nb,b.Wa))};function gg(a,b){this.U=a;var c=a.w;wc(c)?(this.ec=new bg(c.m),this.ld=Kf):c.ka?(this.ec=new $f(c),this.ld=new Of(tc(c),c.m,this.ec.Ma)):(this.ec=new Zf(c),this.ld=Kf);c=this.ec;this.ia=new Uf(b.F&&c.G(b.F,!1),b.o&&c.G(b.o,!1),b.u&&c.G(b.u),b.X&&c.G(b.X));this.ya=[];this.le=new cg(a)}function hg(a){return a.U}h=gg.prototype;h.ab=function(){return this.ia.ab()};h.za=function(a){var b=this.ia.za();return b&&(wc(this.U.w)||!a.e()&&!b.B(G(a)).e())?b.$(a):null};h.e=function(){return 0===this.ya.length};\nh.Jb=function(a){this.ya.push(a)};h.hb=function(a,b){var c=[];if(b){x(null==a,\"A cancel should cancel all event registrations.\");var d=this.U.path;Ja(this.ya,function(a){(a=a.Te(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.ya.length;++f){var g=this.ya[f];if(!g.matches(a))e.push(g);else if(a.cf()){e=e.concat(this.ya.slice(f+1));break}}this.ya=e}else this.ya=[];return c};\nh.Xa=function(a,b,c){a.type===Rf&&null!==a.source.fc&&(x(this.ia.za(),\"We should always have a full cache before handling merges\"),x(!!this.ia.u,\"Missing event cache, even though we have a server cache\"));var d=this.ia;b=this.ec.Xa(d,a,b,c);Tf(this.ec,b);this.ia=b;return X(b)!==X(d)?(a=Lf(this.ld,d,b,a.path),d=X(b),dg(this.le,a,d,this.ya)):b.u&&!d.u?(x(X(b)===X(d),\"Caches should be the same.\"),d=X(b),dg(this.le,[new W(\"value\",d)],d,this.ya)):[]};function Uf(a,b,c,d){this.F=a;this.o=b;this.u=c;this.X=d;x(null==a||null==b,\"Only one of serverSnap / serverChildren can be non-null.\");x(null==c||null==d,\"Only one of eventSnap / eventChildren can be non-null.\")}function X(a){return a.u||a.X}Uf.prototype.ab=function(){return this.F||this.o};Uf.prototype.za=function(){return this.F};var ig=new Uf(null,null,null,null);function jg(a,b){this.value=a;this.children=b||kg}var kg=new Lc(function(a,b){return a===b?0:a<b?-1:1}),lg=new jg(null);function mg(a){var b=lg;A(a,function(a,d){b=b.set(new P(d),a)});return b}h=jg.prototype;h.e=function(){return null===this.value&&this.children.e()};function ng(a,b,c){if(null!=a.value&&c(a.value))return{path:S,value:a.value};if(b.e())return null;var d=G(b);a=a.children.get(d);return null!==a?(b=ng(a,R(b),c),null!=b?{path:(new P(d)).k(b.path),value:b.value}:null):null}\nfunction og(a,b){return ng(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(G(a));return null!==b?b.subtree(R(a)):lg};h.set=function(a,b){if(a.e())return new jg(b,this.children);var c=G(a),d=(this.children.get(c)||lg).set(R(a),b),c=this.children.Ja(c,d);return new jg(this.value,c)};\nh.remove=function(a){if(a.e())return this.children.e()?lg:new jg(null,this.children);var b=G(a),c=this.children.get(b);return c?(a=c.remove(R(a)),b=a.e()?this.children.remove(b):this.children.Ja(b,a),null===this.value&&b.e()?lg:new jg(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(G(a));return b?b.get(R(a)):null};\nfunction pg(a,b,c){if(b.e())return c;var d=G(b);b=pg(a.children.get(d)||lg,R(b),c);d=b.e()?a.children.remove(d):a.children.Ja(d,b);return new jg(a.value,d)}function qg(a,b){return rg(a,S,b)}function rg(a,b,c){var d={};a.children.Ba(function(a,f){d[a]=rg(f,b.k(a),c)});return c(b,a.value,d)}function sg(a,b,c){return tg(a,b,S,c)}function tg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=G(b);return(a=a.children.get(e))?tg(a,R(b),c.k(e),d):null}\nfunction ug(a,b,c){if(!b.e()){var d=!0;a.value&&(d=c(S,a.value));!0===d&&(d=G(b),(a=a.children.get(d))&&vg(a,R(b),S.k(d),c))}}function vg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=G(b);return(a=a.children.get(e))?vg(a,R(b),c.k(e),d):lg}function Xf(a,b){wg(a,S,b)}function wg(a,b,c){a.children.Ba(function(a,e){wg(e,b.k(a),c)});a.value&&c(b,a.value)}function xg(a,b){a.children.Ba(function(a,d){d.value&&b(a,d.value)})};function yg(){this.qa={}}h=yg.prototype;h.e=function(){return Bd(this.qa)};h.Xa=function(a,b,c){var d=a.source.fc;if(null!==d)return d=v(this.qa,d),x(null!=d,\"SyncTree gave us an op for an invalid query.\"),d.Xa(a,b,c);var e=[];A(this.qa,function(d){e=e.concat(d.Xa(a,b,c))});return e};h.Jb=function(a,b,c,d,e){var f=a.Da(),g=v(this.qa,f);g||(c=(g=c.xa(d))?null:c.ce(e),d=new Uf(d,e,g,c),g=new gg(a,d),this.qa[f]=g);g.Jb(b);a=g;(f=X(a.ia))?(d=Lf(a.ld,ig,a.ia,S),b=dg(a.le,d,f,b?[b]:a.ya)):b=[];return b};\nh.hb=function(a,b,c){var d=a.Da(),e=[],f=[],g=null!=zg(this);if(\"default\"===d){var k=this;A(this.qa,function(a,d){f=f.concat(a.hb(b,c));a.e()&&(delete k.qa[d],wc(a.U.w)||e.push(a.U))})}else{var l=v(this.qa,d);l&&(f=f.concat(l.hb(b,c)),l.e()&&(delete this.qa[d],wc(l.U.w)||e.push(l.U)))}g&&null==zg(this)&&e.push(new O(a.g,a.path));return{mg:e,Pf:f}};function Ag(a){return Ka(xd(a.qa),function(a){return!wc(a.U.w)})}h.za=function(a){var b=null;A(this.qa,function(c){b=b||c.za(a)});return b};\nfunction Bg(a,b){if(wc(b.w))return zg(a);var c=b.Da();return v(a.qa,c)}function zg(a){return Ad(a.qa,function(a){return wc(a.U.w)})||null};function Cg(){this.V=lg;this.ra=[];this.Ec=-1}\nfunction Dg(a,b){var c=Pa(a.ra,function(a){return a.Xd===b});x(0<=c,\"removeWrite called with nonexistent writeId.\");var d=a.ra[c];a.ra.splice(c,1);for(var e=!1,f=!1,g=!1,k=a.ra.length-1;!e&&0<=k;){var l=a.ra[k];k>=c&&Eg(l,d.path)?e=!0:!f&&d.path.contains(l.path)&&(k>=c?f=!0:g=!0);k--}e||(f||g?Fg(a):d.Oa?a.V=a.V.remove(d.path):A(d.children,function(b,c){a.V=a.V.remove(d.path.k(c))}));c=d.path;if(og(a.V,c)){if(g)return c;x(e,\"Must have found a shadow\");return null}return c}h=Cg.prototype;\nh.Ob=function(a){var b=og(this.V,a);if(b){var c=b.value;a=T(b.path,a);return c.$(a)}return null};\nh.xa=function(a,b,c,d){var e,f;if(c||d)return e=this.V.subtree(a),!d&&e.e()?b:d||null!==b||null!==e.value?(e=Gg(this.ra,function(b){return(b.visible||d)&&(!c||!(0<=Ia(c,b.Xd)))&&(b.path.contains(a)||a.contains(b.path))},a),f=b||K,Xf(e,function(a,b){f=f.L(a,b)}),f):null;if(e=og(this.V,a))return b=T(e.path,a),e.value.$(b);e=this.V.subtree(a);return e.e()?b:b||e.value?(f=b||K,Xf(e,function(a,b){f=f.L(a,b)}),f):null};\nh.ce=function(a,b){var c=!1,d=K,e=this.Ob(a);if(e)return e.P()||e.ea(L,function(a,b){d=d.I(a,b)}),d;if(b)return d=b,xg(this.V.subtree(a),function(a,b){d=d.I(a,b)}),d;xg(this.V.subtree(a),function(a,b){c=!0;d=d.I(a,b)});return c?d:null};\nh.Ya=function(a,b,c,d){x(c||d,\"Either existingEventSnap or existingServerSnap must exist\");a=a.k(b);if(og(this.V,a))return null;a=this.V.subtree(a);if(a.e())return d.$(b);var e;c?(e=!1,Xf(a,function(a,b){e||c.$(a).da(b)||(e=!0)})):e=!0;if(e){var f=d.$(b);Xf(a,function(a,b){f=f.L(a,b)});return f}return null};\nh.de=function(a,b,c,d,e,f){var g;a=this.V.subtree(a);a.value?g=a.value:b&&(g=b,Xf(a,function(a,b){g=g.L(a,b)}));if(g){b=[];g=g.Wd(f);a=H(f);e=e?g.Sb(c,f):g.rb(c,f);for(f=U(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=U(e);return b}return[]};function Eg(a,b){return a.Oa?a.path.contains(b):!!zd(a.children,function(c,d){return a.path.k(d).contains(b)})}function Fg(a){a.V=Gg(a.ra,Hg,S);a.Ec=0<a.ra.length?a.ra[a.ra.length-1].Xd:-1}function Hg(a){return a.visible}\nfunction Gg(a,b,c){for(var d=lg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path,k;f.Oa?(c.contains(g)?(k=T(c,g),f=f.Oa):(k=S,f=f.Oa.$(T(g,c))),d=Ig(d,k,f)):d=Jg(d,f.path,f.children)}}return d}function Ig(a,b,c){var d=og(a,b);if(d){var e=d.value,d=d.path;b=T(d,b);c=e.L(b,c);a=pg(a,d,new jg(c))}else a=pg(a,b,new jg(c));return a}\nfunction Jg(a,b,c){var d=og(a,b);if(d){var e=d.value,d=d.path,f=T(d,b),g=e;A(c,function(a,b){g=g.L(f.k(b),a)});a=pg(a,d,new jg(g))}else A(c,function(c,d){a=pg(a,b.k(d),new jg(c))});return a}function Kg(a,b){this.Gb=a;this.Ib=b}h=Kg.prototype;h.Ob=function(){return this.Ib.Ob(this.Gb)};h.xa=function(a,b,c){return this.Ib.xa(this.Gb,a,b,c)};h.ce=function(a){return this.Ib.ce(this.Gb,a)};h.Ya=function(a,b,c){return this.Ib.Ya(this.Gb,a,b,c)};\nh.de=function(a,b,c,d,e){return this.Ib.de(this.Gb,a,b,c,d,e)};h.k=function(a){return new Kg(this.Gb.k(a),this.Ib)};function Lg(a,b,c){this.type=Qf;this.source=a;this.path=b;this.Oa=c}Lg.prototype.Mc=function(a){return this.path.e()?new Lg(this.source,S,this.Oa.B(a)):new Lg(this.source,R(this.path),this.Oa)};function Mg(a,b){this.type=Sf;this.source=Ng;this.path=a;this.sf=b}Mg.prototype.Mc=function(){return this.path.e()?this:new Mg(R(this.path),this.sf)};function Og(a,b){this.type=Vf;this.source=a;this.path=b}Og.prototype.Mc=function(){return this.path.e()?new Og(this.source,S):new Og(this.source,R(this.path))};function Pg(a,b,c){this.type=Rf;this.source=a;this.path=b;this.children=c}Pg.prototype.Mc=function(a){if(this.path.e())return a=this.children.subtree(new P(a)),a.e()?null:a.value?new Lg(this.source,S,a.value):new Pg(this.source,S,a);x(G(this.path)===a,\"Can't get a merge for a child not on the path of the operation\");return new Pg(this.source,R(this.path),this.children)};var Qf=0,Rf=1,Sf=2,Vf=3;function Qg(a,b,c,d){this.$e=a;this.Ze=b;this.fc=c;this.wf=d;x(!d||b,\"Tagged queries must be from server.\")}var Ng=new Qg(!0,!1,null,!1),Rg=new Qg(!1,!0,null,!1);function Sg(a){this.ma=lg;this.Bb=new Cg;this.Zc={};this.gc={};this.Fc=a}h=Sg.prototype;h.Fa=function(a,b,c,d){var e=this.Bb,f=d;x(c>e.Ec,\"Stacking an older write on top of newer ones\");n(f)||(f=!0);e.ra.push({path:a,Oa:b,Xd:c,visible:f});f&&(e.V=Ig(e.V,a,b));e.Ec=c;return d?Tg(this,new Lg(Ng,a,b)):[]};\nh.ae=function(a,b,c){var d=this.Bb;x(c>d.Ec,\"Stacking an older merge on top of newer ones\");d.ra.push({path:a,children:b,Xd:c,visible:!0});d.V=Jg(d.V,a,b);d.Ec=c;b=mg(b);return Tg(this,new Pg(Ng,a,b))};h.Ea=function(a,b){b=b||!1;var c=Dg(this.Bb,a);return null==c?[]:Tg(this,new Mg(c,b))};h.Sa=function(a,b){return Tg(this,new Lg(Rg,a,b))};h.$d=function(a,b){var c=mg(b);return Tg(this,new Pg(Rg,a,c))};\nfunction Ug(a,b,c,d){d=Cd(a.Zc,\"_\"+d);if(null!=d){var e=Vg(d);d=e.path;e=e.fc;b=T(d,b);c=new Lg(new Qg(!1,!0,e,!0),b,c);return Wg(a,d,c)}return[]}function Xg(a,b,c,d){if(d=Cd(a.Zc,\"_\"+d)){var e=Vg(d);d=e.path;e=e.fc;b=T(d,b);c=mg(c);c=new Pg(new Qg(!1,!0,e,!0),b,c);return Wg(a,d,c)}return[]}\nh.Jb=function(a,b){var c=a.path,d=null,e=!1;ug(this.ma,c,function(a,b){var f=T(a,c);d=b.za(f);e=e||null!=zg(b);return!d});var f=this.ma.get(c);f?(e=e||null!=zg(f),d=d||f.za(S)):(f=new yg,this.ma=this.ma.set(c,f));var g=null;if(!d){var k=!1,g=K;xg(this.ma.subtree(c),function(a,b){var c=b.za(S);c&&(k=!0,g=g.I(a,c))});k||(g=null)}var l=null!=Bg(f,a);if(!l&&!wc(a.w)){var m=Yg(a);x(!(m in this.gc),\"View does not exist, but we have a tag\");var r=Zg++;this.gc[m]=r;this.Zc[\"_\"+r]=m}m=f.Jb(a,b,new Kg(c,this.Bb),\nd,g);l||e||(f=Bg(f,a),m=m.concat($g(this,a,f)));return m};\nh.hb=function(a,b,c){var d=a.path,e=this.ma.get(d),f=[];if(e&&(\"default\"===a.Da()||null!=Bg(e,a))){f=e.hb(a,b,c);e.e()&&(this.ma=this.ma.remove(d));e=f.mg;f=f.Pf;b=-1!==Pa(e,function(a){return wc(a.w)});var g=sg(this.ma,d,function(a,b){return null!=zg(b)});if(b&&!g&&(d=this.ma.subtree(d),!d.e()))for(var d=ah(d),k=0;k<d.length;++k){var l=d[k],m=l.U,l=bh(this,l);this.Fc.Le(m,ch(this,m),l.qd,l.H)}if(!g&&0<e.length&&!c)if(b)this.Fc.Od(a,null);else{var r=this;Ja(e,function(a){a.Da();var b=r.gc[Yg(a)];\nr.Fc.Od(a,b)})}dh(this,e)}return f};h.xa=function(a,b){var c=this.Bb,d=sg(this.ma,a,function(b,c){var d=T(b,a);if(d=c.za(d))return d});return c.xa(a,d,b,!0)};function ah(a){return qg(a,function(a,c,d){if(c&&null!=zg(c))return[zg(c)];var e=[];c&&(e=Ag(c));A(d,function(a){e=e.concat(a)});return e})}function dh(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!wc(d.w)){var d=Yg(d),e=a.gc[d];delete a.gc[d];delete a.Zc[\"_\"+e]}}}\nfunction $g(a,b,c){var d=b.path,e=ch(a,b);c=bh(a,c);b=a.Fc.Le(b,e,c.qd,c.H);d=a.ma.subtree(d);if(e)x(null==zg(d.value),\"If we're adding a query, it shouldn't be shadowed\");else for(e=qg(d,function(a,b,c){if(!a.e()&&b&&null!=zg(b))return[hg(zg(b))];var d=[];b&&(d=d.concat(La(Ag(b),function(a){return a.U})));A(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Fc.Od(c,ch(a,c));return b}\nfunction bh(a,b){var c=b.U,d=ch(a,c);return{qd:function(){return(b.ab()||K).hash()},H:function(b,f){if(\"ok\"===b){if(f&&\"object\"===typeof f&&u(f,\"w\")){var g=v(f,\"w\");ea(g)&&0<=Ia(g,\"no_index\")&&z(\"Using an unspecified index. Consider adding \"+('\".indexOn\": \"'+c.w.m.toString()+'\"')+\" at \"+c.path.toString()+\" to your security rules for better performance\")}if(d){var k=c.path;if(g=Cd(a.Zc,\"_\"+d))var l=Vg(g),g=l.path,l=l.fc,k=T(g,k),k=new Og(new Qg(!1,!0,l,!0),k),g=Wg(a,g,k);else g=[]}else g=Tg(a,new Og(Rg,\nc.path));return g}g=\"Unknown Error\";\"too_big\"===b?g=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"==b?g=\"Client doesn't have permission to access the desired data.\":\"unavailable\"==b&&(g=\"The service is unavailable\");g=Error(b+\": \"+g);g.code=b.toUpperCase();return a.hb(c,null,g)}}}function Yg(a){return a.path.toString()+\"$\"+a.Da()}\nfunction Vg(a){var b=a.indexOf(\"$\");x(-1!==b&&b<a.length-1,\"Bad queryKey.\");return{fc:a.substr(b+1),path:new P(a.substr(0,b))}}function ch(a,b){var c=Yg(b);return v(a.gc,c)}var Zg=1;function Wg(a,b,c){var d=a.ma.get(b);x(d,\"Missing sync point for query tag that we're tracking\");return d.Xa(c,new Kg(b,a.Bb),null)}function Tg(a,b){return eh(a,b,a.ma,null,new Kg(S,a.Bb))}\nfunction eh(a,b,c,d,e){if(b.path.e())return fh(a,b,c,d,e);var f=c.get(S);null==d&&null!=f&&(d=f.za(S));var g=[],k=G(b.path),l=b.Mc(k);if((c=c.children.get(k))&&l)var m=d?d.B(k):null,k=e.k(k),g=g.concat(eh(a,l,c,m,k));f&&(g=g.concat(f.Xa(b,e,d)));return g}function fh(a,b,c,d,e){var f=c.get(S);null==d&&null!=f&&(d=f.za(S));var g=[];c.children.Ba(function(c,f){var m=d?d.B(c):null,r=e.k(c),s=b.Mc(c);s&&(g=g.concat(fh(a,s,f,m,r)))});f&&(g=g.concat(f.Xa(b,e,d)));return g};function gh(a){this.Q=a;this.Qa=Ld(a);this.Z=new Te;this.zd=1;this.S=new xe(this.Q,q(this.Cd,this),q(this.Ad,this),q(this.Ee,this));this.ug=Md(a,q(function(){return new Id(this.Qa,this.S)},this));this.pc=new Fc;this.qe=new Se;var b=this;this.ud=new Sg({Le:function(a,d,e,f){d=[];e=b.qe.Wc.$(a.path);e.e()||(d=b.ud.Sa(a.path,e),setTimeout(function(){f(\"ok\")},0));return d},Od:ba});hh(this,\"connected\",!1);this.fa=new Pe;this.T=new tf(a,q(this.S.T,this.S),q(this.S.Pe,this.S),q(this.Be,this));this.jd=0;\nthis.re=null;this.M=new Sg({Le:function(a,d,e,f){Be(b.S,a,e,d,function(d,e){var l=f(d,e);Xe(b.Z,a.path,l)});return[]},Od:function(a,d){var e=b.S,f=a.path.toString(),g=a.Da();e.f(\"Unlisten called for \"+f+\" \"+g);if(De(e,f,g)&&e.ja){var k=Dc(a);e.f(\"Unlisten on \"+f+\" for \"+g);f={p:f};d&&(f.q=k,f.t=d);e.wa(\"n\",f)}}})}h=gh.prototype;h.toString=function(){return(this.Q.Cb?\"https://\":\"http://\")+this.Q.host};h.name=function(){return this.Q.yb};\nfunction ih(a){var b=new P(\".info/serverTimeOffset\");a=a.qe.Wc.$(b).N()||0;return(new Date).getTime()+a}function jh(a){a=a={timestamp:ih(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}h.Cd=function(a,b,c,d){this.jd++;var e=new P(a);b=this.re?this.re(a,b):b;a=[];d?c?(b=fd(b,function(a){return J(a)}),a=Xg(this.M,e,b,d)):(b=J(b),a=Ug(this.M,e,b,d)):c?(d=fd(b,function(a){return J(a)}),a=this.M.$d(e,d)):(d=J(b),a=this.M.Sa(e,d));d=e;0<a.length&&(d=kh(this,e));Xe(this.Z,d,a)};\nh.Ad=function(a){hh(this,\"connected\",a);!1===a&&lh(this)};h.Ee=function(a){var b=this;Cb(a,function(a,d){hh(b,d,a)})};h.Be=function(a){hh(this,\"authenticated\",a)};function hh(a,b,c){b=new P(\"/.info/\"+b);c=J(c);var d=a.qe;d.Wc=d.Wc.L(b,c);c=a.ud.Sa(b,c);Xe(a.Z,b,c)}\nh.Db=function(a,b,c,d){this.f(\"set\",{path:a.toString(),value:b,Cg:c});var e=jh(this);b=J(b,c);var e=If(b,e),f=this.zd++,e=this.M.Fa(a,e,f,!0);Ue(this.Z,e);var g=this;this.S.put(a.toString(),b.N(!0),function(b,c){var e=\"ok\"===b;e||z(\"set at \"+a+\" failed: \"+b);e=g.M.Ea(f,!e);Xe(g.Z,a,e);mh(d,b,c)});e=nh(this,a);kh(this,e);Xe(this.Z,e,[])};\nh.update=function(a,b,c){this.f(\"update\",{path:a.toString(),value:b});var d=!0,e=jh(this),f={};A(b,function(a,b){d=!1;var c=J(a);f[b]=If(c,e)});if(d)kb(\"update() called with empty data.  Don't do anything.\"),mh(c,\"ok\");else{var g=this.zd++,k=this.M.ae(a,f,g);Ue(this.Z,k);var l=this;Ke(this.S,a.toString(),b,function(b,d){x(\"ok\"===b||\"permission_denied\"===b,\"merge at \"+a+\" failed.\");var e=\"ok\"===b;e||z(\"update at \"+a+\" failed: \"+b);var e=l.M.Ea(g,!e),f=a;0<e.length&&(f=kh(l,a));Xe(l.Z,f,e);mh(c,b,d)});\nb=nh(this,a);kh(this,b);Xe(this.Z,a,[])}};function lh(a){a.f(\"onDisconnectEvents\");var b=jh(a),c=[];Re(Hf(a.fa,b),S,function(b,e){c=c.concat(a.M.Sa(b,e));var f=nh(a,b);kh(a,f)});a.fa=new Pe;Xe(a.Z,S,c)}h.Ce=function(a,b){var c=this;this.S.Ce(a.toString(),function(d,e){\"ok\"===d&&Qe(c.fa,a);mh(b,d,e)})};function oh(a,b,c,d){var e=J(c);Fe(a.S,b.toString(),e.N(!0),function(c,g){\"ok\"===c&&a.fa.ic(b,e);mh(d,c,g)})}\nfunction ph(a,b,c,d,e){var f=J(c,d);Fe(a.S,b.toString(),f.N(!0),function(c,d){\"ok\"===c&&a.fa.ic(b,f);mh(e,c,d)})}function qh(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(kb(\"onDisconnect().update() called with empty data.  Don't do anything.\"),mh(d,\"ok\")):He(a.S,b.toString(),c,function(e,f){if(\"ok\"===e)for(var l in c){var m=J(c[l]);a.fa.ic(b.k(l),m)}mh(d,e,f)})}function Bc(a,b,c){c=\".info\"===G(b.path)?a.ud.Jb(b,c):a.M.Jb(b,c);Cc(a.Z,b.path,c)}h.tb=function(){this.S.tb()};h.kc=function(){this.S.kc()};\nh.Me=function(a){if(\"undefined\"!==typeof console){a?(this.Nd||(this.Nd=new Hd(this.Qa)),a=this.Nd.get()):a=this.Qa.get();var b=Ma(yd(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=\" \";console.log(c+d)}}};h.Ne=function(a){Gd(this.Qa,a);this.ug.uf[a]=!0};h.f=function(a){kb(\"r:\"+this.S.id+\":\",arguments)};function mh(a,b,c){a&&Fb(function(){if(\"ok\"==b)a(null);else{var d=(b||\"error\").toUpperCase(),e=d;c&&(e+=\": \"+c);e=Error(e);e.code=d;a(e)}})};function rh(a,b,c,d,e){function f(){}a.f(\"transaction on \"+b);var g=new O(a,b);g.zb(\"value\",f);c={path:b,update:c,H:d,status:null,lf:hb(),Qe:e,rf:0,Vd:function(){g.bc(\"value\",f)},Yd:null,sa:null,fd:null,gd:null,hd:null};d=a.M.xa(b,void 0)||K;c.fd=d;d=c.update(d.N());if(n(d)){Tb(\"transaction failed: Data returned \",d);c.status=1;e=Gc(a.pc,b);var k=e.ta()||[];k.push(c);Hc(e,k);\"object\"===typeof d&&null!==d&&u(d,\".priority\")?(k=v(d,\".priority\"),x(Rb(k),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\")):\nk=(a.M.xa(b)||K).O().N();e=jh(a);d=J(d,k);e=If(d,e);c.gd=d;c.hd=e;c.sa=a.zd++;c=a.M.Fa(b,e,c.sa,c.Qe);Xe(a.Z,b,c);sh(a)}else c.Vd(),c.gd=null,c.hd=null,c.H&&(a=new C(c.fd,new O(a,c.path),L),c.H(null,!1,a))}function sh(a,b){var c=b||a.pc;b||th(a,c);if(null!==c.ta()){var d=uh(a,c);x(0<d.length,\"Sending zero length transaction queue\");Na(d,function(a){return 1===a.status})&&vh(a,c.path(),d)}else c.pd()&&c.ea(function(b){sh(a,b)})}\nfunction vh(a,b,c){for(var d=La(c,function(a){return a.sa}),e=a.M.xa(b,d)||K,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];x(1===g.status,\"tryToSendTransactionQueue_: items in queue should all be run.\");g.status=2;g.rf++;var k=T(b,g.path),d=d.L(k,g.gd)}d=d.N(!0);a.S.put(b.toString(),d,function(d){a.f(\"transaction put response\",{path:b.toString(),status:d});var e=[];if(\"ok\"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(a.M.Ea(c[f].sa));if(c[f].H){var g=c[f].hd,k=new O(a,c[f].path);d.push(q(c[f].H,\nnull,null,!0,new C(g,k,L)))}c[f].Vd()}th(a,Gc(a.pc,b));sh(a);Xe(a.Z,b,e);for(f=0;f<d.length;f++)Fb(d[f])}else{if(\"datastale\"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(z(\"transaction at \"+b.toString()+\" failed: \"+d),f=0;f<c.length;f++)c[f].status=5,c[f].Yd=d;kh(a,b)}},e)}function kh(a,b){var c=wh(a,b),d=c.path(),c=uh(a,c);xh(a,c,d);return d}\nfunction xh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=La(b,function(a){return a.sa}),g=0;g<b.length;g++){var k=b[g],l=T(c,k.path),m=!1,r;x(null!==l,\"rerunTransactionsUnderNode_: relativePath should not be null.\");if(5===k.status)m=!0,r=k.Yd,e=e.concat(a.M.Ea(k.sa,!0));else if(1===k.status)if(25<=k.rf)m=!0,r=\"maxretry\",e=e.concat(a.M.Ea(k.sa,!0));else{var s=a.M.xa(k.path,f)||K;k.fd=s;var y=b[g].update(s.N());n(y)?(Tb(\"transaction failed: Data returned \",y),l=J(y),\"object\"===typeof y&&null!=y&&u(y,\n\".priority\")||(l=l.ib(s.O())),s=k.sa,y=jh(a),y=If(l,y),k.gd=l,k.hd=y,k.sa=a.zd++,Qa(f,s),e=e.concat(a.M.Fa(k.path,y,k.sa,k.Qe)),e=e.concat(a.M.Ea(s,!0))):(m=!0,r=\"nodata\",e=e.concat(a.M.Ea(k.sa,!0)))}Xe(a.Z,c,e);e=[];m&&(b[g].status=3,setTimeout(b[g].Vd,Math.floor(0)),b[g].H&&(\"nodata\"===r?(k=new O(a,b[g].path),d.push(q(b[g].H,null,null,!1,new C(b[g].fd,k,L)))):d.push(q(b[g].H,null,Error(r),!1,null))))}th(a,a.pc);for(g=0;g<d.length;g++)Fb(d[g]);sh(a)}}\nfunction wh(a,b){for(var c,d=a.pc;null!==(c=G(b))&&null===d.ta();)d=Gc(d,c),b=R(b);return d}function uh(a,b){var c=[];yh(a,b,c);c.sort(function(a,b){return a.lf-b.lf});return c}function yh(a,b,c){var d=b.ta();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.ea(function(b){yh(a,b,c)})}function th(a,b){var c=b.ta();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Hc(b,0<c.length?c:null)}b.ea(function(b){th(a,b)})}\nfunction nh(a,b){var c=wh(a,b).path(),d=Gc(a.pc,b);Kc(d,function(b){zh(a,b)});zh(a,d);Jc(d,function(b){zh(a,b)});return c}\nfunction zh(a,b){var c=b.ta();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(x(f===g-1,\"All SENT items should be at beginning of queue.\"),f=g,c[g].status=4,c[g].Yd=\"set\"):(x(1===c[g].status,\"Unexpected transaction status in abort\"),c[g].Vd(),e=e.concat(a.M.Ea(c[g].sa,!0)),c[g].H&&d.push(q(c[g].H,null,Error(\"set\"),!1,null))));-1===f?Hc(b,null):c.length=f+1;Xe(a.Z,b.path(),e);for(g=0;g<d.length;g++)Fb(d[g])}};function Ah(){this.jc={}}ca(Ah);Ah.prototype.tb=function(){for(var a in this.jc)this.jc[a].tb()};Ah.prototype.interrupt=Ah.prototype.tb;Ah.prototype.kc=function(){for(var a in this.jc)this.jc[a].kc()};Ah.prototype.resume=Ah.prototype.kc;function Bh(a){var b=this;this.tc=a;this.Qd=\"*\";lf()?this.Hc=this.sd=cf():(this.Hc=window.opener,this.sd=window);if(!b.Hc)throw\"Unable to find relay frame\";df(this.sd,\"message\",q(this.cc,this));df(this.sd,\"message\",q(this.hf,this));try{Ch(this,{a:\"ready\"})}catch(c){df(this.Hc,\"load\",function(){Ch(b,{a:\"ready\"})})}df(window,\"unload\",q(this.eg,this))}function Ch(a,b){b=t(b);lf()?a.Hc.doPost(b,a.Qd):a.Hc.postMessage(b,a.Qd)}\nBh.prototype.cc=function(a){var b=this,c;try{c=ua(a.data)}catch(d){}c&&\"request\"===c.a&&(ef(window,\"message\",this.cc),this.Qd=a.origin,this.tc&&setTimeout(function(){b.tc(b.Qd,c.d,function(a,c){b.If=!c;b.tc=void 0;Ch(b,{a:\"response\",d:a,forceKeepWindowOpen:c})})},0))};Bh.prototype.eg=function(){try{ef(this.sd,\"message\",this.hf)}catch(a){}this.tc&&(Ch(this,{a:\"error\",d:\"unknown closed window\"}),this.tc=void 0);try{window.close()}catch(b){}};Bh.prototype.hf=function(a){if(this.If&&\"die\"===a.data)try{window.close()}catch(b){}};var Y={Rf:function(){Yd=Pd=!0}};Y.forceLongPolling=Y.Rf;Y.Sf=function(){Zd=!0};Y.forceWebSockets=Y.Sf;Y.rg=function(a,b){a.g.S.Ke=b};Y.setSecurityDebugCallback=Y.rg;Y.Me=function(a,b){a.g.Me(b)};Y.stats=Y.Me;Y.Ne=function(a,b){a.g.Ne(b)};Y.statsIncrementCounter=Y.Ne;Y.jd=function(a){return a.g.jd};Y.dataUpdateCount=Y.jd;Y.Vf=function(a,b){a.g.re=b};Y.interceptServerData=Y.Vf;Y.bg=function(a){new Bh(a)};Y.onPopupOpen=Y.bg;Y.pg=function(a){Ye=a};Y.setAuthenticationServer=Y.pg;function Z(a,b){this.Sc=a;this.Ca=b}Z.prototype.cancel=function(a){D(\"Firebase.onDisconnect().cancel\",0,1,arguments.length);F(\"Firebase.onDisconnect().cancel\",1,a,!0);this.Sc.Ce(this.Ca,a||null)};Z.prototype.cancel=Z.prototype.cancel;Z.prototype.remove=function(a){D(\"Firebase.onDisconnect().remove\",0,1,arguments.length);$b(\"Firebase.onDisconnect().remove\",this.Ca);F(\"Firebase.onDisconnect().remove\",1,a,!0);oh(this.Sc,this.Ca,null,a)};Z.prototype.remove=Z.prototype.remove;\nZ.prototype.set=function(a,b){D(\"Firebase.onDisconnect().set\",1,2,arguments.length);$b(\"Firebase.onDisconnect().set\",this.Ca);Sb(\"Firebase.onDisconnect().set\",a,!1);F(\"Firebase.onDisconnect().set\",2,b,!0);oh(this.Sc,this.Ca,a,b)};Z.prototype.set=Z.prototype.set;\nZ.prototype.Db=function(a,b,c){D(\"Firebase.onDisconnect().setWithPriority\",2,3,arguments.length);$b(\"Firebase.onDisconnect().setWithPriority\",this.Ca);Sb(\"Firebase.onDisconnect().setWithPriority\",a,!1);Wb(\"Firebase.onDisconnect().setWithPriority\",2,b);F(\"Firebase.onDisconnect().setWithPriority\",3,c,!0);ph(this.Sc,this.Ca,a,b,c)};Z.prototype.setWithPriority=Z.prototype.Db;\nZ.prototype.update=function(a,b){D(\"Firebase.onDisconnect().update\",1,2,arguments.length);$b(\"Firebase.onDisconnect().update\",this.Ca);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;z(\"Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}Vb(\"Firebase.onDisconnect().update\",a);F(\"Firebase.onDisconnect().update\",2,b,!0);qh(this.Sc,\nthis.Ca,a,b)};Z.prototype.update=Z.prototype.update;var $={};$.rc=xe;$.DataConnection=$.rc;xe.prototype.tg=function(a,b){this.wa(\"q\",{p:a},b)};$.rc.prototype.simpleListen=$.rc.prototype.tg;xe.prototype.Nf=function(a,b){this.wa(\"echo\",{d:a},b)};$.rc.prototype.echo=$.rc.prototype.Nf;xe.prototype.interrupt=xe.prototype.tb;$.zf=ie;$.RealTimeConnection=$.zf;ie.prototype.sendRequest=ie.prototype.wa;ie.prototype.close=ie.prototype.close;\n$.Uf=function(a){var b=xe.prototype.put;xe.prototype.put=function(c,d,e,f){n(f)&&(f=a());b.call(this,c,d,e,f)};return function(){xe.prototype.put=b}};$.hijackHash=$.Uf;$.yf=Ca;$.ConnectionTarget=$.yf;$.Da=function(a){return a.Da()};$.queryIdentifier=$.Da;$.Wf=function(a){return a.g.S.ua};$.listens=$.Wf;var Dh=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(c%64),c=Math.floor(c/64);x(0===c,\"Cannot push at time == 0\");c=e.join(\"\");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\".charAt(b[f]);x(20===c.length,\"NextPushId: Length should be 20.\");\nreturn c}}();function O(a,b){var c,d,e;if(a instanceof gh)c=a,d=b;else{D(\"new Firebase\",1,2,arguments.length);d=ub(arguments[0]);c=d.vg;\"firebase\"===d.domain&&tb(d.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\");c||tb(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\");d.Cb||\"undefined\"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&z(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");\nc=new Ca(d.host,d.Cb,c,\"ws\"===d.scheme||\"wss\"===d.scheme);d=new P(d.Pc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!Qb(c.yb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\\/*\\.info(\\/|$)/,\"/\")),f=!(p(e)&&0!==e.length&&!Pb.test(e)));if(f)throw Error(E(\"new Firebase\",1,!1)+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".');if(b)if(b instanceof Ah)e=b;else if(p(b))e=Ah.Qb(),c.Gd=b;else throw Error(\"Expected a valid Firebase.Context for second argument to new Firebase()\");\nelse e=Ah.Qb();f=c.toString();var g=v(e.jc,f);g||(g=new gh(c),e.jc[f]=g);c=g}M.call(this,c,d,oc,!1)}na(O,M);var Eh=O,Fh=[\"Firebase\"],Gh=aa;Fh[0]in Gh||!Gh.execScript||Gh.execScript(\"var \"+Fh[0]);for(var Hh;Fh.length&&(Hh=Fh.shift());)!Fh.length&&n(Eh)?Gh[Hh]=Eh:Gh=Gh[Hh]?Gh[Hh]:Gh[Hh]={};O.prototype.name=function(){z(\"Firebase.name() being deprecated. Please use Firebase.key() instead.\");D(\"Firebase.name\",0,0,arguments.length);return this.key()};O.prototype.name=O.prototype.name;\nO.prototype.key=function(){D(\"Firebase.key\",0,0,arguments.length);var a;this.path.e()?a=null:(a=this.path,a=a.ba<a.n.length?a.n[a.n.length-1]:null);return a};O.prototype.key=O.prototype.key;O.prototype.k=function(a){D(\"Firebase.child\",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof P))if(null===G(this.path)){var b=a;b&&(b=b.replace(/^\\/*\\.info(\\/|$)/,\"/\"));Zb(\"Firebase.child\",b)}else Zb(\"Firebase.child\",a);return new O(this.g,this.path.k(a))};O.prototype.child=O.prototype.k;\nO.prototype.parent=function(){D(\"Firebase.parent\",0,0,arguments.length);var a=this.path.parent();return null===a?null:new O(this.g,a)};O.prototype.parent=O.prototype.parent;O.prototype.root=function(){D(\"Firebase.ref\",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};O.prototype.root=O.prototype.root;\nO.prototype.toString=function(){D(\"Firebase.toString\",0,0,arguments.length);var a;if(null===this.parent())a=this.g.toString();else{a=this.parent().toString()+\"/\";var b=this.key();a+=encodeURIComponent(String(b))}return a};O.prototype.toString=O.prototype.toString;O.prototype.set=function(a,b){D(\"Firebase.set\",1,2,arguments.length);$b(\"Firebase.set\",this.path);Sb(\"Firebase.set\",a,!1);F(\"Firebase.set\",2,b,!0);this.g.Db(this.path,a,null,b||null)};O.prototype.set=O.prototype.set;\nO.prototype.update=function(a,b){D(\"Firebase.update\",1,2,arguments.length);$b(\"Firebase.update\",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[\"\"+d]=a[d];a=c;z(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}Vb(\"Firebase.update\",a);F(\"Firebase.update\",2,b,!0);if(u(a,\".priority\"))throw Error(\"update() does not currently support updating .priority.\");\nthis.g.update(this.path,a,b||null)};O.prototype.update=O.prototype.update;O.prototype.Db=function(a,b,c){D(\"Firebase.setWithPriority\",2,3,arguments.length);$b(\"Firebase.setWithPriority\",this.path);Sb(\"Firebase.setWithPriority\",a,!1);Wb(\"Firebase.setWithPriority\",2,b);F(\"Firebase.setWithPriority\",3,c,!0);if(\".length\"===this.key()||\".keys\"===this.key())throw\"Firebase.setWithPriority failed: \"+this.key()+\" is a read-only object.\";this.g.Db(this.path,a,b,c||null)};O.prototype.setWithPriority=O.prototype.Db;\nO.prototype.remove=function(a){D(\"Firebase.remove\",0,1,arguments.length);$b(\"Firebase.remove\",this.path);F(\"Firebase.remove\",1,a,!0);this.set(null,a)};O.prototype.remove=O.prototype.remove;\nO.prototype.transaction=function(a,b,c){D(\"Firebase.transaction\",1,3,arguments.length);$b(\"Firebase.transaction\",this.path);F(\"Firebase.transaction\",1,a,!1);F(\"Firebase.transaction\",2,b,!0);if(n(c)&&\"boolean\"!=typeof c)throw Error(E(\"Firebase.transaction\",3,!0)+\"must be a boolean.\");if(\".length\"===this.key()||\".keys\"===this.key())throw\"Firebase.transaction failed: \"+this.key()+\" is a read-only object.\";\"undefined\"===typeof c&&(c=!0);rh(this.g,this.path,a,b||null,c)};O.prototype.transaction=O.prototype.transaction;\nO.prototype.qg=function(a,b){D(\"Firebase.setPriority\",1,2,arguments.length);$b(\"Firebase.setPriority\",this.path);Wb(\"Firebase.setPriority\",1,a);F(\"Firebase.setPriority\",2,b,!0);this.g.Db(this.path.k(\".priority\"),a,null,b)};O.prototype.setPriority=O.prototype.qg;O.prototype.push=function(a,b){D(\"Firebase.push\",0,2,arguments.length);$b(\"Firebase.push\",this.path);Sb(\"Firebase.push\",a,!0);F(\"Firebase.push\",2,b,!0);var c=ih(this.g),c=Dh(c),c=this.k(c);\"undefined\"!==typeof a&&null!==a&&c.set(a,b);return c};\nO.prototype.push=O.prototype.push;O.prototype.fb=function(){$b(\"Firebase.onDisconnect\",this.path);return new Z(this.g,this.path)};O.prototype.onDisconnect=O.prototype.fb;O.prototype.T=function(a,b,c){z(\"FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.\");D(\"Firebase.auth\",1,3,arguments.length);ac(\"Firebase.auth\",a);F(\"Firebase.auth\",2,b,!0);F(\"Firebase.auth\",3,b,!0);zf(this.g.T,a,{},{remember:\"none\"},b,c)};O.prototype.auth=O.prototype.T;\nO.prototype.Pe=function(a){D(\"Firebase.unauth\",0,1,arguments.length);F(\"Firebase.unauth\",1,a,!0);Af(this.g.T,a)};O.prototype.unauth=O.prototype.Pe;O.prototype.ne=function(){D(\"Firebase.getAuth\",0,0,arguments.length);return this.g.T.ne()};O.prototype.getAuth=O.prototype.ne;O.prototype.ag=function(a,b){D(\"Firebase.onAuth\",1,2,arguments.length);F(\"Firebase.onAuth\",1,a,!1);Nb(\"Firebase.onAuth\",2,b);this.g.T.zb(\"auth_status\",a,b)};O.prototype.onAuth=O.prototype.ag;\nO.prototype.Zf=function(a,b){D(\"Firebase.offAuth\",1,2,arguments.length);F(\"Firebase.offAuth\",1,a,!1);Nb(\"Firebase.offAuth\",2,b);this.g.T.bc(\"auth_status\",a,b)};O.prototype.offAuth=O.prototype.Zf;O.prototype.Df=function(a,b,c){D(\"Firebase.authWithCustomToken\",2,3,arguments.length);ac(\"Firebase.authWithCustomToken\",a);F(\"Firebase.authWithCustomToken\",2,b,!1);cc(\"Firebase.authWithCustomToken\",3,c,!0);zf(this.g.T,a,{},c||{},b)};O.prototype.authWithCustomToken=O.prototype.Df;\nO.prototype.Ef=function(a,b,c){D(\"Firebase.authWithOAuthPopup\",2,3,arguments.length);bc(\"Firebase.authWithOAuthPopup\",1,a);F(\"Firebase.authWithOAuthPopup\",2,b,!1);cc(\"Firebase.authWithOAuthPopup\",3,c,!0);Ef(this.g.T,a,c,b)};O.prototype.authWithOAuthPopup=O.prototype.Ef;\nO.prototype.Ff=function(a,b,c){D(\"Firebase.authWithOAuthRedirect\",2,3,arguments.length);bc(\"Firebase.authWithOAuthRedirect\",1,a);F(\"Firebase.authWithOAuthRedirect\",2,b,!1);cc(\"Firebase.authWithOAuthRedirect\",3,c,!0);var d=this.g.T;Cf(d);var e=[sf],f=af(c);\"anonymous\"===a||\"firebase\"===a?B(b,V(\"TRANSPORT_UNAVAILABLE\")):(Ba.set(\"redirect_client_options\",f.ed),Df(d,e,\"/auth/\"+a,f,b))};O.prototype.authWithOAuthRedirect=O.prototype.Ff;\nO.prototype.Gf=function(a,b,c,d){D(\"Firebase.authWithOAuthToken\",3,4,arguments.length);bc(\"Firebase.authWithOAuthToken\",1,a);F(\"Firebase.authWithOAuthToken\",3,c,!1);cc(\"Firebase.authWithOAuthToken\",4,d,!0);p(b)?(bc(\"Firebase.authWithOAuthToken\",2,b),Bf(this.g.T,a+\"/token\",{access_token:b},d,c)):(cc(\"Firebase.authWithOAuthToken\",2,b,!1),Bf(this.g.T,a+\"/token\",b,d,c))};O.prototype.authWithOAuthToken=O.prototype.Gf;\nO.prototype.Cf=function(a,b){D(\"Firebase.authAnonymously\",1,2,arguments.length);F(\"Firebase.authAnonymously\",1,a,!1);cc(\"Firebase.authAnonymously\",2,b,!0);Bf(this.g.T,\"anonymous\",{},b,a)};O.prototype.authAnonymously=O.prototype.Cf;\nO.prototype.Hf=function(a,b,c){D(\"Firebase.authWithPassword\",2,3,arguments.length);cc(\"Firebase.authWithPassword\",1,a,!1);dc(\"Firebase.authWithPassword\",a,\"email\");dc(\"Firebase.authWithPassword\",a,\"password\");F(\"Firebase.authAnonymously\",2,b,!1);cc(\"Firebase.authAnonymously\",3,c,!0);Bf(this.g.T,\"password\",a,c,b)};O.prototype.authWithPassword=O.prototype.Hf;\nO.prototype.je=function(a,b){D(\"Firebase.createUser\",2,2,arguments.length);cc(\"Firebase.createUser\",1,a,!1);dc(\"Firebase.createUser\",a,\"email\");dc(\"Firebase.createUser\",a,\"password\");F(\"Firebase.createUser\",2,b,!1);this.g.T.je(a,b)};O.prototype.createUser=O.prototype.je;O.prototype.Ie=function(a,b){D(\"Firebase.removeUser\",2,2,arguments.length);cc(\"Firebase.removeUser\",1,a,!1);dc(\"Firebase.removeUser\",a,\"email\");dc(\"Firebase.removeUser\",a,\"password\");F(\"Firebase.removeUser\",2,b,!1);this.g.T.Ie(a,b)};\nO.prototype.removeUser=O.prototype.Ie;O.prototype.ee=function(a,b){D(\"Firebase.changePassword\",2,2,arguments.length);cc(\"Firebase.changePassword\",1,a,!1);dc(\"Firebase.changePassword\",a,\"email\");dc(\"Firebase.changePassword\",a,\"oldPassword\");dc(\"Firebase.changePassword\",a,\"newPassword\");F(\"Firebase.changePassword\",2,b,!1);this.g.T.ee(a,b)};O.prototype.changePassword=O.prototype.ee;\nO.prototype.Je=function(a,b){D(\"Firebase.resetPassword\",2,2,arguments.length);cc(\"Firebase.resetPassword\",1,a,!1);dc(\"Firebase.resetPassword\",a,\"email\");F(\"Firebase.resetPassword\",2,b,!1);this.g.T.Je(a,b)};O.prototype.resetPassword=O.prototype.Je;O.goOffline=function(){D(\"Firebase.goOffline\",0,0,arguments.length);Ah.Qb().tb()};O.goOnline=function(){D(\"Firebase.goOnline\",0,0,arguments.length);Ah.Qb().kc()};\nfunction qb(a,b){x(!b||!0===a||!1===a,\"Can't turn on custom loggers persistently.\");!0===a?(\"undefined\"!==typeof console&&(\"function\"===typeof console.log?ob=q(console.log,console):\"object\"===typeof console.log&&(ob=function(a){console.log(a)})),b&&Ba.set(\"logging_enabled\",!0)):a?ob=a:(ob=null,Ba.remove(\"logging_enabled\"))}O.enableLogging=qb;O.ServerValue={TIMESTAMP:{\".sv\":\"timestamp\"}};O.SDK_VERSION=\"2.0.4\";O.INTERNAL=Y;O.Context=Ah;O.TEST_ACCESS=$;})();\nmodule.exports = Firebase;\n",
    "'use strict';\n\nvar asap = require('asap')\n\nmodule.exports = Promise\nfunction Promise(fn) {\n  if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new')\n  if (typeof fn !== 'function') throw new TypeError('not a function')\n  var state = null\n  var value = null\n  var deferreds = []\n  var self = this\n\n  this.then = function(onFulfilled, onRejected) {\n    return new Promise(function(resolve, reject) {\n      handle(new Handler(onFulfilled, onRejected, resolve, reject))\n    })\n  }\n\n  function handle(deferred) {\n    if (state === null) {\n      deferreds.push(deferred)\n      return\n    }\n    asap(function() {\n      var cb = state ? deferred.onFulfilled : deferred.onRejected\n      if (cb === null) {\n        (state ? deferred.resolve : deferred.reject)(value)\n        return\n      }\n      var ret\n      try {\n        ret = cb(value)\n      }\n      catch (e) {\n        deferred.reject(e)\n        return\n      }\n      deferred.resolve(ret)\n    })\n  }\n\n  function resolve(newValue) {\n    try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.')\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then\n        if (typeof then === 'function') {\n          doResolve(then.bind(newValue), resolve, reject)\n          return\n        }\n      }\n      state = true\n      value = newValue\n      finale()\n    } catch (e) { reject(e) }\n  }\n\n  function reject(newValue) {\n    state = false\n    value = newValue\n    finale()\n  }\n\n  function finale() {\n    for (var i = 0, len = deferreds.length; i < len; i++)\n      handle(deferreds[i])\n    deferreds = null\n  }\n\n  doResolve(fn, resolve, reject)\n}\n\n\nfunction Handler(onFulfilled, onRejected, resolve, reject){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null\n  this.resolve = resolve\n  this.reject = reject\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, onFulfilled, onRejected) {\n  var done = false;\n  try {\n    fn(function (value) {\n      if (done) return\n      done = true\n      onFulfilled(value)\n    }, function (reason) {\n      if (done) return\n      done = true\n      onRejected(reason)\n    })\n  } catch (ex) {\n    if (done) return\n    done = true\n    onRejected(ex)\n  }\n}\n",
    "'use strict';\n\n//This file contains then/promise specific extensions to the core promise API\n\nvar Promise = require('./core.js')\nvar asap = require('asap')\n\nmodule.exports = Promise\n\n/* Static Functions */\n\nfunction ValuePromise(value) {\n  this.then = function (onFulfilled) {\n    if (typeof onFulfilled !== 'function') return this\n    return new Promise(function (resolve, reject) {\n      asap(function () {\n        try {\n          resolve(onFulfilled(value))\n        } catch (ex) {\n          reject(ex);\n        }\n      })\n    })\n  }\n}\nValuePromise.prototype = Object.create(Promise.prototype)\n\nvar TRUE = new ValuePromise(true)\nvar FALSE = new ValuePromise(false)\nvar NULL = new ValuePromise(null)\nvar UNDEFINED = new ValuePromise(undefined)\nvar ZERO = new ValuePromise(0)\nvar EMPTYSTRING = new ValuePromise('')\n\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value\n\n  if (value === null) return NULL\n  if (value === undefined) return UNDEFINED\n  if (value === true) return TRUE\n  if (value === false) return FALSE\n  if (value === 0) return ZERO\n  if (value === '') return EMPTYSTRING\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value))\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex)\n      })\n    }\n  }\n\n  return new ValuePromise(value)\n}\n\nPromise.from = Promise.cast = function (value) {\n  var err = new Error('Promise.from and Promise.cast are deprecated, use Promise.resolve instead')\n  err.name = 'Warning'\n  console.warn(err.stack)\n  return Promise.resolve(value)\n}\n\nPromise.denodeify = function (fn, argumentCount) {\n  argumentCount = argumentCount || Infinity\n  return function () {\n    var self = this\n    var args = Array.prototype.slice.call(arguments)\n    return new Promise(function (resolve, reject) {\n      while (args.length && args.length > argumentCount) {\n        args.pop()\n      }\n      args.push(function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      })\n      fn.apply(self, args)\n    })\n  }\n}\nPromise.nodeify = function (fn) {\n  return function () {\n    var args = Array.prototype.slice.call(arguments)\n    var callback = typeof args[args.length - 1] === 'function' ? args.pop() : null\n    try {\n      return fn.apply(this, arguments).nodeify(callback)\n    } catch (ex) {\n      if (callback === null || typeof callback == 'undefined') {\n        return new Promise(function (resolve, reject) { reject(ex) })\n      } else {\n        asap(function () {\n          callback(ex)\n        })\n      }\n    }\n  }\n}\n\nPromise.all = function () {\n  var calledWithArray = arguments.length === 1 && Array.isArray(arguments[0])\n  var args = Array.prototype.slice.call(calledWithArray ? arguments[0] : arguments)\n\n  if (!calledWithArray) {\n    var err = new Error('Promise.all should be called with a single array, calling it with multiple arguments is deprecated')\n    err.name = 'Warning'\n    console.warn(err.stack)\n  }\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([])\n    var remaining = args.length\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then\n          if (typeof then === 'function') {\n            then.call(val, function (val) { res(i, val) }, reject)\n            return\n          }\n        }\n        args[i] = val\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex)\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i])\n    }\n  })\n}\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) { \n    reject(value);\n  });\n}\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) { \n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    })\n  });\n}\n\n/* Prototype Methods */\n\nPromise.prototype.done = function (onFulfilled, onRejected) {\n  var self = arguments.length ? this.then.apply(this, arguments) : this\n  self.then(null, function (err) {\n    asap(function () {\n      throw err\n    })\n  })\n}\n\nPromise.prototype.nodeify = function (callback) {\n  if (typeof callback != 'function') return this\n\n  this.then(function (value) {\n    asap(function () {\n      callback(null, value)\n    })\n  }, function (err) {\n    asap(function () {\n      callback(err)\n    })\n  })\n}\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n}\n",
    "(function (process){\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\n\n// linked list of tasks (single, with head node)\nvar head = {task: void 0, next: null};\nvar tail = head;\nvar flushing = false;\nvar requestFlush = void 0;\nvar isNodeJS = false;\n\nfunction flush() {\n    /* jshint loopfunc: true */\n\n    while (head.next) {\n        head = head.next;\n        var task = head.task;\n        head.task = void 0;\n        var domain = head.domain;\n\n        if (domain) {\n            head.domain = void 0;\n            domain.enter();\n        }\n\n        try {\n            task();\n\n        } catch (e) {\n            if (isNodeJS) {\n                // In node, uncaught exceptions are considered fatal errors.\n                // Re-throw them synchronously to interrupt flushing!\n\n                // Ensure continuation if the uncaught exception is suppressed\n                // listening \"uncaughtException\" events (as domains does).\n                // Continue in next event to avoid tick recursion.\n                if (domain) {\n                    domain.exit();\n                }\n                setTimeout(flush, 0);\n                if (domain) {\n                    domain.enter();\n                }\n\n                throw e;\n\n            } else {\n                // In browsers, uncaught exceptions are not fatal.\n                // Re-throw them asynchronously to avoid slow-downs.\n                setTimeout(function() {\n                   throw e;\n                }, 0);\n            }\n        }\n\n        if (domain) {\n            domain.exit();\n        }\n    }\n\n    flushing = false;\n}\n\nif (typeof process !== \"undefined\" && process.nextTick) {\n    // Node.js before 0.9. Note that some fake-Node environments, like the\n    // Mocha test runner, introduce a `process` global without a `nextTick`.\n    isNodeJS = true;\n\n    requestFlush = function () {\n        process.nextTick(flush);\n    };\n\n} else if (typeof setImmediate === \"function\") {\n    // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n    if (typeof window !== \"undefined\") {\n        requestFlush = setImmediate.bind(window, flush);\n    } else {\n        requestFlush = function () {\n            setImmediate(flush);\n        };\n    }\n\n} else if (typeof MessageChannel !== \"undefined\") {\n    // modern browsers\n    // http://www.nonblocking.io/2011/06/windownexttick.html\n    var channel = new MessageChannel();\n    channel.port1.onmessage = flush;\n    requestFlush = function () {\n        channel.port2.postMessage(0);\n    };\n\n} else {\n    // old browsers\n    requestFlush = function () {\n        setTimeout(flush, 0);\n    };\n}\n\nfunction asap(task) {\n    tail = tail.next = {\n        task: task,\n        domain: isNodeJS && process.domain,\n        next: null\n    };\n\n    if (!flushing) {\n        flushing = true;\n        requestFlush();\n    }\n};\n\nmodule.exports = asap;\n\n\n}).call(this,require('_process'))",
    "// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n(function() {\n    'use strict';\n\n    // Originally found in https://github.com/mozilla-b2g/gaia/blob/e8f624e4cc9ea945727278039b3bc9bcb9f8667a/shared/js/async_storage.js\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports) ?\n                  require('promise') : this.Promise;\n\n    // Initialize IndexedDB; fall back to vendor-prefixed versions if needed.\n    var indexedDB = indexedDB || this.indexedDB || this.webkitIndexedDB ||\n                    this.mozIndexedDB || this.OIndexedDB ||\n                    this.msIndexedDB;\n\n    // If IndexedDB isn't available, we get outta here!\n    if (!indexedDB) {\n        return;\n    }\n\n    // Open the IndexedDB database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        return new Promise(function(resolve, reject) {\n            var openreq = indexedDB.open(dbInfo.name, dbInfo.version);\n            openreq.onerror = function() {\n                reject(openreq.error);\n            };\n            openreq.onupgradeneeded = function() {\n                // First time setup: create an empty object store\n                openreq.result.createObjectStore(dbInfo.storeName);\n            };\n            openreq.onsuccess = function() {\n                dbInfo.db = openreq.result;\n                self._dbInfo = dbInfo;\n                resolve();\n            };\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n                var req = store.get(key);\n\n                req.onsuccess = function() {\n                    var value = req.result;\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    resolve(value);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeDeferedCallback(promise, callback);\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readwrite')\n                              .objectStore(dbInfo.storeName);\n\n                // The reason we don't _save_ null is because IE 10 does\n                // not support saving the `null` type in IndexedDB. How\n                // ironic, given the bug below!\n                // See: https://github.com/mozilla/localForage/issues/161\n                if (value === null) {\n                    value = undefined;\n                }\n\n                var req = store.put(value, key);\n                req.onsuccess = function() {\n                    // Cast to undefined so the value passed to\n                    // callback/promise is the same as what one would get out\n                    // of `getItem()` later. This leads to some weirdness\n                    // (setItem('foo', undefined) will return `null`), but\n                    // it's not my fault localStorage is our baseline and that\n                    // it's weird.\n                    if (value === undefined) {\n                        value = null;\n                    }\n\n                    resolve(value);\n                };\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeDeferedCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readwrite')\n                              .objectStore(dbInfo.storeName);\n\n                // We use a Grunt task to make this safe for IE and some\n                // versions of Android (including those used by Cordova).\n                // Normally IE won't like `.delete()` and will insist on\n                // using `['delete']()`, but we have a build step that\n                // fixes this for us now.\n                var req = store.delete(key);\n                req.onsuccess = function() {\n                    resolve();\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n\n                // The request will be aborted if we've exceeded our storage\n                // space. In this case, we will reject with a specific\n                // \"QuotaExceededError\".\n                req.onabort = function(event) {\n                    var error = event.target.error;\n                    if (error === 'QuotaExceededError') {\n                        reject(error);\n                    }\n                };\n            }).catch(reject);\n        });\n\n        executeDeferedCallback(promise, callback);\n        return promise;\n    }\n\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readwrite')\n                              .objectStore(dbInfo.storeName);\n                var req = store.clear();\n\n                req.onsuccess = function() {\n                    resolve();\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeDeferedCallback(promise, callback);\n        return promise;\n    }\n\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n                var req = store.count();\n\n                req.onsuccess = function() {\n                    resolve(req.result);\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            if (n < 0) {\n                resolve(null);\n\n                return;\n            }\n\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var advanced = false;\n                var req = store.openCursor();\n                req.onsuccess = function() {\n                    var cursor = req.result;\n                    if (!cursor) {\n                        // this means there weren't enough keys\n                        resolve(null);\n\n                        return;\n                    }\n\n                    if (n === 0) {\n                        // We have the first key, return it if that's what they\n                        // wanted.\n                        resolve(cursor.key);\n                    } else {\n                        if (!advanced) {\n                            // Otherwise, ask the cursor to skip ahead n\n                            // records.\n                            advanced = true;\n                            cursor.advance(n);\n                        } else {\n                            // When we get here, we've got the nth key.\n                            resolve(cursor.key);\n                        }\n                    }\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly')\n                              .objectStore(dbInfo.storeName);\n\n                var req = store.openCursor();\n                var keys = [];\n\n                req.onsuccess = function() {\n                    var cursor = req.result;\n\n                    if (!cursor) {\n                        resolve(keys);\n                        return;\n                    }\n\n                    keys.push(cursor.key);\n                    cursor.continue();\n                };\n\n                req.onerror = function() {\n                    reject(req.error);\n                };\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    function executeDeferedCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                deferCallback(callback, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    // Under Chrome the callback is called before the changes (save, clear)\n    // are actually made. So we use a defer function which wait that the\n    // call stack to be empty.\n    // For more info : https://github.com/mozilla/localForage/issues/175\n    // Pull request : https://github.com/mozilla/localForage/pull/178\n    function deferCallback(callback, result) {\n        if (callback) {\n            return setTimeout(function() {\n                return callback(null, result);\n            }, 0);\n        }\n    }\n\n    var asyncStorage = {\n        _driver: 'asyncStorage',\n        _initStorage: _initStorage,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (typeof define === 'function' && define.amd) {\n        define('asyncStorage', function() {\n            return asyncStorage;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = asyncStorage;\n    } else {\n        this.asyncStorage = asyncStorage;\n    }\n}).call(window);\n",
    "// If IndexedDB isn't available, we'll fall back to localStorage.\n// Note that this will have considerable performance and storage\n// side-effects (all data will be serialized on save and only data that\n// can be converted to a string via `JSON.stringify()` will be saved).\n(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports) ?\n                  require('promise') : this.Promise;\n    var localStorage = null;\n\n    // If the app is running inside a Google Chrome packaged webapp, or some\n    // other context where localStorage isn't available, we don't use\n    // localStorage. This feature detection is preferred over the old\n    // `if (window.chrome && window.chrome.runtime)` code.\n    // See: https://github.com/mozilla/localForage/issues/68\n    try {\n        // If localStorage isn't available, we get outta here!\n        // This should be inside a try catch\n        if (!this.localStorage || !('setItem' in this.localStorage)) {\n            return;\n        }\n        // Initialize localStorage and create a variable to use throughout\n        // the code.\n        localStorage = this.localStorage;\n    } catch (e) {\n        return;\n    }\n\n    // Config the localStorage backend, using options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {};\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = options[i];\n            }\n        }\n\n        dbInfo.keyPrefix = dbInfo.name + '/';\n\n        self._dbInfo = dbInfo;\n        return Promise.resolve();\n    }\n\n    var SERIALIZED_MARKER = '__lfsc__:';\n    var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n    // OMG the serializations!\n    var TYPE_ARRAYBUFFER = 'arbf';\n    var TYPE_BLOB = 'blob';\n    var TYPE_INT8ARRAY = 'si08';\n    var TYPE_UINT8ARRAY = 'ui08';\n    var TYPE_UINT8CLAMPEDARRAY = 'uic8';\n    var TYPE_INT16ARRAY = 'si16';\n    var TYPE_INT32ARRAY = 'si32';\n    var TYPE_UINT16ARRAY = 'ur16';\n    var TYPE_UINT32ARRAY = 'ui32';\n    var TYPE_FLOAT32ARRAY = 'fl32';\n    var TYPE_FLOAT64ARRAY = 'fl64';\n    var TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH +\n                                        TYPE_ARRAYBUFFER.length;\n\n    // Remove all keys from the datastore, effectively destroying all data in\n    // the app's key/value store!\n    function clear(callback) {\n        var self = this;\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var keyPrefix = self._dbInfo.keyPrefix;\n\n                for (var i = localStorage.length - 1; i >= 0; i--) {\n                    var key = localStorage.key(i);\n\n                    if (key.indexOf(keyPrefix) === 0) {\n                        localStorage.removeItem(key);\n                    }\n                }\n\n                resolve();\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Retrieve an item from the store. Unlike the original async_storage\n    // library in Gaia, we don't modify return values at all. If a key's value\n    // is `undefined`, we pass that value to the callback function.\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                try {\n                    var dbInfo = self._dbInfo;\n                    var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n                    // If a result was found, parse it from the serialized\n                    // string into a JS object. If result isn't truthy, the key\n                    // is likely undefined and we'll pass it straight to the\n                    // callback.\n                    if (result) {\n                        result = _deserialize(result);\n                    }\n\n                    resolve(result);\n                } catch (e) {\n                    reject(e);\n                }\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Same as localStorage's key() method, except takes a callback.\n    function key(n, callback) {\n        var self = this;\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var result;\n                try {\n                    result = localStorage.key(n);\n                } catch (error) {\n                    result = null;\n                }\n\n                // Remove the prefix from the key, if a key is found.\n                if (result) {\n                    result = result.substring(dbInfo.keyPrefix.length);\n                }\n\n                resolve(result);\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                var length = localStorage.length;\n                var keys = [];\n\n                for (var i = 0; i < length; i++) {\n                    if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {\n                        keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));\n                    }\n                }\n\n                resolve(keys);\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Supply the number of keys in the datastore to the callback function.\n    function length(callback) {\n        var self = this;\n        var promise = new Promise(function(resolve, reject) {\n            self.keys().then(function(keys) {\n                resolve(keys.length);\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Remove an item from the store, nice and simple.\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                localStorage.removeItem(dbInfo.keyPrefix + key);\n\n                resolve();\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Deserialize data we've inserted into a value column/field. We place\n    // special markers into our strings to mark them as encoded; this isn't\n    // as nice as a meta field, but it's the only sane thing we can do whilst\n    // keeping localStorage support intact.\n    //\n    // Oftentimes this will just deserialize JSON content, but if we have a\n    // special marker (SERIALIZED_MARKER, defined above), we will extract\n    // some kind of arraybuffer/binary data/typed array out of the string.\n    function _deserialize(value) {\n        // If we haven't marked this string as being specially serialized (i.e.\n        // something other than serialized JSON), we can just return it and be\n        // done with it.\n        if (value.substring(0,\n            SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n            return JSON.parse(value);\n        }\n\n        // The following code deals with deserializing some kind of Blob or\n        // TypedArray. First we separate out the type of data we're dealing\n        // with from the data itself.\n        var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        var type = value.substring(SERIALIZED_MARKER_LENGTH,\n                                   TYPE_SERIALIZED_MARKER_LENGTH);\n\n        // Fill the string into a ArrayBuffer.\n        // 2 bytes for each char.\n        var buffer = new ArrayBuffer(serializedString.length * 2);\n        var bufferView = new Uint16Array(buffer);\n        for (var i = serializedString.length - 1; i >= 0; i--) {\n            bufferView[i] = serializedString.charCodeAt(i);\n        }\n\n        // Return the right type based on the code/type set during\n        // serialization.\n        switch (type) {\n            case TYPE_ARRAYBUFFER:\n                return buffer;\n            case TYPE_BLOB:\n                return new Blob([buffer]);\n            case TYPE_INT8ARRAY:\n                return new Int8Array(buffer);\n            case TYPE_UINT8ARRAY:\n                return new Uint8Array(buffer);\n            case TYPE_UINT8CLAMPEDARRAY:\n                return new Uint8ClampedArray(buffer);\n            case TYPE_INT16ARRAY:\n                return new Int16Array(buffer);\n            case TYPE_UINT16ARRAY:\n                return new Uint16Array(buffer);\n            case TYPE_INT32ARRAY:\n                return new Int32Array(buffer);\n            case TYPE_UINT32ARRAY:\n                return new Uint32Array(buffer);\n            case TYPE_FLOAT32ARRAY:\n                return new Float32Array(buffer);\n            case TYPE_FLOAT64ARRAY:\n                return new Float64Array(buffer);\n            default:\n                throw new Error('Unkown type: ' + type);\n        }\n    }\n\n    // Converts a buffer to a string to store, serialized, in the backend\n    // storage library.\n    function _bufferToString(buffer) {\n        var str = '';\n        var uint16Array = new Uint16Array(buffer);\n\n        try {\n            str = String.fromCharCode.apply(null, uint16Array);\n        } catch (e) {\n            // This is a fallback implementation in case the first one does\n            // not work. This is required to get the phantomjs passing...\n            for (var i = 0; i < uint16Array.length; i++) {\n                str += String.fromCharCode(uint16Array[i]);\n            }\n        }\n\n        return str;\n    }\n\n    // Serialize a value, afterwards executing a callback (which usually\n    // instructs the `setItem()` callback/promise to be executed). This is how\n    // we store binary data with localStorage.\n    function _serialize(value, callback) {\n        var valueString = '';\n        if (value) {\n            valueString = value.toString();\n        }\n\n        // Cannot use `value instanceof ArrayBuffer` or such here, as these\n        // checks fail when running the tests using casper.js...\n        //\n        // TODO: See why those tests fail and use a better solution.\n        if (value && (value.toString() === '[object ArrayBuffer]' ||\n                      value.buffer &&\n                      value.buffer.toString() === '[object ArrayBuffer]')) {\n            // Convert binary arrays to a string and prefix the string with\n            // a special marker.\n            var buffer;\n            var marker = SERIALIZED_MARKER;\n\n            if (value instanceof ArrayBuffer) {\n                buffer = value;\n                marker += TYPE_ARRAYBUFFER;\n            } else {\n                buffer = value.buffer;\n\n                if (valueString === '[object Int8Array]') {\n                    marker += TYPE_INT8ARRAY;\n                } else if (valueString === '[object Uint8Array]') {\n                    marker += TYPE_UINT8ARRAY;\n                } else if (valueString === '[object Uint8ClampedArray]') {\n                    marker += TYPE_UINT8CLAMPEDARRAY;\n                } else if (valueString === '[object Int16Array]') {\n                    marker += TYPE_INT16ARRAY;\n                } else if (valueString === '[object Uint16Array]') {\n                    marker += TYPE_UINT16ARRAY;\n                } else if (valueString === '[object Int32Array]') {\n                    marker += TYPE_INT32ARRAY;\n                } else if (valueString === '[object Uint32Array]') {\n                    marker += TYPE_UINT32ARRAY;\n                } else if (valueString === '[object Float32Array]') {\n                    marker += TYPE_FLOAT32ARRAY;\n                } else if (valueString === '[object Float64Array]') {\n                    marker += TYPE_FLOAT64ARRAY;\n                } else {\n                    callback(new Error('Failed to get type for BinaryArray'));\n                }\n            }\n\n            callback(marker + _bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n            // Conver the blob to a binaryArray and then to a string.\n            var fileReader = new FileReader();\n\n            fileReader.onload = function() {\n                var str = _bufferToString(this.result);\n\n                callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n            };\n\n            fileReader.readAsArrayBuffer(value);\n        } else {\n            try {\n                callback(JSON.stringify(value));\n            } catch (e) {\n                window.console.error(\"Couldn't convert value into a JSON \" +\n                                     'string: ', value);\n\n                callback(e);\n            }\n        }\n    }\n\n    // Set a key's value and run an optional callback once the value is set.\n    // Unlike Gaia's implementation, the callback function is passed the value,\n    // in case you want to operate on that value only after you're sure it\n    // saved, or something like that.\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                // Convert undefined values to null.\n                // https://github.com/mozilla/localForage/pull/42\n                if (value === undefined) {\n                    value = null;\n                }\n\n                // Save the original value to pass to the callback.\n                var originalValue = value;\n\n                _serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        try {\n                            var dbInfo = self._dbInfo;\n                            localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        } catch (e) {\n                            // localStorage capacity exceeded.\n                            // TODO: Make this a specific error/event.\n                            if (e.name === 'QuotaExceededError' ||\n                                e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                                reject(e);\n                            }\n                        }\n\n                        resolve(originalValue);\n                    }\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var localStorageWrapper = {\n        _driver: 'localStorageWrapper',\n        _initStorage: _initStorage,\n        // Default API, from Gaia/localStorage.\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (typeof define === 'function' && define.amd) {\n        define('localStorageWrapper', function() {\n            return localStorageWrapper;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = localStorageWrapper;\n    } else {\n        this.localStorageWrapper = localStorageWrapper;\n    }\n}).call(window);\n",
    "/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function() {\n    'use strict';\n\n    // Sadly, the best way to save binary data in WebSQL is Base64 serializing\n    // it, so this is how we store it to prevent very strange errors with less\n    // verbose ways of binary <-> string data storage.\n    var BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports) ?\n                  require('promise') : this.Promise;\n\n    var openDatabase = this.openDatabase;\n\n    var SERIALIZED_MARKER = '__lfsc__:';\n    var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n    // OMG the serializations!\n    var TYPE_ARRAYBUFFER = 'arbf';\n    var TYPE_BLOB = 'blob';\n    var TYPE_INT8ARRAY = 'si08';\n    var TYPE_UINT8ARRAY = 'ui08';\n    var TYPE_UINT8CLAMPEDARRAY = 'uic8';\n    var TYPE_INT16ARRAY = 'si16';\n    var TYPE_INT32ARRAY = 'si32';\n    var TYPE_UINT16ARRAY = 'ur16';\n    var TYPE_UINT32ARRAY = 'ui32';\n    var TYPE_FLOAT32ARRAY = 'fl32';\n    var TYPE_FLOAT64ARRAY = 'fl64';\n    var TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH +\n                                        TYPE_ARRAYBUFFER.length;\n\n    // If WebSQL methods aren't available, we can stop now.\n    if (!openDatabase) {\n        return;\n    }\n\n    // Open the WebSQL database (automatically creates one if one didn't\n    // previously exist), using any options set in the config.\n    function _initStorage(options) {\n        var self = this;\n        var dbInfo = {\n            db: null\n        };\n\n        if (options) {\n            for (var i in options) {\n                dbInfo[i] = typeof(options[i]) !== 'string' ?\n                            options[i].toString() : options[i];\n            }\n        }\n\n        return new Promise(function(resolve, reject) {\n            // Open the database; the openDatabase API will automatically\n            // create it for us if it doesn't exist.\n            try {\n                dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version),\n                                         dbInfo.description, dbInfo.size);\n            } catch (e) {\n                return self.setDriver('localStorageWrapper')\n                    .then(function() {\n                        return self._initStorage(options);\n                    })\n                    .then(resolve)\n                    .catch(reject);\n            }\n\n            // Create our key/value table if it doesn't exist.\n            dbInfo.db.transaction(function(t) {\n                t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName +\n                             ' (id INTEGER PRIMARY KEY, key unique, value)', [],\n                             function() {\n                    self._dbInfo = dbInfo;\n                    resolve();\n                }, function(t, error) {\n                    reject(error);\n                });\n            });\n        });\n    }\n\n    function getItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT * FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ? LIMIT 1', [key],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).value : null;\n\n                        // Check to see if this is serialized content we need to\n                        // unpack.\n                        if (result) {\n                            result = _deserialize(result);\n                        }\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function setItem(key, value, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                // The localStorage API doesn't return undefined values in an\n                // \"expected\" way, so undefined is always cast to null in all\n                // drivers. See: https://github.com/mozilla/localForage/pull/42\n                if (value === undefined) {\n                    value = null;\n                }\n\n                // Save the original value to pass to the callback.\n                var originalValue = value;\n\n                _serialize(value, function(value, error) {\n                    if (error) {\n                        reject(error);\n                    } else {\n                        var dbInfo = self._dbInfo;\n                        dbInfo.db.transaction(function(t) {\n                            t.executeSql('INSERT OR REPLACE INTO ' +\n                                         dbInfo.storeName +\n                                         ' (key, value) VALUES (?, ?)',\n                                         [key, value], function() {\n                                resolve(originalValue);\n                            }, function(t, error) {\n                                reject(error);\n                            });\n                        }, function(sqlError) { // The transaction failed; check\n                                                // to see if it's a quota error.\n                            if (sqlError.code === sqlError.QUOTA_ERR) {\n                                // We reject the callback outright for now, but\n                                // it's worth trying to re-run the transaction.\n                                // Even if the user accepts the prompt to use\n                                // more storage on Safari, this error will\n                                // be called.\n                                //\n                                // TODO: Try to re-run the transaction.\n                                reject(sqlError);\n                            }\n                        });\n                    }\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function removeItem(key, callback) {\n        var self = this;\n\n        // Cast the key to a string, as that's all we can set as a key.\n        if (typeof key !== 'string') {\n            window.console.warn(key +\n                                ' used as a key, but it is not a string.');\n            key = String(key);\n        }\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName +\n                                 ' WHERE key = ?', [key], function() {\n\n                        resolve();\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Deletes every item in the table.\n    // TODO: Find out if this resets the AUTO_INCREMENT number.\n    function clear(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('DELETE FROM ' + dbInfo.storeName, [],\n                                 function() {\n                        resolve();\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Does a simple `COUNT(key)` to get the number of items stored in\n    // localForage.\n    function length(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    // Ahhh, SQL makes this one soooooo easy.\n                    t.executeSql('SELECT COUNT(key) as c FROM ' +\n                                 dbInfo.storeName, [], function(t, results) {\n                        var result = results.rows.item(0).c;\n\n                        resolve(result);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Return the key located at key index X; essentially gets the key from a\n    // `WHERE id = ?`. This is the most efficient way I can think to implement\n    // this rarely-used (in my experience) part of the API, but it can seem\n    // inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n    // the ID of each key will change every time it's updated. Perhaps a stored\n    // procedure for the `setItem()` SQL would solve this problem?\n    // TODO: Don't change ID on `setItem()`.\n    function key(n, callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName +\n                                 ' WHERE id = ? LIMIT 1', [n + 1],\n                                 function(t, results) {\n                        var result = results.rows.length ?\n                                     results.rows.item(0).key : null;\n                        resolve(result);\n                    }, function(t, error) {\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    function keys(callback) {\n        var self = this;\n\n        var promise = new Promise(function(resolve, reject) {\n            self.ready().then(function() {\n                var dbInfo = self._dbInfo;\n                dbInfo.db.transaction(function(t) {\n                    t.executeSql('SELECT key FROM ' + dbInfo.storeName, [],\n                                 function(t, results) {\n                        var keys = [];\n\n                        for (var i = 0; i < results.rows.length; i++) {\n                            keys.push(results.rows.item(i).key);\n                        }\n\n                        resolve(keys);\n                    }, function(t, error) {\n\n                        reject(error);\n                    });\n                });\n            }).catch(reject);\n        });\n\n        executeCallback(promise, callback);\n        return promise;\n    }\n\n    // Converts a buffer to a string to store, serialized, in the backend\n    // storage library.\n    function _bufferToString(buffer) {\n        // base64-arraybuffer\n        var bytes = new Uint8Array(buffer);\n        var i;\n        var base64String = '';\n\n        for (i = 0; i < bytes.length; i += 3) {\n            /*jslint bitwise: true */\n            base64String += BASE_CHARS[bytes[i] >> 2];\n            base64String += BASE_CHARS[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64String += BASE_CHARS[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64String += BASE_CHARS[bytes[i + 2] & 63];\n        }\n\n        if ((bytes.length % 3) === 2) {\n            base64String = base64String.substring(0, base64String.length - 1) + '=';\n        } else if (bytes.length % 3 === 1) {\n            base64String = base64String.substring(0, base64String.length - 2) + '==';\n        }\n\n        return base64String;\n    }\n\n    // Deserialize data we've inserted into a value column/field. We place\n    // special markers into our strings to mark them as encoded; this isn't\n    // as nice as a meta field, but it's the only sane thing we can do whilst\n    // keeping localStorage support intact.\n    //\n    // Oftentimes this will just deserialize JSON content, but if we have a\n    // special marker (SERIALIZED_MARKER, defined above), we will extract\n    // some kind of arraybuffer/binary data/typed array out of the string.\n    function _deserialize(value) {\n        // If we haven't marked this string as being specially serialized (i.e.\n        // something other than serialized JSON), we can just return it and be\n        // done with it.\n        if (value.substring(0,\n                            SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n            return JSON.parse(value);\n        }\n\n        // The following code deals with deserializing some kind of Blob or\n        // TypedArray. First we separate out the type of data we're dealing\n        // with from the data itself.\n        var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n        var type = value.substring(SERIALIZED_MARKER_LENGTH,\n                                   TYPE_SERIALIZED_MARKER_LENGTH);\n\n        // Fill the string into a ArrayBuffer.\n        var bufferLength = serializedString.length * 0.75;\n        var len = serializedString.length;\n        var i;\n        var p = 0;\n        var encoded1, encoded2, encoded3, encoded4;\n\n        if (serializedString[serializedString.length - 1] === '=') {\n            bufferLength--;\n            if (serializedString[serializedString.length - 2] === '=') {\n                bufferLength--;\n            }\n        }\n\n        var buffer = new ArrayBuffer(bufferLength);\n        var bytes = new Uint8Array(buffer);\n\n        for (i = 0; i < len; i+=4) {\n            encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n            encoded2 = BASE_CHARS.indexOf(serializedString[i+1]);\n            encoded3 = BASE_CHARS.indexOf(serializedString[i+2]);\n            encoded4 = BASE_CHARS.indexOf(serializedString[i+3]);\n\n            /*jslint bitwise: true */\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n\n        // Return the right type based on the code/type set during\n        // serialization.\n        switch (type) {\n            case TYPE_ARRAYBUFFER:\n                return buffer;\n            case TYPE_BLOB:\n                return new Blob([buffer]);\n            case TYPE_INT8ARRAY:\n                return new Int8Array(buffer);\n            case TYPE_UINT8ARRAY:\n                return new Uint8Array(buffer);\n            case TYPE_UINT8CLAMPEDARRAY:\n                return new Uint8ClampedArray(buffer);\n            case TYPE_INT16ARRAY:\n                return new Int16Array(buffer);\n            case TYPE_UINT16ARRAY:\n                return new Uint16Array(buffer);\n            case TYPE_INT32ARRAY:\n                return new Int32Array(buffer);\n            case TYPE_UINT32ARRAY:\n                return new Uint32Array(buffer);\n            case TYPE_FLOAT32ARRAY:\n                return new Float32Array(buffer);\n            case TYPE_FLOAT64ARRAY:\n                return new Float64Array(buffer);\n            default:\n                throw new Error('Unkown type: ' + type);\n        }\n    }\n\n    // Serialize a value, afterwards executing a callback (which usually\n    // instructs the `setItem()` callback/promise to be executed). This is how\n    // we store binary data with localStorage.\n    function _serialize(value, callback) {\n        var valueString = '';\n        if (value) {\n            valueString = value.toString();\n        }\n\n        // Cannot use `value instanceof ArrayBuffer` or such here, as these\n        // checks fail when running the tests using casper.js...\n        //\n        // TODO: See why those tests fail and use a better solution.\n        if (value && (value.toString() === '[object ArrayBuffer]' ||\n                      value.buffer &&\n                      value.buffer.toString() === '[object ArrayBuffer]')) {\n            // Convert binary arrays to a string and prefix the string with\n            // a special marker.\n            var buffer;\n            var marker = SERIALIZED_MARKER;\n\n            if (value instanceof ArrayBuffer) {\n                buffer = value;\n                marker += TYPE_ARRAYBUFFER;\n            } else {\n                buffer = value.buffer;\n\n                if (valueString === '[object Int8Array]') {\n                    marker += TYPE_INT8ARRAY;\n                } else if (valueString === '[object Uint8Array]') {\n                    marker += TYPE_UINT8ARRAY;\n                } else if (valueString === '[object Uint8ClampedArray]') {\n                    marker += TYPE_UINT8CLAMPEDARRAY;\n                } else if (valueString === '[object Int16Array]') {\n                    marker += TYPE_INT16ARRAY;\n                } else if (valueString === '[object Uint16Array]') {\n                    marker += TYPE_UINT16ARRAY;\n                } else if (valueString === '[object Int32Array]') {\n                    marker += TYPE_INT32ARRAY;\n                } else if (valueString === '[object Uint32Array]') {\n                    marker += TYPE_UINT32ARRAY;\n                } else if (valueString === '[object Float32Array]') {\n                    marker += TYPE_FLOAT32ARRAY;\n                } else if (valueString === '[object Float64Array]') {\n                    marker += TYPE_FLOAT64ARRAY;\n                } else {\n                    callback(new Error('Failed to get type for BinaryArray'));\n                }\n            }\n\n            callback(marker + _bufferToString(buffer));\n        } else if (valueString === '[object Blob]') {\n            // Conver the blob to a binaryArray and then to a string.\n            var fileReader = new FileReader();\n\n            fileReader.onload = function() {\n                var str = _bufferToString(this.result);\n\n                callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n            };\n\n            fileReader.readAsArrayBuffer(value);\n        } else {\n            try {\n                callback(JSON.stringify(value));\n            } catch (e) {\n                window.console.error(\"Couldn't convert value into a JSON \" +\n                                     'string: ', value);\n\n                callback(null, e);\n            }\n        }\n    }\n\n    function executeCallback(promise, callback) {\n        if (callback) {\n            promise.then(function(result) {\n                callback(null, result);\n            }, function(error) {\n                callback(error);\n            });\n        }\n    }\n\n    var webSQLStorage = {\n        _driver: 'webSQLStorage',\n        _initStorage: _initStorage,\n        getItem: getItem,\n        setItem: setItem,\n        removeItem: removeItem,\n        clear: clear,\n        length: length,\n        key: key,\n        keys: keys\n    };\n\n    if (typeof define === 'function' && define.amd) {\n        define('webSQLStorage', function() {\n            return webSQLStorage;\n        });\n    } else if (typeof module !== 'undefined' && module.exports) {\n        module.exports = webSQLStorage;\n    } else {\n        this.webSQLStorage = webSQLStorage;\n    }\n}).call(window);\n",
    "(function() {\n    'use strict';\n\n    // Promises!\n    var Promise = (typeof module !== 'undefined' && module.exports) ?\n                  require('promise') : this.Promise;\n\n    // Custom drivers are stored here when `defineDriver()` is called.\n    // They are shared across all instances of localForage.\n    var CustomDrivers = {};\n\n    var DriverType = {\n        INDEXEDDB: 'asyncStorage',\n        LOCALSTORAGE: 'localStorageWrapper',\n        WEBSQL: 'webSQLStorage'\n    };\n\n    var DefaultDriverOrder = [\n        DriverType.INDEXEDDB,\n        DriverType.WEBSQL,\n        DriverType.LOCALSTORAGE\n    ];\n\n    var LibraryMethods = [\n        'clear',\n        'getItem',\n        'key',\n        'keys',\n        'length',\n        'removeItem',\n        'setItem'\n    ];\n\n    var ModuleType = {\n        DEFINE: 1,\n        EXPORT: 2,\n        WINDOW: 3\n    };\n\n    var DefaultConfig = {\n        description: '',\n        driver: DefaultDriverOrder.slice(),\n        name: 'localforage',\n        // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n        // we can use without a prompt.\n        size: 4980736,\n        storeName: 'keyvaluepairs',\n        version: 1.0\n    };\n\n    // Attaching to window (i.e. no module loader) is the assumed,\n    // simple default.\n    var moduleType = ModuleType.WINDOW;\n\n    // Find out what kind of module setup we have; if none, we'll just attach\n    // localForage to the main window.\n    if (typeof define === 'function' && define.amd) {\n        moduleType = ModuleType.DEFINE;\n    } else if (typeof module !== 'undefined' && module.exports) {\n        moduleType = ModuleType.EXPORT;\n    }\n\n    // Check to see if IndexedDB is available and if it is the latest\n    // implementation; it's our preferred backend library. We use \"_spec_test\"\n    // as the name of the database because it's not the one we'll operate on,\n    // but it's useful to make sure its using the right spec.\n    // See: https://github.com/mozilla/localForage/issues/128\n    var driverSupport = (function(self) {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        var indexedDB = indexedDB || self.indexedDB || self.webkitIndexedDB ||\n                        self.mozIndexedDB || self.OIndexedDB ||\n                        self.msIndexedDB;\n\n        var result = {};\n\n        result[DriverType.WEBSQL] = !!self.openDatabase;\n        result[DriverType.INDEXEDDB] = !!(function() {\n            // We mimic PouchDB here; just UA test for Safari (which, as of\n            // iOS 8/Yosemite, doesn't properly support IndexedDB).\n            // IndexedDB support is broken and different from Blink's.\n            // This is faster than the test case (and it's sync), so we just\n            // do this. *SIGH*\n            // http://bl.ocks.org/nolanlawson/raw/c83e9039edf2278047e9/\n            //\n            // We test for openDatabase because IE Mobile identifies itself\n            // as Safari. Oh the lulz...\n            if (typeof self.openDatabase !== 'undefined' && self.navigator &&\n                self.navigator.userAgent &&\n                /Safari/.test(self.navigator.userAgent) &&\n                !/Chrome/.test(self.navigator.userAgent)) {\n                return false;\n            }\n            try {\n                return indexedDB &&\n                       typeof indexedDB.open === 'function' &&\n                       // Some Samsung/HTC Android 4.0-4.3 devices\n                       // have older IndexedDB specs; if this isn't available\n                       // their IndexedDB is too old for us to use.\n                       // (Replaces the onupgradeneeded test.)\n                       typeof self.IDBKeyRange !== 'undefined';\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        result[DriverType.LOCALSTORAGE] = !!(function() {\n            try {\n                return (self.localStorage &&\n                        ('setItem' in self.localStorage) &&\n                        (self.localStorage.setItem));\n            } catch (e) {\n                return false;\n            }\n        })();\n\n        return result;\n    })(this);\n\n    var isArray = Array.isArray || function(arg) {\n        return Object.prototype.toString.call(arg) === '[object Array]';\n    };\n\n    function callWhenReady(localForageInstance, libraryMethod) {\n        localForageInstance[libraryMethod] = function() {\n            var _args = arguments;\n            return localForageInstance.ready().then(function() {\n                return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n            });\n        };\n    }\n\n    function extend() {\n        for (var i = 1; i < arguments.length; i++) {\n            var arg = arguments[i];\n\n            if (arg) {\n                for (var key in arg) {\n                    if (arg.hasOwnProperty(key)) {\n                        if (isArray(arg[key])) {\n                            arguments[0][key] = arg[key].slice();\n                        } else {\n                            arguments[0][key] = arg[key];\n                        }\n                    }\n                }\n            }\n        }\n\n        return arguments[0];\n    }\n\n    function isLibraryDriver(driverName) {\n        for (var driver in DriverType) {\n            if (DriverType.hasOwnProperty(driver) &&\n                DriverType[driver] === driverName) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    var globalObject = this;\n\n    function LocalForage(options) {\n        this._config = extend({}, DefaultConfig, options);\n        this._driverSet = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0; i < LibraryMethods.length; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n\n        this.setDriver(this._config.driver);\n    }\n\n    LocalForage.prototype.INDEXEDDB = DriverType.INDEXEDDB;\n    LocalForage.prototype.LOCALSTORAGE = DriverType.LOCALSTORAGE;\n    LocalForage.prototype.WEBSQL = DriverType.WEBSQL;\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n    LocalForage.prototype.config = function(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if (typeof(options) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" +\n                                 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof(options) === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n    LocalForage.prototype.defineDriver = function(driverObject, callback,\n                                                  errorCallback) {\n        var defineDriver = new Promise(function(resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error(\n                    'Custom driver not compliant; see ' +\n                    'https://mozilla.github.io/localForage/#definedriver'\n                );\n                var namingError = new Error(\n                    'Custom driver name already in use: ' + driverObject._driver\n                );\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n                if (isLibraryDriver(driverObject._driver)) {\n                    reject(namingError);\n                    return;\n                }\n\n                var customDriverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0; i < customDriverMethods.length; i++) {\n                    var customDriverMethod = customDriverMethods[i];\n                    if (!customDriverMethod ||\n                        !driverObject[customDriverMethod] ||\n                        typeof driverObject[customDriverMethod] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var supportPromise = Promise.resolve(true);\n                if ('_support'  in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        supportPromise = driverObject._support();\n                    } else {\n                        supportPromise = Promise.resolve(!!driverObject._support);\n                    }\n                }\n\n                supportPromise.then(function(supportResult) {\n                    driverSupport[driverName] = supportResult;\n                    CustomDrivers[driverName] = driverObject;\n                    resolve();\n                }, reject);\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        defineDriver.then(callback, errorCallback);\n        return defineDriver;\n    };\n\n    LocalForage.prototype.driver = function() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.ready = function(callback) {\n        var self = this;\n\n        var ready = new Promise(function(resolve, reject) {\n            self._driverSet.then(function() {\n                if (self._ready === null) {\n                    self._ready = self._initStorage(self._config);\n                }\n\n                self._ready.then(resolve, reject);\n            }).catch(reject);\n        });\n\n        ready.then(callback, callback);\n        return ready;\n    };\n\n    LocalForage.prototype.setDriver = function(drivers, callback,\n                                               errorCallback) {\n        var self = this;\n\n        if (typeof drivers === 'string') {\n            drivers = [drivers];\n        }\n\n        this._driverSet = new Promise(function(resolve, reject) {\n            var driverName = self._getFirstSupportedDriver(drivers);\n            var error = new Error('No available storage method found.');\n\n            if (!driverName) {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n                return;\n            }\n\n            self._dbInfo = null;\n            self._ready = null;\n\n            if (isLibraryDriver(driverName)) {\n                // We allow localForage to be declared as a module or as a\n                // library available without AMD/require.js.\n                if (moduleType === ModuleType.DEFINE) {\n                    require([driverName], function(lib) {\n                        self._extend(lib);\n\n                        resolve();\n                    });\n\n                    return;\n                } else if (moduleType === ModuleType.EXPORT) {\n                    // Making it browserify friendly\n                    var driver;\n                    switch (driverName) {\n                        case self.INDEXEDDB:\n                            driver = require('./drivers/indexeddb');\n                            break;\n                        case self.LOCALSTORAGE:\n                            driver = require('./drivers/localstorage');\n                            break;\n                        case self.WEBSQL:\n                            driver = require('./drivers/websql');\n                    }\n\n                    self._extend(driver);\n                } else {\n                    self._extend(globalObject[driverName]);\n                }\n            } else if (CustomDrivers[driverName]) {\n                self._extend(CustomDrivers[driverName]);\n            } else {\n                self._driverSet = Promise.reject(error);\n                reject(error);\n                return;\n            }\n\n            resolve();\n        });\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n        this._driverSet.then(setDriverToConfig, setDriverToConfig);\n\n        this._driverSet.then(callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function(driverName) {\n        return !!driverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    // Used to determine which driver we should use as the backend for this\n    // instance of localForage.\n    LocalForage.prototype._getFirstSupportedDriver = function(drivers) {\n        if (drivers && isArray(drivers)) {\n            for (var i = 0; i < drivers.length; i++) {\n                var driver = drivers[i];\n\n                if (this.supports(driver)) {\n                    return driver;\n                }\n            }\n        }\n\n        return null;\n    };\n\n    LocalForage.prototype.createInstance = function(options) {\n        return new LocalForage(options);\n    };\n\n    // The actual localForage object that we expose as a module or via a\n    // global. It's extended by pulling in one of our other libraries.\n    var localForage = new LocalForage();\n\n    // We allow localForage to be declared as a module or as a library\n    // available without AMD/require.js.\n    if (moduleType === ModuleType.DEFINE) {\n        define('localforage', function() {\n            return localForage;\n        });\n    } else if (moduleType === ModuleType.EXPORT) {\n        module.exports = localForage;\n    } else {\n        this.localforage = localForage;\n    }\n}).call(window);\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar debounce = require('lodash.debounce'),\n    isFunction = require('lodash.isfunction'),\n    isObject = require('lodash.isobject');\n\n/** Used as an internal `_.debounce` options object */\nvar debounceOptions = {\n  'leading': false,\n  'maxWait': 0,\n  'trailing': false\n};\n\n/**\n * Creates a function that, when executed, will only call the `func` function\n * at most once per every `wait` milliseconds. Provide an options object to\n * indicate that `func` should be invoked on the leading and/or trailing edge\n * of the `wait` timeout. Subsequent calls to the throttled function will\n * return the result of the last `func` call.\n *\n * Note: If `leading` and `trailing` options are `true` `func` will be called\n * on the trailing edge of the timeout only if the the throttled function is\n * invoked more than once during the `wait` timeout.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to throttle.\n * @param {number} wait The number of milliseconds to throttle executions to.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // avoid excessively updating the position while scrolling\n * var throttled = _.throttle(updatePosition, 100);\n * jQuery(window).on('scroll', throttled);\n *\n * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n *   'trailing': false\n * }));\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (!isFunction(func)) {\n    throw new TypeError;\n  }\n  if (options === false) {\n    leading = false;\n  } else if (isObject(options)) {\n    leading = 'leading' in options ? options.leading : leading;\n    trailing = 'trailing' in options ? options.trailing : trailing;\n  }\n  debounceOptions.leading = leading;\n  debounceOptions.maxWait = wait;\n  debounceOptions.trailing = trailing;\n\n  return debounce(func, wait, debounceOptions);\n}\n\nmodule.exports = throttle;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isFunction = require('lodash.isfunction'),\n    isObject = require('lodash.isobject'),\n    now = require('lodash.now');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that will delay the execution of `func` until after\n * `wait` milliseconds have elapsed since the last time it was invoked.\n * Provide an options object to indicate that `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n * to the debounced function will return the result of the last `func` call.\n *\n * Note: If `leading` and `trailing` options are `true` `func` will be called\n * on the trailing edge of the timeout only if the the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to debounce.\n * @param {number} wait The number of milliseconds to delay.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // avoid costly calculations while the window size is in flux\n * var lazyLayout = _.debounce(calculateLayout, 150);\n * jQuery(window).on('resize', lazyLayout);\n *\n * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * });\n *\n * // ensure `batchLog` is executed once after 1 second of debounced calls\n * var source = new EventSource('/stream');\n * source.addEventListener('message', _.debounce(batchLog, 250, {\n *   'maxWait': 1000\n * }, false);\n */\nfunction debounce(func, wait, options) {\n  var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      maxWait = false,\n      trailing = true;\n\n  if (!isFunction(func)) {\n    throw new TypeError;\n  }\n  wait = nativeMax(0, wait) || 0;\n  if (options === true) {\n    var leading = true;\n    trailing = false;\n  } else if (isObject(options)) {\n    leading = options.leading;\n    maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n    trailing = 'trailing' in options ? options.trailing : trailing;\n  }\n  var delayed = function() {\n    var remaining = wait - (now() - stamp);\n    if (remaining <= 0) {\n      if (maxTimeoutId) {\n        clearTimeout(maxTimeoutId);\n      }\n      var isCalled = trailingCall;\n      maxTimeoutId = timeoutId = trailingCall = undefined;\n      if (isCalled) {\n        lastCalled = now();\n        result = func.apply(thisArg, args);\n        if (!timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n      }\n    } else {\n      timeoutId = setTimeout(delayed, remaining);\n    }\n  };\n\n  var maxDelayed = function() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n    if (trailing || (maxWait !== wait)) {\n      lastCalled = now();\n      result = func.apply(thisArg, args);\n      if (!timeoutId && !maxTimeoutId) {\n        args = thisArg = null;\n      }\n    }\n  };\n\n  return function() {\n    args = arguments;\n    stamp = now();\n    thisArg = this;\n    trailingCall = trailing && (timeoutId || !leading);\n\n    if (maxWait === false) {\n      var leadingCall = leading && !timeoutId;\n    } else {\n      if (!maxTimeoutId && !leading) {\n        lastCalled = stamp;\n      }\n      var remaining = maxWait - (stamp - lastCalled),\n          isCalled = remaining <= 0;\n\n      if (isCalled) {\n        if (maxTimeoutId) {\n          maxTimeoutId = clearTimeout(maxTimeoutId);\n        }\n        lastCalled = stamp;\n        result = func.apply(thisArg, args);\n      }\n      else if (!maxTimeoutId) {\n        maxTimeoutId = setTimeout(maxDelayed, remaining);\n      }\n    }\n    if (isCalled && timeoutId) {\n      timeoutId = clearTimeout(timeoutId);\n    }\n    else if (!timeoutId && wait !== maxWait) {\n      timeoutId = setTimeout(delayed, wait);\n    }\n    if (leadingCall) {\n      isCalled = true;\n      result = func.apply(thisArg, args);\n    }\n    if (isCalled && !timeoutId && !maxTimeoutId) {\n      args = thisArg = null;\n    }\n    return result;\n  };\n}\n\nmodule.exports = debounce;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('lodash._isnative');\n\n/**\n * Gets the number of milliseconds that have elapsed since the Unix epoch\n * (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @example\n *\n * var stamp = _.now();\n * _.defer(function() { console.log(_.now() - stamp); });\n * // => logs the number of milliseconds it took for the deferred function to be called\n */\nvar now = isNative(now = Date.now) && now || function() {\n  return new Date().getTime();\n};\n\nmodule.exports = now;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/** Used to detect if a method is native */\nvar reNative = RegExp('^' +\n  String(toString)\n    .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n */\nfunction isNative(value) {\n  return typeof value == 'function' && reNative.test(value);\n}\n\nmodule.exports = isNative;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Checks if `value` is a function.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n */\nfunction isFunction(value) {\n  return typeof value == 'function';\n}\n\nmodule.exports = isFunction;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('lodash._objecttypes');\n\n/**\n * Checks if `value` is the language type of Object.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // check if the value is the ECMAScript language type of Object\n  // http://es5.github.io/#x8\n  // and avoid a V8 bug\n  // http://code.google.com/p/v8/issues/detail?id=2291\n  return !!(value && objectTypes[typeof value]);\n}\n\nmodule.exports = isObject;\n",
    "/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"npm\" -o ./npm/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used to determine if values are of the language type Object */\nvar objectTypes = {\n  'boolean': false,\n  'function': true,\n  'object': true,\n  'number': false,\n  'string': false,\n  'undefined': false\n};\n\nmodule.exports = objectTypes;\n",
    "  /* globals require, module */\n\n/**\n   * Module dependencies.\n   */\n\n  var pathtoRegexp = require('path-to-regexp');\n\n  /**\n   * Module exports.\n   */\n\n  module.exports = page;\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var location = window.history.location || window.location;\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n  * HashBang option\n  */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {String|Function} path\n   * @param {Function} fn...\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(path);\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n    // show <path> with [state]\n    } else if ('string' == typeof path) {\n      'string' === typeof fn\n        ? page.redirect(path, fn)\n        : page.show(path, fn);\n    // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {String} path\n   * @api public\n   */\n\n  page.base = function(path){\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options){\n    options = options || {};\n    if (running) return;\n    running = true;\n    if (false === options.dispatch) dispatch = false;\n    if (false !== options.popstate) window.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click) window.addEventListener('click', onclick, false);\n    if (true === options.hashbang) hashbang = true;\n    if (!dispatch) return;\n    var url = (hashbang && ~location.hash.indexOf('#!'))\n      ? location.hash.substr(2) + location.search\n      : location.pathname + location.search + location.hash;\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function(){\n    if (!running) return;\n    running = false;\n    window.removeEventListener('click', onclick, false);\n    window.removeEventListener('popstate', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @param {Boolean} dispatch\n   * @return {Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch){\n    var ctx = new Context(path, state);\n    if (false !== dispatch) page.dispatch(ctx);\n    if (false !== ctx.handled) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {String} from - if param 'to' is undefined redirects to 'from'\n   * @param {String} [to]\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function (e) {\n        setTimeout(function() {\n          page.replace(to);\n        },0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n          page.replace(from);\n      },0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @return {Context}\n   * @api public\n   */\n\n  page.replace = function(path, state, init, dispatch){\n    var ctx = new Context(path, state);\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Object} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx){\n    var prev = prevContext;\n    var i = 0;\n    var j = 0;\n\n    prevContext = ctx;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = base + location.hash.replace('#!','');\n    } else {\n      current = location.pathname + location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    location.href = ctx.canonicalPath;\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path == 'function') {\n      return page.exit('*', path);\n    };\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n  * Remove URL encoding from the given `str`.\n  * Accommodates whitespace in both x-www-form-urlencoded\n  * and regular percent-encoded form.\n  *\n  * @param {str} URL component to decode\n  */\n  function decodeURLEncodedURIComponent(str) {\n    return decodeURIComponent(str.replace(/\\+/g, ' '));\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @param {String} path\n   * @param {Object} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    path = decodeURLEncodedURIComponent(path);\n    if ('/' === path[0] && 0 !== path.indexOf(base)) path = base + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(base, '') || '/';\n\n    this.title = document.title;\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i\n      ? path.slice(i + 1)\n      : '';\n    this.pathname = ~i\n      ? path.slice(0, i)\n      : path;\n    this.params = [];\n\n    // fragment\n    this.hash = '';\n    if (!~this.path.indexOf('#')) return;\n    var parts = this.path.split('#');\n    this.path = parts[0];\n    this.hash = parts[1] || '';\n    this.querystring = this.querystring.split('#')[0];\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function(){\n    history.pushState(this.state\n      , this.title\n      , hashbang && this.path !== '/'\n        ? '#!' + this.path\n        : this.canonicalPath);\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function(){\n    history.replaceState(this.state\n      , this.title\n      , hashbang && this.path !== '/'\n        ? '#!' + this.path\n        : this.canonicalPath);\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @param {String} path\n   * @param {Object} options.\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathtoRegexp(this.path,\n      this.keys = [],\n      options.sensitive,\n      options.strict);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn){\n    var self = this;\n    return function(ctx, next){\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {String} path\n   * @param {Array} params\n   * @return {Boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params){\n    var keys = this.keys,\n        qsIndex = path.indexOf('?'),\n        pathname = ~qsIndex\n          ? path.slice(0, qsIndex)\n          : path,\n        m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n\n      var val = 'string' === typeof m[i]\n        ? decodeURIComponent(m[i])\n        : m[i];\n\n      if (key) {\n        params[key.name] = undefined !== params[key.name]\n          ? params[key.name]\n          : val;\n      } else {\n        params.push(val);\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  function onpopstate(e) {\n    if (e.state) {\n      var path = e.state.path;\n      page.replace(path, e.state);\n    }\n  }\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  function onclick(e) {\n    if (1 != which(e)) return;\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    var el = e.target;\n    while (el && 'A' != el.nodeName) el = el.parentNode;\n    if (!el || 'A' != el.nodeName) return;\n\n    // Ignore if tag has a \"download\" attribute\n    if (el.getAttribute(\"download\")) return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if (el.pathname === location.pathname && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf(\"mailto:\") > -1) return;\n\n    // check target\n    if (el.target) return;\n\n    // x-origin\n    if (!sameOrigin(el.href)) return;\n\n    // rebuild path\n    var path = el.pathname + el.search + (el.hash || '');\n\n    // same page\n    var orig = path;\n\n    path = path.replace(base, '');\n\n    if (base && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || window.event;\n    return null === e.which\n      ? e.button\n      : e.which;\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    var origin = location.protocol + '//' + location.hostname;\n    if (location.port) origin += ':' + location.port;\n    return (href && (0 === href.indexOf(origin)));\n  }\n\n  page.sameOrigin = sameOrigin;\n",
    "var isArray = require('isarray');\n\n/**\n * Expose `pathtoRegexp`.\n */\nmodule.exports = pathtoRegexp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match already escaped characters that would otherwise incorrectly appear\n  // in future matches. This allows the user to escape special characters that\n  // shouldn't be transformed.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\" => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '([\\\\/.])?(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^)])*)\\\\))?|\\\\(((?:\\\\\\\\.|[^)])*)\\\\))([+*?])?',\n  // Match regexp special characters that should always be escaped.\n  '([.+*?=^!:${}()[\\\\]|\\\\/])'\n].join('|'), 'g');\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n\n  return re;\n};\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array should be passed in, which will contain the placeholder key\n * names. For example `/user/:id` will then contain `[\"id\"]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 keys\n * @param  {Object}                options\n * @return {RegExp}\n */\nfunction pathtoRegexp (path, keys, options) {\n  if (!isArray(keys)) {\n    options = keys;\n    keys = null;\n  }\n\n  keys = keys || [];\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var flags = options.sensitive ? '' : 'i';\n  var index = 0;\n\n  if (path instanceof RegExp) {\n    // Match all capturing groups of a regexp.\n    var groups = path.source.match(/\\((?!\\?)/g);\n\n    // Map all the matches to their numeric indexes and push into the keys.\n    if (groups) {\n      for (var i = 0; i < groups.length; i++) {\n        keys.push({\n          name:      i,\n          delimiter: null,\n          optional:  false,\n          repeat:    false\n        });\n      }\n    }\n\n    // Return the source back to the user.\n    return attachKeys(path, keys);\n  }\n\n  // Map array parts into regexps and return their source. We also pass\n  // the same keys and options instance into every generation to get\n  // consistent matching groups before we join the sources together.\n  if (isArray(path)) {\n    var parts = [];\n\n    for (var i = 0; i < path.length; i++) {\n      parts.push(pathtoRegexp(path[i], keys, options).source);\n    }\n    // Generate a new regexp instance by joining all the parts together.\n    return attachKeys(new RegExp('(?:' + parts.join('|') + ')', flags), keys);\n  }\n\n  // Alter the path string into a usable regexp.\n  path = path.replace(PATH_REGEXP, function (match, escaped, prefix, key, capture, group, suffix, escape) {\n    // Avoiding re-escaping escaped characters.\n    if (escaped) {\n      return escaped;\n    }\n\n    // Escape regexp special characters.\n    if (escape) {\n      return '\\\\' + escape;\n    }\n\n    var repeat   = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n\n    keys.push({\n      name:      key || index++,\n      delimiter: prefix || '/',\n      optional:  optional,\n      repeat:    repeat\n    });\n\n    // Escape the prefix character.\n    prefix = prefix ? '\\\\' + prefix : '';\n\n    // Match using the custom capturing group, or fallback to capturing\n    // everything up to the next slash (or next period if the param was\n    // prefixed with a period).\n    capture = escapeGroup(capture || group || '[^' + (prefix || '\\\\/') + ']+?');\n\n    // Allow parameters to be repeated more than once.\n    if (repeat) {\n      capture = capture + '(?:' + prefix + capture + ')*';\n    }\n\n    // Allow a parameter to be optional.\n    if (optional) {\n      return '(?:' + prefix + '(' + capture + '))?';\n    }\n\n    // Basic parameter support.\n    return prefix + '(' + capture + ')';\n  });\n\n  // Check whether the path ends in a slash as it alters some match behaviour.\n  var endsWithSlash = path[path.length - 1] === '/';\n\n  // In non-strict mode we allow an optional trailing slash in the match. If\n  // the path to match already ended with a slash, we need to remove it for\n  // consistency. The slash is only valid at the very end of a path match, not\n  // anywhere in the middle. This is important for non-ending mode, otherwise\n  // \"/test/\" will match \"/test//route\".\n  if (!strict) {\n    path = (endsWithSlash ? path.slice(0, -2) : path) + '(?:\\\\/(?=$))?';\n  }\n\n  // In non-ending mode, we need prompt the capturing groups to match as much\n  // as possible by using a positive lookahead for the end or next path segment.\n  if (!end) {\n    path += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return attachKeys(new RegExp('^' + path + (end ? '$' : ''), flags), keys);\n};\n",
    "module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n",
    "/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory){\n\t\"use strict\";\n\n\tif( typeof define === \"function\" && define.amd ){\n\t\tdefine(factory);\n\t}\n\telse if( typeof module != \"undefined\" && typeof module.exports != \"undefined\" ){\n\t\tmodule.exports = factory();\n\t}\n\telse if( typeof Package !== \"undefined\" ){\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\twindow[\"Sortable\"] = factory();\n\t}\n})(function (){\n\t\"use strict\";\n\n\tvar\n\t\t  dragEl\n\t\t, ghostEl\n\t\t, rootEl\n\t\t, nextEl\n\n\t\t, lastEl\n\t\t, lastCSS\n\t\t, lastRect\n\n\t\t, activeGroup\n\n\t\t, tapEvt\n\t\t, touchEvt\n\n\t\t, scrollInterval\n\n\t\t, expando = 'Sortable' + (new Date).getTime()\n\n\t\t, win = window\n\t\t, document = win.document\n\t\t, parseInt = win.parseInt\n\t\t, supportIEdnd = !!document.createElement('div').dragDrop\n\n\t\t, _silent = false\n\n\t\t, _createEvent = function (event/**String*/, item/**HTMLElement*/){\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(event, true, true);\n\t\t\tevt.item = item;\n\t\t\treturn evt;\n\t\t}\n\n\t\t, _dispatchEvent = function (rootEl, name, targetEl) {\n\t\t\trootEl.dispatchEvent(_createEvent(name, targetEl || rootEl));\n\t\t}\n\n\t\t, _customEvents = 'onAdd onUpdate onRemove onStart onEnd onFilter'.split(' ')\n\n\t\t, noop = function (){}\n\t\t, slice = [].slice\n\n\t\t, touchDragOverListeners = []\n\n\n\t;\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options){\n\t\tthis.el = el; // root element\n\t\tthis.options = options = (options || {});\n\n\n\t\t// Defaults\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tdraggable: el.children[0] && el.children[0].nodeName || (/[uo]l/i.test(el.nodeName) ? 'li' : '*'),\n\t\t\tghostClass: 'sortable-ghost',\n\t\t\tignore: 'a, img',\n\t\t\tfilter: null,\n\t\t\tscroll: true,\n\t\t\tscrollBuffer: 50,\n\t\t\tscrollSpeed: 10\n\t\t};\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\toptions[name] = options[name] || defaults[name];\n\t\t}\n\n\n\t\t// Define events\n\t\t_customEvents.forEach(function (name) {\n\t\t\toptions[name] = _bind(this, options[name] || noop);\n\t\t\t_on(el, name.substr(2).toLowerCase(), options[name]);\n\t\t}, this);\n\n\n\t\t// Export group name\n\t\tel[expando] = options.group;\n\n\n\t\t// Bind all private methods\n\t\tfor( var fn in this ){\n\t\t\tif( fn.charAt(0) === '_' ){\n\t\t\t\tthis[fn] = _bind(this, this[fn]);\n\t\t\t}\n\t\t}\n\n\n\t\t// Bind events\n\t\t_on(el, 'mousedown', this._onTapStart);\n\t\t_on(el, 'touchstart', this._onTapStart);\n\t\tsupportIEdnd && _on(el, 'selectstart', this._onTapStart);\n\n\t\t_on(el, 'drag', this._onDrag);\n\t\t_on(el, 'dragover', this._onDragOver);\n\t\t_on(el, 'dragenter', this._onDragOver);\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\n\t\t_applyEffects: function (){\n\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\t\t},\n\n\n\t\t_onTapStart: function (evt/**Event|TouchEvent*/){\n\t\t\tvar\n\t\t\t\t  touch = evt.touches && evt.touches[0]\n\t\t\t\t, target = (touch || evt).target\n\t\t\t\t, options =  this.options\n\t\t\t\t, el = this.el\n\t\t\t\t, filter = options.filter\n\t\t\t;\n\n\t\t\tif( evt.type === 'mousedown' && evt.button !== 0 ) {\n\t\t\t\treturn; // only left button\n\t\t\t}\n\n\t\t\t// Check filter\n\t\t\tif( typeof filter === 'function' ){\n\t\t\t\tif( filter.call(this, target, this) ){\n\t\t\t\t\t_dispatchEvent(el, 'filter', target);\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if( filter ){\n\t\t\t\tfilter = filter.split(',').filter(function (criteria) {\n\t\t\t\t\treturn _closest(target, criteria.trim(), el);\n\t\t\t\t});\n\n\t\t\t\tif (filter.length) {\n\t\t\t\t\t_dispatchEvent(el, 'filter', target);\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( options.handle ){\n\t\t\t\ttarget = _closest(target, options.handle, el);\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\t// IE 9 Support\n\t\t\tif( target && evt.type == 'selectstart' ){\n\t\t\t\tif( target.tagName != 'A' && target.tagName != 'IMG'){\n\t\t\t\t\ttarget.dragDrop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif( target && !dragEl && (target.parentNode === el) ){\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = this.el;\n\t\t\t\tdragEl = target;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = this.options.group;\n\n\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t// Disable \"draggable\"\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\n\t\t\t\t\t_find(target, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\tif( touch ){\n\t\t\t\t\t// Touch device support\n\t\t\t\t\ttapEvt = {\n\t\t\t\t\t\t  target:  target\n\t\t\t\t\t\t, clientX: touch.clientX\n\t\t\t\t\t\t, clientY: touch.clientY\n\t\t\t\t\t};\n\n\t\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\t_on(document, 'mouseup', this._onDrop);\n\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\n\t\t\t\t_on(this.el, 'dragstart', this._onDragStart);\n\t\t\t\t_on(this.el, 'dragend', this._onDrop);\n\t\t\t\t_on(document, 'dragover', _globalDragOver);\n\n\n\t\t\t\ttry {\n\t\t\t\t\tif( document.selection ){\n\t\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t\t} else {\n\t\t\t\t\t\twindow.getSelection().removeAllRanges()\n\t\t\t\t\t}\n\t\t\t\t} catch (err){ }\n\n\n\t\t\t\t_dispatchEvent(dragEl, 'start');\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function (){\n\t\t\tif( touchEvt ){\n\t\t\t\t_css(ghostEl, 'display', 'none');\n\n\t\t\t\tvar\n\t\t\t\t\t  target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY)\n\t\t\t\t\t, parent = target\n\t\t\t\t\t, group = this.options.group\n\t\t\t\t\t, i = touchDragOverListeners.length\n\t\t\t\t;\n\n\t\t\t\tif( parent ){\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif( parent[expando] === group ){\n\t\t\t\t\t\t\twhile( i-- ){\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\twhile( parent = parent.parentNode );\n\t\t\t\t}\n\n\t\t\t\t_css(ghostEl, 'display', '');\n\t\t\t}\n\t\t},\n\n\t\t_scroll: function (y) {\n\t\t\tvar   scrollEl = this.options.scroll\n\t\t\t\t, buffer = this.options.scrollBuffer\n\t\t\t\t, speed = this.options.scrollSpeed\n\t\t\t\t, scroll;\n\n\t\t\tif (y === 0) return;\n\n\t\t\tif (y > window.innerHeight - buffer) {\n\t\t\t\tscroll = 1;\n\t\t\t} else if (y < buffer) {\n\t\t\t\tscroll = -1;\n\t\t\t}\n\n\t\t\tclearInterval(scrollInterval);\n\t\t\tif (scroll) {\n\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\tscrollInterval = setInterval(function() {\n\t\t\t\t\t\twindow.scrollTo(window.scrollX, window.scrollY + (speed * scroll));\n\t\t\t\t\t}, 10);\n\t\t\t\t} else if (scrollEl) {\n\t\t\t\t\tscrollInterval = setInterval(function() {\n\t\t\t\t\t\tscrollEl.scrollTop += speed * scroll;\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\n\t\t_onDrag: function (evt) {\n\t\t\tthis._scroll.call(this, evt.clientY);\n\t\t},\n\n\t\t_onTouchMove: function (evt/**TouchEvent*/){\n\t\t\tif( tapEvt ){\n\t\t\t\tvar\n\t\t\t\t\t  touch = evt.touches[0]\n\t\t\t\t\t, dx = touch.clientX - tapEvt.clientX\n\t\t\t\t\t, dy = touch.clientY - tapEvt.clientY\n\t\t\t\t\t, translate3d = 'translate3d(' + dx + 'px,' + dy + 'px,0)'\n\t\t\t\t;\n\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\n\n\t\t\t\tthis._scroll.call(this, touchEvt.clientY);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\n\t\t_onDragStart: function (evt/**Event*/, isTouch/**Boolean*/){\n\t\t\tvar dataTransfer = evt.dataTransfer;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif( isTouch ){\n\t\t\t\tvar\n\t\t\t\t\t  rect = dragEl.getBoundingClientRect()\n\t\t\t\t\t, css = _css(dragEl)\n\t\t\t\t\t, ghostRect\n\t\t\t\t;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, 'width', rect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height);\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\n\n\t\t\t\trootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, 'width', rect.width*2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, 'height', rect.height*2 - ghostRect.height);\n\n\t\t\t\t// Bind touch events\n\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\n\t\t\t\t_on(document, 'touchend', this._onDrop);\n\t\t\t\t_on(document, 'touchcancel', this._onDrop);\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 150);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tdataTransfer.effectAllowed = 'move';\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\n\n\t\t\t\t_on(document, 'drop', this._onDrop);\n\t\t\t}\n\n\t\t\tsetTimeout(this._applyEffects);\n\t\t},\n\n\n\t\t_onDragOver: function (evt/**Event*/){\n\t\t\tif( !_silent && (activeGroup === this.options.group) && (evt.rootEl === void 0 || evt.rootEl === this.el) ){\n\t\t\t\tvar\n\t\t\t\t\t  el = this.el\n\t\t\t\t\t, target = _closest(evt.target, this.options.draggable, el)\n\t\t\t\t;\n\n\t\t\t\tif( el.children.length === 0 || el.children[0] === ghostEl || (el === evt.target) && _ghostInBottom(el, evt) ){\n\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t}\n\t\t\t\telse if( target && target !== dragEl && (target.parentNode[expando] !== void 0) ){\n\t\t\t\t\tif( lastEl !== target ){\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar\n\t\t\t\t\t\t  rect = lastRect\n\t\t\t\t\t\t, width = rect.right - rect.left\n\t\t\t\t\t\t, height = rect.bottom - rect.top\n\t\t\t\t\t\t, floating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t, isWide = (target.offsetWidth > dragEl.offsetWidth)\n\t\t\t\t\t\t, isLong = (target.offsetHeight > dragEl.offsetHeight)\n\t\t\t\t\t\t, halfway = (floating ? (evt.clientX - rect.left)/width : (evt.clientY - rect.top)/height) > .5\n\t\t\t\t\t\t, nextSibling = target.nextElementSibling\n\t\t\t\t\t\t, after\n\t\t\t\t\t;\n\n\t\t\t\t\t_silent = true;\n\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\tif( floating ){\n\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide\n\t\t\t\t\t} else {\n\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t}\n\n\t\t\t\t\tif( after && !nextSibling ){\n\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\t_off(document, 'mouseup', this._onDrop);\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\n\t\t\t_off(document, 'touchend', this._onDrop);\n\t\t\t_off(document, 'touchcancel', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (evt/**Event*/){\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(scrollInterval);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, 'drop', this._onDrop);\n\t\t\t_off(document, 'dragover', _globalDragOver);\n\n\t\t\t_off(this.el, 'dragend', this._onDrop);\n\t\t\t_off(this.el, 'dragstart', this._onDragStart);\n\t\t\t_off(this.el, 'selectstart', this._onTapStart);\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif( evt ){\n\t\t\t\tevt.preventDefault();\n\t\t\t\tevt.stopPropagation();\n\n\t\t\t\tif( ghostEl ){\n\t\t\t\t\tghostEl.parentNode.removeChild(ghostEl);\n\t\t\t\t}\n\n\t\t\t\tif( dragEl ){\n\t\t\t\t\t_disableDraggable(dragEl);\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\n\t\t\t\t\tif( !rootEl.contains(dragEl) ){\n\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t_dispatchEvent(rootEl, 'remove', dragEl);\n\n\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t_dispatchEvent(dragEl, 'add');\n\t\t\t\t\t}\n\t\t\t\t\telse if( dragEl.nextSibling !== nextEl ){\n\t\t\t\t\t\t// Update event\n\t\t\t\t\t\t_dispatchEvent(dragEl, 'update');\n\t\t\t\t\t}\n\n\t\t\t\t\t_dispatchEvent(dragEl, 'end');\n\t\t\t\t}\n\n\t\t\t\t// Set NULL\n\t\t\t\trootEl =\n\t\t\t\tdragEl =\n\t\t\t\tghostEl =\n\t\t\t\tnextEl =\n\n\t\t\t\ttapEvt =\n\t\t\t\ttouchEvt =\n\n\t\t\t\tlastEl =\n\t\t\t\tlastCSS =\n\n\t\t\t\tactiveGroup = null;\n\n\t\t\t\t// Save sorting\n\t\t\t\tthis.options.store && this.options.store.set(this);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length\n\t\t\t;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, this.options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute('data-id') || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el, options = this.options;\n\n\t\t\t_customEvents.forEach(function (name) {\n\t\t\t\t_off(el, name.substr(2).toLowerCase(), options[name]);\n\t\t\t});\n\n\t\t\t_off(el, 'mousedown', this._onTapStart);\n\t\t\t_off(el, 'touchstart', this._onTapStart);\n\t\t\t_off(el, 'selectstart', this._onTapStart);\n\n\t\t\t_off(el, 'dragover', this._onDragOver);\n\t\t\t_off(el, 'dragenter', this._onDragOver);\n\n\t\t\t//remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function(el) {\n\t\t\t\tel.removeAttribute('draggable');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = null;\n\t\t}\n\t};\n\n\n\tfunction _bind(ctx, fn){\n\t\tvar args = slice.call(arguments, 2);\n\t\treturn\tfn.bind ? fn.bind.apply(fn, [ctx].concat(args)) : function (){\n\t\t\treturn fn.apply(ctx, args.concat(slice.call(arguments)));\n\t\t};\n\t}\n\n\n\tfunction _closest(el, selector, ctx){\n\t\tif( selector === '*' ){\n\t\t\treturn el;\n\t\t}\n\t\telse if( el ){\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split('.');\n\n\t\t\tvar\n\t\t\t\t  tag = selector.shift().toUpperCase()\n\t\t\t\t, re = new RegExp('\\\\s('+selector.join('|')+')\\\\s', 'g')\n\t\t\t;\n\n\t\t\tdo {\n\t\t\t\tif(\n\t\t\t\t\t   (tag === '' || el.nodeName == tag)\n\t\t\t\t\t&& (!selector.length || ((' '+el.className+' ').match(re) || []).length == selector.length)\n\t\t\t\t){\n\t\t\t\t\treturn\tel;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile( el !== ctx && (el = el.parentNode) );\n\t\t}\n\n\t\treturn\tnull;\n\t}\n\n\n\tfunction _globalDragOver(evt){\n\t\tevt.dataTransfer.dropEffect = 'move';\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn){\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn){\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state){\n\t\tif( el ){\n\t\t\tif( el.classList ){\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (' '+el.className+' ').replace(/\\s+/g, ' ').replace(' '+name+' ', '');\n\t\t\t\tel.className = className + (state ? ' '+name : '')\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val){\n\t\tif( el && el.style ){\n\t\t\tif( val === void 0 ){\n\t\t\t\tif( document.defaultView && document.defaultView.getComputedStyle ){\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\n\t\t\t\t}\n\t\t\t\telse if( el.currentStyle ){\n\t\t\t\t\tval\t= el.currentStyle;\n\t\t\t\t}\n\t\t\t\treturn\tprop === void 0 ? val : val[prop];\n\t\t\t} else {\n\t\t\t\tel.style[prop] = val + (typeof val === 'string' ? '' : 'px');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator){\n\t\tif( ctx ){\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\t\t\tif( iterator ){\n\t\t\t\tfor( ; i < n; i++ ){\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn\tlist;\n\t\t}\n\t\treturn\t[];\n\t}\n\n\n\tfunction _disableDraggable(el){\n\t\treturn el.draggable = false;\n\t}\n\n\n\tfunction _unsilent(){\n\t\t_silent = false;\n\t}\n\n\n\tfunction _ghostInBottom(el, evt){\n\t\tvar last = el.lastElementChild.getBoundingClientRect();\n\t\treturn evt.clientY - (last.top + last.height) > 5; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0\n\t\t;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tbind: _bind,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tcreateEvent: _createEvent,\n\t\tdispatchEvent: _dispatchEvent\n\t};\n\n\n\tSortable.version = '0.5.2';\n\n\n\t// Export\n\treturn Sortable;\n});\n",
    "var utils = require('./utils')\n\nfunction Batcher () {\n    this.reset()\n}\n\nvar BatcherProto = Batcher.prototype\n\nBatcherProto.push = function (job) {\n    if (!job.id || !this.has[job.id]) {\n        this.queue.push(job)\n        this.has[job.id] = job\n        if (!this.waiting) {\n            this.waiting = true\n            utils.nextTick(utils.bind(this.flush, this))\n        }\n    } else if (job.override) {\n        var oldJob = this.has[job.id]\n        oldJob.cancelled = true\n        this.queue.push(job)\n        this.has[job.id] = job\n    }\n}\n\nBatcherProto.flush = function () {\n    // before flush hook\n    if (this._preFlush) this._preFlush()\n    // do not cache length because more jobs might be pushed\n    // as we execute existing jobs\n    for (var i = 0; i < this.queue.length; i++) {\n        var job = this.queue[i]\n        if (!job.cancelled) {\n            job.execute()\n        }\n    }\n    this.reset()\n}\n\nBatcherProto.reset = function () {\n    this.has = utils.hash()\n    this.queue = []\n    this.waiting = false\n}\n\nmodule.exports = Batcher",
    "var Batcher        = require('./batcher'),\n    bindingBatcher = new Batcher(),\n    bindingId      = 1\n\n/**\n *  Binding class.\n *\n *  each property on the viewmodel has one corresponding Binding object\n *  which has multiple directive instances on the DOM\n *  and multiple computed property dependents\n */\nfunction Binding (compiler, key, isExp, isFn) {\n    this.id = bindingId++\n    this.value = undefined\n    this.isExp = !!isExp\n    this.isFn = isFn\n    this.root = !this.isExp && key.indexOf('.') === -1\n    this.compiler = compiler\n    this.key = key\n    this.dirs = []\n    this.subs = []\n    this.deps = []\n    this.unbound = false\n}\n\nvar BindingProto = Binding.prototype\n\n/**\n *  Update value and queue instance updates.\n */\nBindingProto.update = function (value) {\n    if (!this.isComputed || this.isFn) {\n        this.value = value\n    }\n    if (this.dirs.length || this.subs.length) {\n        var self = this\n        bindingBatcher.push({\n            id: this.id,\n            execute: function () {\n                if (!self.unbound) {\n                    self._update()\n                }\n            }\n        })\n    }\n}\n\n/**\n *  Actually update the directives.\n */\nBindingProto._update = function () {\n    var i = this.dirs.length,\n        value = this.val()\n    while (i--) {\n        this.dirs[i].$update(value)\n    }\n    this.pub()\n}\n\n/**\n *  Return the valuated value regardless\n *  of whether it is computed or not\n */\nBindingProto.val = function () {\n    return this.isComputed && !this.isFn\n        ? this.value.$get()\n        : this.value\n}\n\n/**\n *  Notify computed properties that depend on this binding\n *  to update themselves\n */\nBindingProto.pub = function () {\n    var i = this.subs.length\n    while (i--) {\n        this.subs[i].update()\n    }\n}\n\n/**\n *  Unbind the binding, remove itself from all of its dependencies\n */\nBindingProto.unbind = function () {\n    // Indicate this has been unbound.\n    // It's possible this binding will be in\n    // the batcher's flush queue when its owner\n    // compiler has already been destroyed.\n    this.unbound = true\n    var i = this.dirs.length\n    while (i--) {\n        this.dirs[i].$unbind()\n    }\n    i = this.deps.length\n    var subs\n    while (i--) {\n        subs = this.deps[i].subs\n        var j = subs.indexOf(this)\n        if (j > -1) subs.splice(j, 1)\n    }\n}\n\nmodule.exports = Binding",
    "var Emitter     = require('./emitter'),\n    Observer    = require('./observer'),\n    config      = require('./config'),\n    utils       = require('./utils'),\n    Binding     = require('./binding'),\n    Directive   = require('./directive'),\n    TextParser  = require('./text-parser'),\n    DepsParser  = require('./deps-parser'),\n    ExpParser   = require('./exp-parser'),\n    ViewModel,\n    \n    // cache methods\n    slice       = [].slice,\n    extend      = utils.extend,\n    hasOwn      = ({}).hasOwnProperty,\n    def         = Object.defineProperty,\n\n    // hooks to register\n    hooks = [\n        'created', 'ready',\n        'beforeDestroy', 'afterDestroy',\n        'attached', 'detached'\n    ],\n\n    // list of priority directives\n    // that needs to be checked in specific order\n    priorityDirectives = [\n        'if',\n        'repeat',\n        'view',\n        'component'\n    ]\n\n/**\n *  The DOM compiler\n *  scans a DOM node and compile bindings for a ViewModel\n */\nfunction Compiler (vm, options) {\n\n    var compiler = this,\n        key, i\n\n    // default state\n    compiler.init       = true\n    compiler.destroyed  = false\n\n    // process and extend options\n    options = compiler.options = options || {}\n    utils.processOptions(options)\n\n    // copy compiler options\n    extend(compiler, options.compilerOptions)\n    // repeat indicates this is a v-repeat instance\n    compiler.repeat   = compiler.repeat || false\n    // expCache will be shared between v-repeat instances\n    compiler.expCache = compiler.expCache || {}\n\n    // initialize element\n    var el = compiler.el = compiler.setupElement(options)\n    utils.log('\\nnew VM instance: ' + el.tagName + '\\n')\n\n    // set other compiler properties\n    compiler.vm       = el.vue_vm = vm\n    compiler.bindings = utils.hash()\n    compiler.dirs     = []\n    compiler.deferred = []\n    compiler.computed = []\n    compiler.children = []\n    compiler.emitter  = new Emitter(vm)\n\n    // VM ---------------------------------------------------------------------\n\n    // set VM properties\n    vm.$         = {}\n    vm.$el       = el\n    vm.$options  = options\n    vm.$compiler = compiler\n    vm.$event    = null\n\n    // set parent & root\n    var parentVM = options.parent\n    if (parentVM) {\n        compiler.parent = parentVM.$compiler\n        parentVM.$compiler.children.push(compiler)\n        vm.$parent = parentVM\n        // inherit lazy option\n        if (!('lazy' in options)) {\n            options.lazy = compiler.parent.options.lazy\n        }\n    }\n    vm.$root = getRoot(compiler).vm\n\n    // DATA -------------------------------------------------------------------\n\n    // setup observer\n    // this is necesarry for all hooks and data observation events\n    compiler.setupObserver()\n\n    // create bindings for computed properties\n    if (options.methods) {\n        for (key in options.methods) {\n            compiler.createBinding(key)\n        }\n    }\n\n    // create bindings for methods\n    if (options.computed) {\n        for (key in options.computed) {\n            compiler.createBinding(key)\n        }\n    }\n\n    // initialize data\n    var data = compiler.data = options.data || {},\n        defaultData = options.defaultData\n    if (defaultData) {\n        for (key in defaultData) {\n            if (!hasOwn.call(data, key)) {\n                data[key] = defaultData[key]\n            }\n        }\n    }\n\n    // copy paramAttributes\n    var params = options.paramAttributes\n    if (params) {\n        i = params.length\n        while (i--) {\n            data[params[i]] = utils.checkNumber(\n                compiler.eval(\n                    el.getAttribute(params[i])\n                )\n            )\n        }\n    }\n\n    // copy data properties to vm\n    // so user can access them in the created hook\n    extend(vm, data)\n    vm.$data = data\n\n    // beforeCompile hook\n    compiler.execHook('created')\n\n    // the user might have swapped the data ...\n    data = compiler.data = vm.$data\n\n    // user might also set some properties on the vm\n    // in which case we should copy back to $data\n    var vmProp\n    for (key in vm) {\n        vmProp = vm[key]\n        if (\n            key.charAt(0) !== '$' &&\n            data[key] !== vmProp &&\n            typeof vmProp !== 'function'\n        ) {\n            data[key] = vmProp\n        }\n    }\n\n    // now we can observe the data.\n    // this will convert data properties to getter/setters\n    // and emit the first batch of set events, which will\n    // in turn create the corresponding bindings.\n    compiler.observeData(data)\n\n    // COMPILE ----------------------------------------------------------------\n\n    // before compiling, resolve content insertion points\n    if (options.template) {\n        this.resolveContent()\n    }\n\n    // now parse the DOM and bind directives.\n    // During this stage, we will also create bindings for\n    // encountered keypaths that don't have a binding yet.\n    compiler.compile(el, true)\n\n    // Any directive that creates child VMs are deferred\n    // so that when they are compiled, all bindings on the\n    // parent VM have been created.\n    i = compiler.deferred.length\n    while (i--) {\n        compiler.bindDirective(compiler.deferred[i])\n    }\n    compiler.deferred = null\n\n    // extract dependencies for computed properties.\n    // this will evaluated all collected computed bindings\n    // and collect get events that are emitted.\n    if (this.computed.length) {\n        DepsParser.parse(this.computed)\n    }\n\n    // done!\n    compiler.init = false\n\n    // post compile / ready hook\n    compiler.execHook('ready')\n}\n\nvar CompilerProto = Compiler.prototype\n\n/**\n *  Initialize the VM/Compiler's element.\n *  Fill it in with the template if necessary.\n */\nCompilerProto.setupElement = function (options) {\n    // create the node first\n    var el = typeof options.el === 'string'\n        ? document.querySelector(options.el)\n        : options.el || document.createElement(options.tagName || 'div')\n\n    var template = options.template,\n        child, replacer, i, attr, attrs\n\n    if (template) {\n        // collect anything already in there\n        if (el.hasChildNodes()) {\n            this.rawContent = document.createElement('div')\n            /* jshint boss: true */\n            while (child = el.firstChild) {\n                this.rawContent.appendChild(child)\n            }\n        }\n        // replace option: use the first node in\n        // the template directly\n        if (options.replace && template.firstChild === template.lastChild) {\n            replacer = template.firstChild.cloneNode(true)\n            if (el.parentNode) {\n                el.parentNode.insertBefore(replacer, el)\n                el.parentNode.removeChild(el)\n            }\n            // copy over attributes\n            if (el.hasAttributes()) {\n                i = el.attributes.length\n                while (i--) {\n                    attr = el.attributes[i]\n                    replacer.setAttribute(attr.name, attr.value)\n                }\n            }\n            // replace\n            el = replacer\n        } else {\n            el.appendChild(template.cloneNode(true))\n        }\n\n    }\n\n    // apply element options\n    if (options.id) el.id = options.id\n    if (options.className) el.className = options.className\n    attrs = options.attributes\n    if (attrs) {\n        for (attr in attrs) {\n            el.setAttribute(attr, attrs[attr])\n        }\n    }\n\n    return el\n}\n\n/**\n *  Deal with <content> insertion points\n *  per the Web Components spec\n */\nCompilerProto.resolveContent = function () {\n\n    var outlets = slice.call(this.el.getElementsByTagName('content')),\n        raw = this.rawContent,\n        outlet, select, i, j, main\n\n    i = outlets.length\n    if (i) {\n        // first pass, collect corresponding content\n        // for each outlet.\n        while (i--) {\n            outlet = outlets[i]\n            if (raw) {\n                select = outlet.getAttribute('select')\n                if (select) { // select content\n                    outlet.content =\n                        slice.call(raw.querySelectorAll(select))\n                } else { // default content\n                    main = outlet\n                }\n            } else { // fallback content\n                outlet.content =\n                    slice.call(outlet.childNodes)\n            }\n        }\n        // second pass, actually insert the contents\n        for (i = 0, j = outlets.length; i < j; i++) {\n            outlet = outlets[i]\n            if (outlet === main) continue\n            insert(outlet, outlet.content)\n        }\n        // finally insert the main content\n        if (raw && main) {\n            insert(main, slice.call(raw.childNodes))\n        }\n    }\n\n    function insert (outlet, contents) {\n        var parent = outlet.parentNode,\n            i = 0, j = contents.length\n        for (; i < j; i++) {\n            parent.insertBefore(contents[i], outlet)\n        }\n        parent.removeChild(outlet)\n    }\n\n    this.rawContent = null\n}\n\n/**\n *  Setup observer.\n *  The observer listens for get/set/mutate events on all VM\n *  values/objects and trigger corresponding binding updates.\n *  It also listens for lifecycle hooks.\n */\nCompilerProto.setupObserver = function () {\n\n    var compiler = this,\n        bindings = compiler.bindings,\n        options  = compiler.options,\n        observer = compiler.observer = new Emitter(compiler.vm)\n\n    // a hash to hold event proxies for each root level key\n    // so they can be referenced and removed later\n    observer.proxies = {}\n\n    // add own listeners which trigger binding updates\n    observer\n        .on('get', onGet)\n        .on('set', onSet)\n        .on('mutate', onSet)\n\n    // register hooks\n    var i = hooks.length, j, hook, fns\n    while (i--) {\n        hook = hooks[i]\n        fns = options[hook]\n        if (Array.isArray(fns)) {\n            j = fns.length\n            // since hooks were merged with child at head,\n            // we loop reversely.\n            while (j--) {\n                registerHook(hook, fns[j])\n            }\n        } else if (fns) {\n            registerHook(hook, fns)\n        }\n    }\n\n    // broadcast attached/detached hooks\n    observer\n        .on('hook:attached', function () {\n            broadcast(1)\n        })\n        .on('hook:detached', function () {\n            broadcast(0)\n        })\n\n    function onGet (key) {\n        check(key)\n        DepsParser.catcher.emit('get', bindings[key])\n    }\n\n    function onSet (key, val, mutation) {\n        observer.emit('change:' + key, val, mutation)\n        check(key)\n        bindings[key].update(val)\n    }\n\n    function registerHook (hook, fn) {\n        observer.on('hook:' + hook, function () {\n            fn.call(compiler.vm)\n        })\n    }\n\n    function broadcast (event) {\n        var children = compiler.children\n        if (children) {\n            var child, i = children.length\n            while (i--) {\n                child = children[i]\n                if (child.el.parentNode) {\n                    event = 'hook:' + (event ? 'attached' : 'detached')\n                    child.observer.emit(event)\n                    child.emitter.emit(event)\n                }\n            }\n        }\n    }\n\n    function check (key) {\n        if (!bindings[key]) {\n            compiler.createBinding(key)\n        }\n    }\n}\n\nCompilerProto.observeData = function (data) {\n\n    var compiler = this,\n        observer = compiler.observer\n\n    // recursively observe nested properties\n    Observer.observe(data, '', observer)\n\n    // also create binding for top level $data\n    // so it can be used in templates too\n    var $dataBinding = compiler.bindings['$data'] = new Binding(compiler, '$data')\n    $dataBinding.update(data)\n\n    // allow $data to be swapped\n    def(compiler.vm, '$data', {\n        get: function () {\n            compiler.observer.emit('get', '$data')\n            return compiler.data\n        },\n        set: function (newData) {\n            var oldData = compiler.data\n            Observer.unobserve(oldData, '', observer)\n            compiler.data = newData\n            Observer.copyPaths(newData, oldData)\n            Observer.observe(newData, '', observer)\n            update()\n        }\n    })\n\n    // emit $data change on all changes\n    observer\n        .on('set', onSet)\n        .on('mutate', onSet)\n\n    function onSet (key) {\n        if (key !== '$data') update()\n    }\n\n    function update () {\n        $dataBinding.update(compiler.data)\n        observer.emit('change:$data', compiler.data)\n    }\n}\n\n/**\n *  Compile a DOM node (recursive)\n */\nCompilerProto.compile = function (node, root) {\n    var nodeType = node.nodeType\n    if (nodeType === 1 && node.tagName !== 'SCRIPT') { // a normal node\n        this.compileElement(node, root)\n    } else if (nodeType === 3 && config.interpolate) {\n        this.compileTextNode(node)\n    }\n}\n\n/**\n *  Check for a priority directive\n *  If it is present and valid, return true to skip the rest\n */\nCompilerProto.checkPriorityDir = function (dirname, node, root) {\n    var expression, directive, Ctor\n    if (\n        dirname === 'component' &&\n        root !== true &&\n        (Ctor = this.resolveComponent(node, undefined, true))\n    ) {\n        directive = this.parseDirective(dirname, '', node)\n        directive.Ctor = Ctor\n    } else {\n        expression = utils.attr(node, dirname)\n        directive = expression && this.parseDirective(dirname, expression, node)\n    }\n    if (directive) {\n        if (root === true) {\n            utils.warn(\n                'Directive v-' + dirname + ' cannot be used on an already instantiated ' +\n                'VM\\'s root node. Use it from the parent\\'s template instead.'\n            )\n            return\n        }\n        this.deferred.push(directive)\n        return true\n    }\n}\n\n/**\n *  Compile normal directives on a node\n */\nCompilerProto.compileElement = function (node, root) {\n\n    // textarea is pretty annoying\n    // because its value creates childNodes which\n    // we don't want to compile.\n    if (node.tagName === 'TEXTAREA' && node.value) {\n        node.value = this.eval(node.value)\n    }\n\n    // only compile if this element has attributes\n    // or its tagName contains a hyphen (which means it could\n    // potentially be a custom element)\n    if (node.hasAttributes() || node.tagName.indexOf('-') > -1) {\n\n        // skip anything with v-pre\n        if (utils.attr(node, 'pre') !== null) {\n            return\n        }\n\n        var i, l, j, k\n\n        // check priority directives.\n        // if any of them are present, it will take over the node with a childVM\n        // so we can skip the rest\n        for (i = 0, l = priorityDirectives.length; i < l; i++) {\n            if (this.checkPriorityDir(priorityDirectives[i], node, root)) {\n                return\n            }\n        }\n\n        // check transition & animation properties\n        node.vue_trans  = utils.attr(node, 'transition')\n        node.vue_anim   = utils.attr(node, 'animation')\n        node.vue_effect = this.eval(utils.attr(node, 'effect'))\n\n        var prefix = config.prefix + '-',\n            params = this.options.paramAttributes,\n            attr, attrname, isDirective, exp, directives, directive, dirname\n\n        // v-with has special priority among the rest\n        // it needs to pull in the value from the parent before\n        // computed properties are evaluated, because at this stage\n        // the computed properties have not set up their dependencies yet.\n        if (root) {\n            var withExp = utils.attr(node, 'with')\n            if (withExp) {\n                directives = this.parseDirective('with', withExp, node, true)\n                for (j = 0, k = directives.length; j < k; j++) {\n                    this.bindDirective(directives[j], this.parent)\n                }\n            }\n        }\n\n        var attrs = slice.call(node.attributes)\n        for (i = 0, l = attrs.length; i < l; i++) {\n\n            attr = attrs[i]\n            attrname = attr.name\n            isDirective = false\n\n            if (attrname.indexOf(prefix) === 0) {\n                // a directive - split, parse and bind it.\n                isDirective = true\n                dirname = attrname.slice(prefix.length)\n                // build with multiple: true\n                directives = this.parseDirective(dirname, attr.value, node, true)\n                // loop through clauses (separated by \",\")\n                // inside each attribute\n                for (j = 0, k = directives.length; j < k; j++) {\n                    this.bindDirective(directives[j])\n                }\n            } else if (config.interpolate) {\n                // non directive attribute, check interpolation tags\n                exp = TextParser.parseAttr(attr.value)\n                if (exp) {\n                    directive = this.parseDirective('attr', exp, node)\n                    directive.arg = attrname\n                    if (params && params.indexOf(attrname) > -1) {\n                        // a param attribute... we should use the parent binding\n                        // to avoid circular updates like size={{size}}\n                        this.bindDirective(directive, this.parent)\n                    } else {\n                        this.bindDirective(directive)\n                    }\n                }\n            }\n\n            if (isDirective && dirname !== 'cloak') {\n                node.removeAttribute(attrname)\n            }\n        }\n\n    }\n\n    // recursively compile childNodes\n    if (node.hasChildNodes()) {\n        slice.call(node.childNodes).forEach(this.compile, this)\n    }\n}\n\n/**\n *  Compile a text node\n */\nCompilerProto.compileTextNode = function (node) {\n\n    var tokens = TextParser.parse(node.nodeValue)\n    if (!tokens) return\n    var el, token, directive\n\n    for (var i = 0, l = tokens.length; i < l; i++) {\n\n        token = tokens[i]\n        directive = null\n\n        if (token.key) { // a binding\n            if (token.key.charAt(0) === '>') { // a partial\n                el = document.createComment('ref')\n                directive = this.parseDirective('partial', token.key.slice(1), el)\n            } else {\n                if (!token.html) { // text binding\n                    el = document.createTextNode('')\n                    directive = this.parseDirective('text', token.key, el)\n                } else { // html binding\n                    el = document.createComment(config.prefix + '-html')\n                    directive = this.parseDirective('html', token.key, el)\n                }\n            }\n        } else { // a plain string\n            el = document.createTextNode(token)\n        }\n\n        // insert node\n        node.parentNode.insertBefore(el, node)\n        // bind directive\n        this.bindDirective(directive)\n\n    }\n    node.parentNode.removeChild(node)\n}\n\n/**\n *  Parse a directive name/value pair into one or more\n *  directive instances\n */\nCompilerProto.parseDirective = function (name, value, el, multiple) {\n    var compiler = this,\n        definition = compiler.getOption('directives', name)\n    if (definition) {\n        // parse into AST-like objects\n        var asts = Directive.parse(value)\n        return multiple\n            ? asts.map(build)\n            : build(asts[0])\n    }\n    function build (ast) {\n        return new Directive(name, ast, definition, compiler, el)\n    }\n}\n\n/**\n *  Add a directive instance to the correct binding & viewmodel\n */\nCompilerProto.bindDirective = function (directive, bindingOwner) {\n\n    if (!directive) return\n\n    // keep track of it so we can unbind() later\n    this.dirs.push(directive)\n\n    // for empty or literal directives, simply call its bind()\n    // and we're done.\n    if (directive.isEmpty || directive.isLiteral) {\n        if (directive.bind) directive.bind()\n        return\n    }\n\n    // otherwise, we got more work to do...\n    var binding,\n        compiler = bindingOwner || this,\n        key      = directive.key\n\n    if (directive.isExp) {\n        // expression bindings are always created on current compiler\n        binding = compiler.createBinding(key, directive)\n    } else {\n        // recursively locate which compiler owns the binding\n        while (compiler) {\n            if (compiler.hasKey(key)) {\n                break\n            } else {\n                compiler = compiler.parent\n            }\n        }\n        compiler = compiler || this\n        binding = compiler.bindings[key] || compiler.createBinding(key)\n    }\n    binding.dirs.push(directive)\n    directive.binding = binding\n\n    var value = binding.val()\n    // invoke bind hook if exists\n    if (directive.bind) {\n        directive.bind(value)\n    }\n    // set initial value\n    directive.$update(value, true)\n}\n\n/**\n *  Create binding and attach getter/setter for a key to the viewmodel object\n */\nCompilerProto.createBinding = function (key, directive) {\n\n    utils.log('  created binding: ' + key)\n\n    var compiler = this,\n        methods  = compiler.options.methods,\n        isExp    = directive && directive.isExp,\n        isFn     = (directive && directive.isFn) || (methods && methods[key]),\n        bindings = compiler.bindings,\n        computed = compiler.options.computed,\n        binding  = new Binding(compiler, key, isExp, isFn)\n\n    if (isExp) {\n        // expression bindings are anonymous\n        compiler.defineExp(key, binding, directive)\n    } else if (isFn) {\n        bindings[key] = binding\n        compiler.defineVmProp(key, binding, methods[key])\n    } else {\n        bindings[key] = binding\n        if (binding.root) {\n            // this is a root level binding. we need to define getter/setters for it.\n            if (computed && computed[key]) {\n                // computed property\n                compiler.defineComputed(key, binding, computed[key])\n            } else if (key.charAt(0) !== '$') {\n                // normal property\n                compiler.defineDataProp(key, binding)\n            } else {\n                // properties that start with $ are meta properties\n                // they should be kept on the vm but not in the data object.\n                compiler.defineVmProp(key, binding, compiler.data[key])\n                delete compiler.data[key]\n            }\n        } else if (computed && computed[utils.baseKey(key)]) {\n            // nested path on computed property\n            compiler.defineExp(key, binding)\n        } else {\n            // ensure path in data so that computed properties that\n            // access the path don't throw an error and can collect\n            // dependencies\n            Observer.ensurePath(compiler.data, key)\n            var parentKey = key.slice(0, key.lastIndexOf('.'))\n            if (!bindings[parentKey]) {\n                // this is a nested value binding, but the binding for its parent\n                // has not been created yet. We better create that one too.\n                compiler.createBinding(parentKey)\n            }\n        }\n    }\n    return binding\n}\n\n/**\n *  Define the getter/setter to proxy a root-level\n *  data property on the VM\n */\nCompilerProto.defineDataProp = function (key, binding) {\n    var compiler = this,\n        data     = compiler.data,\n        ob       = data.__emitter__\n\n    // make sure the key is present in data\n    // so it can be observed\n    if (!(hasOwn.call(data, key))) {\n        data[key] = undefined\n    }\n\n    // if the data object is already observed, but the key\n    // is not observed, we need to add it to the observed keys.\n    if (ob && !(hasOwn.call(ob.values, key))) {\n        Observer.convertKey(data, key)\n    }\n\n    binding.value = data[key]\n\n    def(compiler.vm, key, {\n        get: function () {\n            return compiler.data[key]\n        },\n        set: function (val) {\n            compiler.data[key] = val\n        }\n    })\n}\n\n/**\n *  Define a vm property, e.g. $index, $key, or mixin methods\n *  which are bindable but only accessible on the VM,\n *  not in the data.\n */\nCompilerProto.defineVmProp = function (key, binding, value) {\n    var ob = this.observer\n    binding.value = value\n    def(this.vm, key, {\n        get: function () {\n            if (Observer.shouldGet) ob.emit('get', key)\n            return binding.value\n        },\n        set: function (val) {\n            ob.emit('set', key, val)\n        }\n    })\n}\n\n/**\n *  Define an expression binding, which is essentially\n *  an anonymous computed property\n */\nCompilerProto.defineExp = function (key, binding, directive) {\n    var computedKey = directive && directive.computedKey,\n        exp         = computedKey ? directive.expression : key,\n        getter      = this.expCache[exp]\n    if (!getter) {\n        getter = this.expCache[exp] = ExpParser.parse(computedKey || key, this)\n    }\n    if (getter) {\n        this.markComputed(binding, getter)\n    }\n}\n\n/**\n *  Define a computed property on the VM\n */\nCompilerProto.defineComputed = function (key, binding, value) {\n    this.markComputed(binding, value)\n    def(this.vm, key, {\n        get: binding.value.$get,\n        set: binding.value.$set\n    })\n}\n\n/**\n *  Process a computed property binding\n *  so its getter/setter are bound to proper context\n */\nCompilerProto.markComputed = function (binding, value) {\n    binding.isComputed = true\n    // bind the accessors to the vm\n    if (binding.isFn) {\n        binding.value = value\n    } else {\n        if (typeof value === 'function') {\n            value = { $get: value }\n        }\n        binding.value = {\n            $get: utils.bind(value.$get, this.vm),\n            $set: value.$set\n                ? utils.bind(value.$set, this.vm)\n                : undefined\n        }\n    }\n    // keep track for dep parsing later\n    this.computed.push(binding)\n}\n\n/**\n *  Retrive an option from the compiler\n */\nCompilerProto.getOption = function (type, id, silent) {\n    var opts = this.options,\n        parent = this.parent,\n        globalAssets = config.globalAssets,\n        res = (opts[type] && opts[type][id]) || (\n            parent\n                ? parent.getOption(type, id, silent)\n                : globalAssets[type] && globalAssets[type][id]\n        )\n    if (!res && !silent && typeof id === 'string') {\n        utils.warn('Unknown ' + type.slice(0, -1) + ': ' + id)\n    }\n    return res\n}\n\n/**\n *  Emit lifecycle events to trigger hooks\n */\nCompilerProto.execHook = function (event) {\n    event = 'hook:' + event\n    this.observer.emit(event)\n    this.emitter.emit(event)\n}\n\n/**\n *  Check if a compiler's data contains a keypath\n */\nCompilerProto.hasKey = function (key) {\n    var baseKey = utils.baseKey(key)\n    return hasOwn.call(this.data, baseKey) ||\n        hasOwn.call(this.vm, baseKey)\n}\n\n/**\n *  Do a one-time eval of a string that potentially\n *  includes bindings. It accepts additional raw data\n *  because we need to dynamically resolve v-component\n *  before a childVM is even compiled...\n */\nCompilerProto.eval = function (exp, data) {\n    var parsed = TextParser.parseAttr(exp)\n    return parsed\n        ? ExpParser.eval(parsed, this, data)\n        : exp\n}\n\n/**\n *  Resolve a Component constructor for an element\n *  with the data to be used\n */\nCompilerProto.resolveComponent = function (node, data, test) {\n\n    // late require to avoid circular deps\n    ViewModel = ViewModel || require('./viewmodel')\n\n    var exp     = utils.attr(node, 'component'),\n        tagName = node.tagName,\n        id      = this.eval(exp, data),\n        tagId   = (tagName.indexOf('-') > 0 && tagName.toLowerCase()),\n        Ctor    = this.getOption('components', id || tagId, true)\n\n    if (id && !Ctor) {\n        utils.warn('Unknown component: ' + id)\n    }\n\n    return test\n        ? exp === ''\n            ? ViewModel\n            : Ctor\n        : Ctor || ViewModel\n}\n\n/**\n *  Unbind and remove element\n */\nCompilerProto.destroy = function (noRemove) {\n\n    // avoid being called more than once\n    // this is irreversible!\n    if (this.destroyed) return\n\n    var compiler = this,\n        i, j, key, dir, dirs, binding,\n        vm          = compiler.vm,\n        el          = compiler.el,\n        directives  = compiler.dirs,\n        computed    = compiler.computed,\n        bindings    = compiler.bindings,\n        children    = compiler.children,\n        parent      = compiler.parent\n\n    compiler.execHook('beforeDestroy')\n\n    // unobserve data\n    Observer.unobserve(compiler.data, '', compiler.observer)\n\n    // destroy all children\n    // do not remove their elements since the parent\n    // may have transitions and the children may not\n    i = children.length\n    while (i--) {\n        children[i].destroy(true)\n    }\n\n    // unbind all direcitves\n    i = directives.length\n    while (i--) {\n        dir = directives[i]\n        // if this directive is an instance of an external binding\n        // e.g. a directive that refers to a variable on the parent VM\n        // we need to remove it from that binding's directives\n        // * empty and literal bindings do not have binding.\n        if (dir.binding && dir.binding.compiler !== compiler) {\n            dirs = dir.binding.dirs\n            if (dirs) {\n                j = dirs.indexOf(dir)\n                if (j > -1) dirs.splice(j, 1)\n            }\n        }\n        dir.$unbind()\n    }\n\n    // unbind all computed, anonymous bindings\n    i = computed.length\n    while (i--) {\n        computed[i].unbind()\n    }\n\n    // unbind all keypath bindings\n    for (key in bindings) {\n        binding = bindings[key]\n        if (binding) {\n            binding.unbind()\n        }\n    }\n\n    // remove self from parent\n    if (parent) {\n        j = parent.children.indexOf(compiler)\n        if (j > -1) parent.children.splice(j, 1)\n    }\n\n    // finally remove dom element\n    if (!noRemove) {\n        if (el === document.body) {\n            el.innerHTML = ''\n        } else {\n            vm.$remove()\n        }\n    }\n    el.vue_vm = null\n\n    compiler.destroyed = true\n    // emit destroy hook\n    compiler.execHook('afterDestroy')\n\n    // finally, unregister all listeners\n    compiler.observer.off()\n    compiler.emitter.off()\n}\n\n// Helpers --------------------------------------------------------------------\n\n/**\n *  shorthand for getting root compiler\n */\nfunction getRoot (compiler) {\n    while (compiler.parent) {\n        compiler = compiler.parent\n    }\n    return compiler\n}\n\nmodule.exports = Compiler",
    "var TextParser = require('./text-parser')\n\nmodule.exports = {\n    prefix         : 'v',\n    debug          : false,\n    silent         : false,\n    enterClass     : 'v-enter',\n    leaveClass     : 'v-leave',\n    interpolate    : true\n}\n\nObject.defineProperty(module.exports, 'delimiters', {\n    get: function () {\n        return TextParser.delimiters\n    },\n    set: function (delimiters) {\n        TextParser.setDelimiters(delimiters)\n    }\n})",
    "var Emitter  = require('./emitter'),\n    utils    = require('./utils'),\n    Observer = require('./observer'),\n    catcher  = new Emitter()\n\n/**\n *  Auto-extract the dependencies of a computed property\n *  by recording the getters triggered when evaluating it.\n */\nfunction catchDeps (binding) {\n    if (binding.isFn) return\n    utils.log('\\n- ' + binding.key)\n    var got = utils.hash()\n    binding.deps = []\n    catcher.on('get', function (dep) {\n        var has = got[dep.key]\n        if (\n            // avoid duplicate bindings\n            (has && has.compiler === dep.compiler) ||\n            // avoid repeated items as dependency\n            // only when the binding is from self or the parent chain\n            (dep.compiler.repeat && !isParentOf(dep.compiler, binding.compiler))\n        ) {\n            return\n        }\n        got[dep.key] = dep\n        utils.log('  - ' + dep.key)\n        binding.deps.push(dep)\n        dep.subs.push(binding)\n    })\n    binding.value.$get()\n    catcher.off('get')\n}\n\n/**\n *  Test if A is a parent of or equals B\n */\nfunction isParentOf (a, b) {\n    while (b) {\n        if (a === b) {\n            return true\n        }\n        b = b.parent\n    }\n}\n\nmodule.exports = {\n\n    /**\n     *  the observer that catches events triggered by getters\n     */\n    catcher: catcher,\n\n    /**\n     *  parse a list of computed property bindings\n     */\n    parse: function (bindings) {\n        utils.log('\\nparsing dependencies...')\n        Observer.shouldGet = true\n        bindings.forEach(catchDeps)\n        Observer.shouldGet = false\n        utils.log('\\ndone.')\n    }\n    \n}",
    "var dirId           = 1,\n    ARG_RE          = /^[\\w\\$-]+$/,\n    FILTER_TOKEN_RE = /[^\\s'\"]+|'[^']+'|\"[^\"]+\"/g,\n    NESTING_RE      = /^\\$(parent|root)\\./,\n    SINGLE_VAR_RE   = /^[\\w\\.$]+$/,\n    QUOTE_RE        = /\"/g,\n    TextParser      = require('./text-parser')\n\n/**\n *  Directive class\n *  represents a single directive instance in the DOM\n */\nfunction Directive (name, ast, definition, compiler, el) {\n\n    this.id             = dirId++\n    this.name           = name\n    this.compiler       = compiler\n    this.vm             = compiler.vm\n    this.el             = el\n    this.computeFilters = false\n    this.key            = ast.key\n    this.arg            = ast.arg\n    this.expression     = ast.expression\n\n    var isEmpty = this.expression === ''\n\n    // mix in properties from the directive definition\n    if (typeof definition === 'function') {\n        this[isEmpty ? 'bind' : 'update'] = definition\n    } else {\n        for (var prop in definition) {\n            this[prop] = definition[prop]\n        }\n    }\n\n    // empty expression, we're done.\n    if (isEmpty || this.isEmpty) {\n        this.isEmpty = true\n        return\n    }\n\n    if (TextParser.Regex.test(this.key)) {\n        this.key = compiler.eval(this.key)\n        if (this.isLiteral) {\n            this.expression = this.key\n        }\n    }\n\n    var filters = ast.filters,\n        filter, fn, i, l, computed\n    if (filters) {\n        this.filters = []\n        for (i = 0, l = filters.length; i < l; i++) {\n            filter = filters[i]\n            fn = this.compiler.getOption('filters', filter.name)\n            if (fn) {\n                filter.apply = fn\n                this.filters.push(filter)\n                if (fn.computed) {\n                    computed = true\n                }\n            }\n        }\n    }\n\n    if (!this.filters || !this.filters.length) {\n        this.filters = null\n    }\n\n    if (computed) {\n        this.computedKey = Directive.inlineFilters(this.key, this.filters)\n        this.filters = null\n    }\n\n    this.isExp =\n        computed ||\n        !SINGLE_VAR_RE.test(this.key) ||\n        NESTING_RE.test(this.key)\n\n}\n\nvar DirProto = Directive.prototype\n\n/**\n *  called when a new value is set \n *  for computed properties, this will only be called once\n *  during initialization.\n */\nDirProto.$update = function (value, init) {\n    if (this.$lock) return\n    if (init || value !== this.value || (value && typeof value === 'object')) {\n        this.value = value\n        if (this.update) {\n            this.update(\n                this.filters && !this.computeFilters\n                    ? this.$applyFilters(value)\n                    : value,\n                init\n            )\n        }\n    }\n}\n\n/**\n *  pipe the value through filters\n */\nDirProto.$applyFilters = function (value) {\n    var filtered = value, filter\n    for (var i = 0, l = this.filters.length; i < l; i++) {\n        filter = this.filters[i]\n        filtered = filter.apply.apply(this.vm, [filtered].concat(filter.args))\n    }\n    return filtered\n}\n\n/**\n *  Unbind diretive\n */\nDirProto.$unbind = function () {\n    // this can be called before the el is even assigned...\n    if (!this.el || !this.vm) return\n    if (this.unbind) this.unbind()\n    this.vm = this.el = this.binding = this.compiler = null\n}\n\n// Exposed static methods -----------------------------------------------------\n\n/**\n *  Parse a directive string into an Array of\n *  AST-like objects representing directives\n */\nDirective.parse = function (str) {\n\n    var inSingle = false,\n        inDouble = false,\n        curly    = 0,\n        square   = 0,\n        paren    = 0,\n        begin    = 0,\n        argIndex = 0,\n        dirs     = [],\n        dir      = {},\n        lastFilterIndex = 0,\n        arg\n\n    for (var c, i = 0, l = str.length; i < l; i++) {\n        c = str.charAt(i)\n        if (inSingle) {\n            // check single quote\n            if (c === \"'\") inSingle = !inSingle\n        } else if (inDouble) {\n            // check double quote\n            if (c === '\"') inDouble = !inDouble\n        } else if (c === ',' && !paren && !curly && !square) {\n            // reached the end of a directive\n            pushDir()\n            // reset & skip the comma\n            dir = {}\n            begin = argIndex = lastFilterIndex = i + 1\n        } else if (c === ':' && !dir.key && !dir.arg) {\n            // argument\n            arg = str.slice(begin, i).trim()\n            if (ARG_RE.test(arg)) {\n                argIndex = i + 1\n                dir.arg = arg\n            }\n        } else if (c === '|' && str.charAt(i + 1) !== '|' && str.charAt(i - 1) !== '|') {\n            if (dir.key === undefined) {\n                // first filter, end of key\n                lastFilterIndex = i + 1\n                dir.key = str.slice(argIndex, i).trim()\n            } else {\n                // already has filter\n                pushFilter()\n            }\n        } else if (c === '\"') {\n            inDouble = true\n        } else if (c === \"'\") {\n            inSingle = true\n        } else if (c === '(') {\n            paren++\n        } else if (c === ')') {\n            paren--\n        } else if (c === '[') {\n            square++\n        } else if (c === ']') {\n            square--\n        } else if (c === '{') {\n            curly++\n        } else if (c === '}') {\n            curly--\n        }\n    }\n    if (i === 0 || begin !== i) {\n        pushDir()\n    }\n\n    function pushDir () {\n        dir.expression = str.slice(begin, i).trim()\n        if (dir.key === undefined) {\n            dir.key = str.slice(argIndex, i).trim()\n        } else if (lastFilterIndex !== begin) {\n            pushFilter()\n        }\n        if (i === 0 || dir.key) {\n            dirs.push(dir)\n        }\n    }\n\n    function pushFilter () {\n        var exp = str.slice(lastFilterIndex, i).trim(),\n            filter\n        if (exp) {\n            filter = {}\n            var tokens = exp.match(FILTER_TOKEN_RE)\n            filter.name = tokens[0]\n            filter.args = tokens.length > 1 ? tokens.slice(1) : null\n        }\n        if (filter) {\n            (dir.filters = dir.filters || []).push(filter)\n        }\n        lastFilterIndex = i + 1\n    }\n\n    return dirs\n}\n\n/**\n *  Inline computed filters so they become part\n *  of the expression\n */\nDirective.inlineFilters = function (key, filters) {\n    var args, filter\n    for (var i = 0, l = filters.length; i < l; i++) {\n        filter = filters[i]\n        args = filter.args\n            ? ',\"' + filter.args.map(escapeQuote).join('\",\"') + '\"'\n            : ''\n        key = 'this.$compiler.getOption(\"filters\", \"' +\n                filter.name +\n            '\").call(this,' +\n                key + args +\n            ')'\n    }\n    return key\n}\n\n/**\n *  Convert double quotes to single quotes\n *  so they don't mess up the generated function body\n */\nfunction escapeQuote (v) {\n    return v.indexOf('\"') > -1\n        ? v.replace(QUOTE_RE, '\\'')\n        : v\n}\n\nmodule.exports = Directive",
    "var utils = require('../utils'),\n    slice = [].slice\n\n/**\n *  Binding for innerHTML\n */\nmodule.exports = {\n\n    bind: function () {\n        // a comment node means this is a binding for\n        // {{{ inline unescaped html }}}\n        if (this.el.nodeType === 8) {\n            // hold nodes\n            this.nodes = []\n        }\n    },\n\n    update: function (value) {\n        value = utils.guard(value)\n        if (this.nodes) {\n            this.swap(value)\n        } else {\n            this.el.innerHTML = value\n        }\n    },\n\n    swap: function (value) {\n        var parent = this.el.parentNode,\n            nodes  = this.nodes,\n            i      = nodes.length\n        // remove old nodes\n        while (i--) {\n            parent.removeChild(nodes[i])\n        }\n        // convert new value to a fragment\n        var frag = utils.toFragment(value)\n        // save a reference to these nodes so we can remove later\n        this.nodes = slice.call(frag.childNodes)\n        parent.insertBefore(frag, this.el)\n    }\n}",
    "var utils    = require('../utils')\n\n/**\n *  Manages a conditional child VM\n */\nmodule.exports = {\n\n    bind: function () {\n        \n        this.parent = this.el.parentNode\n        this.ref    = document.createComment('vue-if')\n        this.Ctor   = this.compiler.resolveComponent(this.el)\n\n        // insert ref\n        this.parent.insertBefore(this.ref, this.el)\n        this.parent.removeChild(this.el)\n\n        if (utils.attr(this.el, 'view')) {\n            utils.warn(\n                'Conflict: v-if cannot be used together with v-view. ' +\n                'Just set v-view\\'s binding value to empty string to empty it.'\n            )\n        }\n        if (utils.attr(this.el, 'repeat')) {\n            utils.warn(\n                'Conflict: v-if cannot be used together with v-repeat. ' +\n                'Use `v-show` or the `filterBy` filter instead.'\n            )\n        }\n    },\n\n    update: function (value) {\n\n        if (!value) {\n            this.unbind()\n        } else if (!this.childVM) {\n            this.childVM = new this.Ctor({\n                el: this.el.cloneNode(true),\n                parent: this.vm\n            })\n            if (this.compiler.init) {\n                this.parent.insertBefore(this.childVM.$el, this.ref)\n            } else {\n                this.childVM.$before(this.ref)\n            }\n        }\n        \n    },\n\n    unbind: function () {\n        if (this.childVM) {\n            this.childVM.$destroy()\n            this.childVM = null\n        }\n    }\n}",
    "var utils      = require('../utils'),\n    config     = require('../config'),\n    transition = require('../transition'),\n    directives = module.exports = utils.hash()\n\n/**\n *  Nest and manage a Child VM\n */\ndirectives.component = {\n    isLiteral: true,\n    bind: function () {\n        if (!this.el.vue_vm) {\n            this.childVM = new this.Ctor({\n                el: this.el,\n                parent: this.vm\n            })\n        }\n    },\n    unbind: function () {\n        if (this.childVM) {\n            this.childVM.$destroy()\n        }\n    }\n}\n\n/**\n *  Binding HTML attributes\n */\ndirectives.attr = {\n    bind: function () {\n        var params = this.vm.$options.paramAttributes\n        this.isParam = params && params.indexOf(this.arg) > -1\n    },\n    update: function (value) {\n        if (value || value === 0) {\n            this.el.setAttribute(this.arg, value)\n        } else {\n            this.el.removeAttribute(this.arg)\n        }\n        if (this.isParam) {\n            this.vm[this.arg] = utils.checkNumber(value)\n        }\n    }\n}\n\n/**\n *  Binding textContent\n */\ndirectives.text = {\n    bind: function () {\n        this.attr = this.el.nodeType === 3\n            ? 'nodeValue'\n            : 'textContent'\n    },\n    update: function (value) {\n        this.el[this.attr] = utils.guard(value)\n    }\n}\n\n/**\n *  Binding CSS display property\n */\ndirectives.show = function (value) {\n    var el = this.el,\n        target = value ? '' : 'none',\n        change = function () {\n            el.style.display = target\n        }\n    transition(el, value ? 1 : -1, change, this.compiler)\n}\n\n/**\n *  Binding CSS classes\n */\ndirectives['class'] = function (value) {\n    if (this.arg) {\n        utils[value ? 'addClass' : 'removeClass'](this.el, this.arg)\n    } else {\n        if (this.lastVal) {\n            utils.removeClass(this.el, this.lastVal)\n        }\n        if (value) {\n            utils.addClass(this.el, value)\n            this.lastVal = value\n        }\n    }\n}\n\n/**\n *  Only removed after the owner VM is ready\n */\ndirectives.cloak = {\n    isEmpty: true,\n    bind: function () {\n        var el = this.el\n        this.compiler.observer.once('hook:ready', function () {\n            el.removeAttribute(config.prefix + '-cloak')\n        })\n    }\n}\n\n/**\n *  Store a reference to self in parent VM's $\n */\ndirectives.ref = {\n    isLiteral: true,\n    bind: function () {\n        var id = this.expression\n        if (id) {\n            this.vm.$parent.$[id] = this.vm\n        }\n    },\n    unbind: function () {\n        var id = this.expression\n        if (id) {\n            delete this.vm.$parent.$[id]\n        }\n    }\n}\n\ndirectives.on      = require('./on')\ndirectives.repeat  = require('./repeat')\ndirectives.model   = require('./model')\ndirectives['if']   = require('./if')\ndirectives['with'] = require('./with')\ndirectives.html    = require('./html')\ndirectives.style   = require('./style')\ndirectives.partial = require('./partial')\ndirectives.view    = require('./view')",
    "var utils = require('../utils'),\n    isIE9 = navigator.userAgent.indexOf('MSIE 9.0') > 0,\n    filter = [].filter\n\n/**\n *  Returns an array of values from a multiple select\n */\nfunction getMultipleSelectOptions (select) {\n    return filter\n        .call(select.options, function (option) {\n            return option.selected\n        })\n        .map(function (option) {\n            return option.value || option.text\n        })\n}\n\n/**\n *  Two-way binding for form input elements\n */\nmodule.exports = {\n\n    bind: function () {\n\n        var self = this,\n            el   = self.el,\n            type = el.type,\n            tag  = el.tagName\n\n        self.lock = false\n        self.ownerVM = self.binding.compiler.vm\n\n        // determine what event to listen to\n        self.event =\n            (self.compiler.options.lazy ||\n            tag === 'SELECT' ||\n            type === 'checkbox' || type === 'radio')\n                ? 'change'\n                : 'input'\n\n        // determine the attribute to change when updating\n        self.attr = type === 'checkbox'\n            ? 'checked'\n            : (tag === 'INPUT' || tag === 'SELECT' || tag === 'TEXTAREA')\n                ? 'value'\n                : 'innerHTML'\n\n        // select[multiple] support\n        if(tag === 'SELECT' && el.hasAttribute('multiple')) {\n            this.multi = true\n        }\n\n        var compositionLock = false\n        self.cLock = function () {\n            compositionLock = true\n        }\n        self.cUnlock = function () {\n            compositionLock = false\n        }\n        el.addEventListener('compositionstart', this.cLock)\n        el.addEventListener('compositionend', this.cUnlock)\n\n        // attach listener\n        self.set = self.filters\n            ? function () {\n                if (compositionLock) return\n                // if this directive has filters\n                // we need to let the vm.$set trigger\n                // update() so filters are applied.\n                // therefore we have to record cursor position\n                // so that after vm.$set changes the input\n                // value we can put the cursor back at where it is\n                var cursorPos\n                try { cursorPos = el.selectionStart } catch (e) {}\n\n                self._set()\n\n                // since updates are async\n                // we need to reset cursor position async too\n                utils.nextTick(function () {\n                    if (cursorPos !== undefined) {\n                        el.setSelectionRange(cursorPos, cursorPos)\n                    }\n                })\n            }\n            : function () {\n                if (compositionLock) return\n                // no filters, don't let it trigger update()\n                self.lock = true\n\n                self._set()\n\n                utils.nextTick(function () {\n                    self.lock = false\n                })\n            }\n        el.addEventListener(self.event, self.set)\n\n        // fix shit for IE9\n        // since it doesn't fire input on backspace / del / cut\n        if (isIE9) {\n            self.onCut = function () {\n                // cut event fires before the value actually changes\n                utils.nextTick(function () {\n                    self.set()\n                })\n            }\n            self.onDel = function (e) {\n                if (e.keyCode === 46 || e.keyCode === 8) {\n                    self.set()\n                }\n            }\n            el.addEventListener('cut', self.onCut)\n            el.addEventListener('keyup', self.onDel)\n        }\n    },\n\n    _set: function () {\n        this.ownerVM.$set(\n            this.key, this.multi\n                ? getMultipleSelectOptions(this.el)\n                : this.el[this.attr]\n        )\n    },\n\n    update: function (value, init) {\n        /* jshint eqeqeq: false */\n        // sync back inline value if initial data is undefined\n        if (init && value === undefined) {\n            return this._set()\n        }\n        if (this.lock) return\n        var el = this.el\n        if (el.tagName === 'SELECT') { // select dropdown\n            el.selectedIndex = -1\n            if(this.multi && Array.isArray(value)) {\n                value.forEach(this.updateSelect, this)\n            } else {\n                this.updateSelect(value)\n            }\n        } else if (el.type === 'radio') { // radio button\n            el.checked = value == el.value\n        } else if (el.type === 'checkbox') { // checkbox\n            el.checked = !!value\n        } else {\n            el[this.attr] = utils.guard(value)\n        }\n    },\n\n    updateSelect: function (value) {\n        /* jshint eqeqeq: false */\n        // setting <select>'s value in IE9 doesn't work\n        // we have to manually loop through the options\n        var options = this.el.options,\n            i = options.length\n        while (i--) {\n            if (options[i].value == value) {\n                options[i].selected = true\n                break\n            }\n        }\n    },\n\n    unbind: function () {\n        var el = this.el\n        el.removeEventListener(this.event, this.set)\n        el.removeEventListener('compositionstart', this.cLock)\n        el.removeEventListener('compositionend', this.cUnlock)\n        if (isIE9) {\n            el.removeEventListener('cut', this.onCut)\n            el.removeEventListener('keyup', this.onDel)\n        }\n    }\n}",
    "var utils    = require('../utils')\n\n/**\n *  Binding for event listeners\n */\nmodule.exports = {\n\n    isFn: true,\n\n    bind: function () {\n        this.context = this.binding.isExp\n            ? this.vm\n            : this.binding.compiler.vm\n        if (this.el.tagName === 'IFRAME' && this.arg !== 'load') {\n            var self = this\n            this.iframeBind = function () {\n                self.el.contentWindow.addEventListener(self.arg, self.handler)\n            }\n            this.el.addEventListener('load', this.iframeBind)\n        }\n    },\n\n    update: function (handler) {\n        if (typeof handler !== 'function') {\n            utils.warn('Directive \"v-on:' + this.expression + '\" expects a method.')\n            return\n        }\n        this.reset()\n        var vm = this.vm,\n            context = this.context\n        this.handler = function (e) {\n            e.targetVM = vm\n            context.$event = e\n            var res = handler.call(context, e)\n            context.$event = null\n            return res\n        }\n        if (this.iframeBind) {\n            this.iframeBind()\n        } else {\n            this.el.addEventListener(this.arg, this.handler)\n        }\n    },\n\n    reset: function () {\n        var el = this.iframeBind\n            ? this.el.contentWindow\n            : this.el\n        if (this.handler) {\n            el.removeEventListener(this.arg, this.handler)\n        }\n    },\n\n    unbind: function () {\n        this.reset()\n        this.el.removeEventListener('load', this.iframeBind)\n    }\n}",
    "var utils = require('../utils')\n\n/**\n *  Binding for partials\n */\nmodule.exports = {\n\n    isLiteral: true,\n\n    bind: function () {\n\n        var id = this.expression\n        if (!id) return\n\n        var el       = this.el,\n            compiler = this.compiler,\n            partial  = compiler.getOption('partials', id)\n\n        if (!partial) {\n            if (id === 'yield') {\n                utils.warn('{{>yield}} syntax has been deprecated. Use <content> tag instead.')\n            }\n            return\n        }\n\n        partial = partial.cloneNode(true)\n\n        // comment ref node means inline partial\n        if (el.nodeType === 8) {\n\n            // keep a ref for the partial's content nodes\n            var nodes = [].slice.call(partial.childNodes),\n                parent = el.parentNode\n            parent.insertBefore(partial, el)\n            parent.removeChild(el)\n            // compile partial after appending, because its children's parentNode\n            // will change from the fragment to the correct parentNode.\n            // This could affect directives that need access to its element's parentNode.\n            nodes.forEach(compiler.compile, compiler)\n\n        } else {\n\n            // just set innerHTML...\n            el.innerHTML = ''\n            el.appendChild(partial)\n\n        }\n    }\n\n}",
    "var utils      = require('../utils'),\n    config     = require('../config')\n\n/**\n *  Binding that manages VMs based on an Array\n */\nmodule.exports = {\n\n    bind: function () {\n\n        this.identifier = '$r' + this.id\n\n        // a hash to cache the same expressions on repeated instances\n        // so they don't have to be compiled for every single instance\n        this.expCache = utils.hash()\n\n        var el   = this.el,\n            ctn  = this.container = el.parentNode\n\n        // extract child Id, if any\n        this.childId = this.compiler.eval(utils.attr(el, 'ref'))\n\n        // create a comment node as a reference node for DOM insertions\n        this.ref = document.createComment(config.prefix + '-repeat-' + this.key)\n        ctn.insertBefore(this.ref, el)\n        ctn.removeChild(el)\n\n        this.collection = null\n        this.vms = null\n\n    },\n\n    update: function (collection) {\n\n        if (!Array.isArray(collection)) {\n            if (utils.isObject(collection)) {\n                collection = utils.objectToArray(collection)\n            } else {\n                utils.warn('v-repeat only accepts Array or Object values.')\n            }\n        }\n\n        // keep reference of old data and VMs\n        // so we can reuse them if possible\n        this.oldVMs = this.vms\n        this.oldCollection = this.collection\n        collection = this.collection = collection || []\n\n        var isObject = collection[0] && utils.isObject(collection[0])\n        this.vms = this.oldCollection\n            ? this.diff(collection, isObject)\n            : this.init(collection, isObject)\n\n        if (this.childId) {\n            this.vm.$[this.childId] = this.vms\n        }\n\n    },\n\n    init: function (collection, isObject) {\n        var vm, vms = []\n        for (var i = 0, l = collection.length; i < l; i++) {\n            vm = this.build(collection[i], i, isObject)\n            vms.push(vm)\n            if (this.compiler.init) {\n                this.container.insertBefore(vm.$el, this.ref)\n            } else {\n                vm.$before(this.ref)\n            }\n        }\n        return vms\n    },\n\n    /**\n     *  Diff the new array with the old\n     *  and determine the minimum amount of DOM manipulations.\n     */\n    diff: function (newCollection, isObject) {\n\n        var i, l, item, vm,\n            oldIndex,\n            targetNext,\n            currentNext,\n            nextEl,\n            ctn    = this.container,\n            oldVMs = this.oldVMs,\n            vms    = []\n\n        vms.length = newCollection.length\n\n        // first pass, collect new reused and new created\n        for (i = 0, l = newCollection.length; i < l; i++) {\n            item = newCollection[i]\n            if (isObject) {\n                item.$index = i\n                if (item.__emitter__ && item.__emitter__[this.identifier]) {\n                    // this piece of data is being reused.\n                    // record its final position in reused vms\n                    item.$reused = true\n                } else {\n                    vms[i] = this.build(item, i, isObject)\n                }\n            } else {\n                // we can't attach an identifier to primitive values\n                // so have to do an indexOf...\n                oldIndex = indexOf(oldVMs, item)\n                if (oldIndex > -1) {\n                    // record the position on the existing vm\n                    oldVMs[oldIndex].$reused = true\n                    oldVMs[oldIndex].$data.$index = i\n                } else {\n                    vms[i] = this.build(item, i, isObject)\n                }\n            }\n        }\n\n        // second pass, collect old reused and destroy unused\n        for (i = 0, l = oldVMs.length; i < l; i++) {\n            vm = oldVMs[i]\n            item = this.arg\n                ? vm.$data[this.arg]\n                : vm.$data\n            if (item.$reused) {\n                vm.$reused = true\n                delete item.$reused\n            }\n            if (vm.$reused) {\n                // update the index to latest\n                vm.$index = item.$index\n                // the item could have had a new key\n                if (item.$key && item.$key !== vm.$key) {\n                    vm.$key = item.$key\n                }\n                vms[vm.$index] = vm\n            } else {\n                // this one can be destroyed.\n                if (item.__emitter__) {\n                    delete item.__emitter__[this.identifier]\n                }\n                vm.$destroy()\n            }\n        }\n\n        // final pass, move/insert DOM elements\n        i = vms.length\n        while (i--) {\n            vm = vms[i]\n            item = vm.$data\n            targetNext = vms[i + 1]\n            if (vm.$reused) {\n                nextEl = vm.$el.nextSibling\n                // destroyed VMs' element might still be in the DOM\n                // due to transitions\n                while (!nextEl.vue_vm && nextEl !== this.ref) {\n                    nextEl = nextEl.nextSibling\n                }\n                currentNext = nextEl.vue_vm\n                if (currentNext !== targetNext) {\n                    if (!targetNext) {\n                        ctn.insertBefore(vm.$el, this.ref)\n                    } else {\n                        nextEl = targetNext.$el\n                        // new VMs' element might not be in the DOM yet\n                        // due to transitions\n                        while (!nextEl.parentNode) {\n                            targetNext = vms[nextEl.vue_vm.$index + 1]\n                            nextEl = targetNext\n                                ? targetNext.$el\n                                : this.ref\n                        }\n                        ctn.insertBefore(vm.$el, nextEl)\n                    }\n                }\n                delete vm.$reused\n                delete item.$index\n                delete item.$key\n            } else { // a new vm\n                vm.$before(targetNext ? targetNext.$el : this.ref)\n            }\n        }\n\n        return vms\n    },\n\n    build: function (data, index, isObject) {\n\n        // wrap non-object values\n        var raw, alias,\n            wrap = !isObject || this.arg\n        if (wrap) {\n            raw = data\n            alias = this.arg || '$value'\n            data = {}\n            data[alias] = raw\n        }\n        data.$index = index\n\n        var el = this.el.cloneNode(true),\n            Ctor = this.compiler.resolveComponent(el, data),\n            vm = new Ctor({\n                el: el,\n                data: data,\n                parent: this.vm,\n                compilerOptions: {\n                    repeat: true,\n                    expCache: this.expCache\n                }\n            })\n\n        if (isObject) {\n            // attach an ienumerable identifier to the raw data\n            (raw || data).__emitter__[this.identifier] = true\n        }\n\n        return vm\n\n    },\n\n    unbind: function () {\n        if (this.childId) {\n            delete this.vm.$[this.childId]\n        }\n        if (this.vms) {\n            var i = this.vms.length\n            while (i--) {\n                this.vms[i].$destroy()\n            }\n        }\n    }\n}\n\n// Helpers --------------------------------------------------------------------\n\n/**\n *  Find an object or a wrapped data object\n *  from an Array\n */\nfunction indexOf (vms, obj) {\n    for (var vm, i = 0, l = vms.length; i < l; i++) {\n        vm = vms[i]\n        if (!vm.$reused && vm.$value === obj) {\n            return i\n        }\n    }\n    return -1\n}",
    "var prefixes = ['-webkit-', '-moz-', '-ms-']\n\n/**\n *  Binding for CSS styles\n */\nmodule.exports = {\n\n    bind: function () {\n        var prop = this.arg\n        if (!prop) return\n        if (prop.charAt(0) === '$') {\n            // properties that start with $ will be auto-prefixed\n            prop = prop.slice(1)\n            this.prefixed = true\n        }\n        this.prop = prop\n    },\n\n    update: function (value) {\n        var prop = this.prop,\n            isImportant\n        /* jshint eqeqeq: true */\n        // cast possible numbers/booleans into strings\n        if (value != null) value += ''\n        if (prop) {\n            if (value) {\n                isImportant = value.slice(-10) === '!important'\n                    ? 'important'\n                    : ''\n                if (isImportant) {\n                    value = value.slice(0, -10).trim()\n                }\n            }\n            this.el.style.setProperty(prop, value, isImportant)\n            if (this.prefixed) {\n                var i = prefixes.length\n                while (i--) {\n                    this.el.style.setProperty(prefixes[i] + prop, value, isImportant)\n                }\n            }\n        } else {\n            this.el.style.cssText = value\n        }\n    }\n\n}",
    "/**\n *  Manages a conditional child VM using the\n *  binding's value as the component ID.\n */\nmodule.exports = {\n\n    bind: function () {\n\n        // track position in DOM with a ref node\n        var el       = this.raw = this.el,\n            parent   = el.parentNode,\n            ref      = this.ref = document.createComment('v-view')\n        parent.insertBefore(ref, el)\n        parent.removeChild(el)\n\n        // cache original content\n        /* jshint boss: true */\n        var node,\n            frag = this.inner = document.createElement('div')\n        while (node = el.firstChild) {\n            frag.appendChild(node)\n        }\n\n    },\n\n    update: function(value) {\n\n        this.unbind()\n\n        var Ctor  = this.compiler.getOption('components', value)\n        if (!Ctor) return\n\n        this.childVM = new Ctor({\n            el: this.raw.cloneNode(true),\n            parent: this.vm,\n            compilerOptions: {\n                rawContent: this.inner.cloneNode(true)\n            }\n        })\n\n        this.el = this.childVM.$el\n        if (this.compiler.init) {\n            this.ref.parentNode.insertBefore(this.el, this.ref)\n        } else {\n            this.childVM.$before(this.ref)\n        }\n\n    },\n\n    unbind: function() {\n        if (this.childVM) {\n            this.childVM.$destroy()\n        }\n    }\n\n}",
    "var utils = require('../utils')\n\n/**\n *  Binding for inheriting data from parent VMs.\n */\nmodule.exports = {\n\n    bind: function () {\n\n        var self      = this,\n            childKey  = self.arg,\n            parentKey = self.key,\n            compiler  = self.compiler,\n            owner     = self.binding.compiler\n\n        if (compiler === owner) {\n            this.alone = true\n            return\n        }\n\n        if (childKey) {\n            if (!compiler.bindings[childKey]) {\n                compiler.createBinding(childKey)\n            }\n            // sync changes on child back to parent\n            compiler.observer.on('change:' + childKey, function (val) {\n                if (compiler.init) return\n                if (!self.lock) {\n                    self.lock = true\n                    utils.nextTick(function () {\n                        self.lock = false\n                    })\n                }\n                owner.vm.$set(parentKey, val)\n            })\n        }\n    },\n\n    update: function (value) {\n        // sync from parent\n        if (!this.alone && !this.lock) {\n            if (this.arg) {\n                this.vm.$set(this.arg, value)\n            } else if (this.vm.$data !== value) {\n                this.vm.$data = value\n            }\n        }\n    }\n\n}",
    "var slice = [].slice\n\nfunction Emitter (ctx) {\n    this._ctx = ctx || this\n}\n\nvar EmitterProto = Emitter.prototype\n\nEmitterProto.on = function (event, fn) {\n    this._cbs = this._cbs || {}\n    ;(this._cbs[event] = this._cbs[event] || [])\n        .push(fn)\n    return this\n}\n\nEmitterProto.once = function (event, fn) {\n    var self = this\n    this._cbs = this._cbs || {}\n\n    function on () {\n        self.off(event, on)\n        fn.apply(this, arguments)\n    }\n\n    on.fn = fn\n    this.on(event, on)\n    return this\n}\n\nEmitterProto.off = function (event, fn) {\n    this._cbs = this._cbs || {}\n\n    // all\n    if (!arguments.length) {\n        this._cbs = {}\n        return this\n    }\n\n    // specific event\n    var callbacks = this._cbs[event]\n    if (!callbacks) return this\n\n    // remove all handlers\n    if (arguments.length === 1) {\n        delete this._cbs[event]\n        return this\n    }\n\n    // remove specific handler\n    var cb\n    for (var i = 0; i < callbacks.length; i++) {\n        cb = callbacks[i]\n        if (cb === fn || cb.fn === fn) {\n            callbacks.splice(i, 1)\n            break\n        }\n    }\n    return this\n}\n\n/**\n *  The internal, faster emit with fixed amount of arguments\n *  using Function.call\n */\nEmitterProto.emit = function (event, a, b, c) {\n    this._cbs = this._cbs || {}\n    var callbacks = this._cbs[event]\n\n    if (callbacks) {\n        callbacks = callbacks.slice(0)\n        for (var i = 0, len = callbacks.length; i < len; i++) {\n            callbacks[i].call(this._ctx, a, b, c)\n        }\n    }\n\n    return this\n}\n\n/**\n *  The external emit using Function.apply\n */\nEmitterProto.applyEmit = function (event) {\n    this._cbs = this._cbs || {}\n    var callbacks = this._cbs[event], args\n\n    if (callbacks) {\n        callbacks = callbacks.slice(0)\n        args = slice.call(arguments, 1)\n        for (var i = 0, len = callbacks.length; i < len; i++) {\n            callbacks[i].apply(this._ctx, args)\n        }\n    }\n\n    return this\n}\n\nmodule.exports = Emitter",
    "var utils           = require('./utils'),\n    STR_SAVE_RE     = /\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'/g,\n    STR_RESTORE_RE  = /\"(\\d+)\"/g,\n    NEWLINE_RE      = /\\n/g,\n    CTOR_RE         = new RegExp('constructor'.split('').join('[\\'\"+, ]*')),\n    UNICODE_RE      = /\\\\u\\d\\d\\d\\d/\n\n// Variable extraction scooped from https://github.com/RubyLouvre/avalon\n\nvar KEYWORDS =\n        // keywords\n        'break,case,catch,continue,debugger,default,delete,do,else,false' +\n        ',finally,for,function,if,in,instanceof,new,null,return,switch,this' +\n        ',throw,true,try,typeof,var,void,while,with,undefined' +\n        // reserved\n        ',abstract,boolean,byte,char,class,const,double,enum,export,extends' +\n        ',final,float,goto,implements,import,int,interface,long,native' +\n        ',package,private,protected,public,short,static,super,synchronized' +\n        ',throws,transient,volatile' +\n        // ECMA 5 - use strict\n        ',arguments,let,yield' +\n        // allow using Math in expressions\n        ',Math',\n        \n    KEYWORDS_RE = new RegExp([\"\\\\b\" + KEYWORDS.replace(/,/g, '\\\\b|\\\\b') + \"\\\\b\"].join('|'), 'g'),\n    REMOVE_RE   = /\\/\\*(?:.|\\n)*?\\*\\/|\\/\\/[^\\n]*\\n|\\/\\/[^\\n]*$|'[^']*'|\"[^\"]*\"|[\\s\\t\\n]*\\.[\\s\\t\\n]*[$\\w\\.]+|[\\{,]\\s*[\\w\\$_]+\\s*:/g,\n    SPLIT_RE    = /[^\\w$]+/g,\n    NUMBER_RE   = /\\b\\d[^,]*/g,\n    BOUNDARY_RE = /^,+|,+$/g\n\n/**\n *  Strip top level variable names from a snippet of JS expression\n */\nfunction getVariables (code) {\n    code = code\n        .replace(REMOVE_RE, '')\n        .replace(SPLIT_RE, ',')\n        .replace(KEYWORDS_RE, '')\n        .replace(NUMBER_RE, '')\n        .replace(BOUNDARY_RE, '')\n    return code\n        ? code.split(/,+/)\n        : []\n}\n\n/**\n *  A given path could potentially exist not on the\n *  current compiler, but up in the parent chain somewhere.\n *  This function generates an access relationship string\n *  that can be used in the getter function by walking up\n *  the parent chain to check for key existence.\n *\n *  It stops at top parent if no vm in the chain has the\n *  key. It then creates any missing bindings on the\n *  final resolved vm.\n */\nfunction traceScope (path, compiler, data) {\n    var rel  = '',\n        dist = 0,\n        self = compiler\n\n    if (data && utils.get(data, path) !== undefined) {\n        // hack: temporarily attached data\n        return '$temp.'\n    }\n\n    while (compiler) {\n        if (compiler.hasKey(path)) {\n            break\n        } else {\n            compiler = compiler.parent\n            dist++\n        }\n    }\n    if (compiler) {\n        while (dist--) {\n            rel += '$parent.'\n        }\n        if (!compiler.bindings[path] && path.charAt(0) !== '$') {\n            compiler.createBinding(path)\n        }\n    } else {\n        self.createBinding(path)\n    }\n    return rel\n}\n\n/**\n *  Create a function from a string...\n *  this looks like evil magic but since all variables are limited\n *  to the VM's data it's actually properly sandboxed\n */\nfunction makeGetter (exp, raw) {\n    var fn\n    try {\n        fn = new Function(exp)\n    } catch (e) {\n        utils.warn('Error parsing expression: ' + raw)\n    }\n    return fn\n}\n\n/**\n *  Escape a leading dollar sign for regex construction\n */\nfunction escapeDollar (v) {\n    return v.charAt(0) === '$'\n        ? '\\\\' + v\n        : v\n}\n\n/**\n *  Parse and return an anonymous computed property getter function\n *  from an arbitrary expression, together with a list of paths to be\n *  created as bindings.\n */\nexports.parse = function (exp, compiler, data) {\n    // unicode and 'constructor' are not allowed for XSS security.\n    if (UNICODE_RE.test(exp) || CTOR_RE.test(exp)) {\n        utils.warn('Unsafe expression: ' + exp)\n        return\n    }\n    // extract variable names\n    var vars = getVariables(exp)\n    if (!vars.length) {\n        return makeGetter('return ' + exp, exp)\n    }\n    vars = utils.unique(vars)\n\n    var accessors = '',\n        has       = utils.hash(),\n        strings   = [],\n        // construct a regex to extract all valid variable paths\n        // ones that begin with \"$\" are particularly tricky\n        // because we can't use \\b for them\n        pathRE = new RegExp(\n            \"[^$\\\\w\\\\.](\" +\n            vars.map(escapeDollar).join('|') +\n            \")[$\\\\w\\\\.]*\\\\b\", 'g'\n        ),\n        body = (' ' + exp)\n            .replace(STR_SAVE_RE, saveStrings)\n            .replace(pathRE, replacePath)\n            .replace(STR_RESTORE_RE, restoreStrings)\n\n    body = accessors + 'return ' + body\n\n    function saveStrings (str) {\n        var i = strings.length\n        // escape newlines in strings so the expression\n        // can be correctly evaluated\n        strings[i] = str.replace(NEWLINE_RE, '\\\\n')\n        return '\"' + i + '\"'\n    }\n\n    function replacePath (path) {\n        // keep track of the first char\n        var c = path.charAt(0)\n        path = path.slice(1)\n        var val = 'this.' + traceScope(path, compiler, data) + path\n        if (!has[path]) {\n            accessors += val + ';'\n            has[path] = 1\n        }\n        // don't forget to put that first char back\n        return c + val\n    }\n\n    function restoreStrings (str, i) {\n        return strings[i]\n    }\n\n    return makeGetter(body, exp)\n}\n\n/**\n *  Evaluate an expression in the context of a compiler.\n *  Accepts additional data.\n */\nexports.eval = function (exp, compiler, data) {\n    var getter = exports.parse(exp, compiler, data), res\n    if (getter) {\n        // hack: temporarily attach the additional data so\n        // it can be accessed in the getter\n        compiler.vm.$temp = data\n        res = getter.call(compiler.vm)\n        delete compiler.vm.$temp\n    }\n    return res\n}",
    "var utils    = require('./utils'),\n    get      = utils.get,\n    slice    = [].slice,\n    QUOTE_RE = /^'.*'$/,\n    filters  = module.exports = utils.hash()\n\n/**\n *  'abc' => 'Abc'\n */\nfilters.capitalize = function (value) {\n    if (!value && value !== 0) return ''\n    value = value.toString()\n    return value.charAt(0).toUpperCase() + value.slice(1)\n}\n\n/**\n *  'abc' => 'ABC'\n */\nfilters.uppercase = function (value) {\n    return (value || value === 0)\n        ? value.toString().toUpperCase()\n        : ''\n}\n\n/**\n *  'AbC' => 'abc'\n */\nfilters.lowercase = function (value) {\n    return (value || value === 0)\n        ? value.toString().toLowerCase()\n        : ''\n}\n\n/**\n *  12345 => $12,345.00\n */\nfilters.currency = function (value, sign) {\n    value = parseFloat(value)\n    if (!value && value !== 0) return ''\n    sign = sign || '$'\n    var s = Math.floor(value).toString(),\n        i = s.length % 3,\n        h = i > 0 ? (s.slice(0, i) + (s.length > 3 ? ',' : '')) : '',\n        f = '.' + value.toFixed(2).slice(-2)\n    return sign + h + s.slice(i).replace(/(\\d{3})(?=\\d)/g, '$1,') + f\n}\n\n/**\n *  args: an array of strings corresponding to\n *  the single, double, triple ... forms of the word to\n *  be pluralized. When the number to be pluralized\n *  exceeds the length of the args, it will use the last\n *  entry in the array.\n *\n *  e.g. ['single', 'double', 'triple', 'multiple']\n */\nfilters.pluralize = function (value) {\n    var args = slice.call(arguments, 1)\n    return args.length > 1\n        ? (args[value - 1] || args[args.length - 1])\n        : (args[value - 1] || args[0] + 's')\n}\n\n/**\n *  A special filter that takes a handler function,\n *  wraps it so it only gets triggered on specific keypresses.\n *\n *  v-on only\n */\n\nvar keyCodes = {\n    enter    : 13,\n    tab      : 9,\n    'delete' : 46,\n    up       : 38,\n    left     : 37,\n    right    : 39,\n    down     : 40,\n    esc      : 27\n}\n\nfilters.key = function (handler, key) {\n    if (!handler) return\n    var code = keyCodes[key]\n    if (!code) {\n        code = parseInt(key, 10)\n    }\n    return function (e) {\n        if (e.keyCode === code) {\n            return handler.call(this, e)\n        }\n    }\n}\n\n/**\n *  Filter filter for v-repeat\n */\nfilters.filterBy = function (arr, searchKey, delimiter, dataKey) {\n\n    // allow optional `in` delimiter\n    // because why not\n    if (delimiter && delimiter !== 'in') {\n        dataKey = delimiter\n    }\n\n    // get the search string\n    var search = stripQuotes(searchKey) || this.$get(searchKey)\n    if (!search) return arr\n    search = search.toLowerCase()\n\n    // get the optional dataKey\n    dataKey = dataKey && (stripQuotes(dataKey) || this.$get(dataKey))\n\n    // convert object to array\n    if (!Array.isArray(arr)) {\n        arr = utils.objectToArray(arr)\n    }\n\n    return arr.filter(function (item) {\n        return dataKey\n            ? contains(get(item, dataKey), search)\n            : contains(item, search)\n    })\n\n}\n\nfilters.filterBy.computed = true\n\n/**\n *  Sort fitler for v-repeat\n */\nfilters.orderBy = function (arr, sortKey, reverseKey) {\n\n    var key = stripQuotes(sortKey) || this.$get(sortKey)\n    if (!key) return arr\n\n    // convert object to array\n    if (!Array.isArray(arr)) {\n        arr = utils.objectToArray(arr)\n    }\n\n    var order = 1\n    if (reverseKey) {\n        if (reverseKey === '-1') {\n            order = -1\n        } else if (reverseKey.charAt(0) === '!') {\n            reverseKey = reverseKey.slice(1)\n            order = this.$get(reverseKey) ? 1 : -1\n        } else {\n            order = this.$get(reverseKey) ? -1 : 1\n        }\n    }\n\n    // sort on a copy to avoid mutating original array\n    return arr.slice().sort(function (a, b) {\n        a = get(a, key)\n        b = get(b, key)\n        return a === b ? 0 : a > b ? order : -order\n    })\n\n}\n\nfilters.orderBy.computed = true\n\n// Array filter helpers -------------------------------------------------------\n\n/**\n *  String contain helper\n */\nfunction contains (val, search) {\n    /* jshint eqeqeq: false */\n    if (utils.isObject(val)) {\n        for (var key in val) {\n            if (contains(val[key], search)) {\n                return true\n            }\n        }\n    } else if (val != null) {\n        return val.toString().toLowerCase().indexOf(search) > -1\n    }\n}\n\n/**\n *  Test whether a string is in quotes,\n *  if yes return stripped string\n */\nfunction stripQuotes (str) {\n    if (QUOTE_RE.test(str)) {\n        return str.slice(1, -1)\n    }\n}",
    "// string -> DOM conversion\n// wrappers originally from jQuery, scooped from component/domify\nvar map = {\n    legend   : [1, '<fieldset>', '</fieldset>'],\n    tr       : [2, '<table><tbody>', '</tbody></table>'],\n    col      : [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n    _default : [0, '', '']\n}\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>']\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>']\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>']\n\nmap.text =\nmap.circle =\nmap.ellipse =\nmap.line =\nmap.path =\nmap.polygon =\nmap.polyline =\nmap.rect = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>']\n\nvar TAG_RE = /<([\\w:]+)/\n\nmodule.exports = function (templateString) {\n    var frag = document.createDocumentFragment(),\n        m = TAG_RE.exec(templateString)\n    // text only\n    if (!m) {\n        frag.appendChild(document.createTextNode(templateString))\n        return frag\n    }\n\n    var tag = m[1],\n        wrap = map[tag] || map._default,\n        depth = wrap[0],\n        prefix = wrap[1],\n        suffix = wrap[2],\n        node = document.createElement('div')\n\n    node.innerHTML = prefix + templateString.trim() + suffix\n    while (depth--) node = node.lastChild\n\n    // one element\n    if (node.firstChild === node.lastChild) {\n        frag.appendChild(node.firstChild)\n        return frag\n    }\n\n    // multiple nodes, return a fragment\n    var child\n    /* jshint boss: true */\n    while (child = node.firstChild) {\n        if (node.nodeType === 1) {\n            frag.appendChild(child)\n        }\n    }\n    return frag\n}",
    "var config      = require('./config'),\n    ViewModel   = require('./viewmodel'),\n    utils       = require('./utils'),\n    makeHash    = utils.hash,\n    assetTypes  = ['directive', 'filter', 'partial', 'effect', 'component'],\n    // Internal modules that are exposed for plugins\n    pluginAPI   = {\n        utils: utils,\n        config: config,\n        transition: require('./transition'),\n        observer: require('./observer')\n    }\n\nViewModel.options = config.globalAssets = {\n    directives  : require('./directives'),\n    filters     : require('./filters'),\n    partials    : makeHash(),\n    effects     : makeHash(),\n    components  : makeHash()\n}\n\n/**\n *  Expose asset registration methods\n */\nassetTypes.forEach(function (type) {\n    ViewModel[type] = function (id, value) {\n        var hash = this.options[type + 's']\n        if (!hash) {\n            hash = this.options[type + 's'] = makeHash()\n        }\n        if (!value) return hash[id]\n        if (type === 'partial') {\n            value = utils.parseTemplateOption(value)\n        } else if (type === 'component') {\n            value = utils.toConstructor(value)\n        } else if (type === 'filter') {\n            utils.checkFilter(value)\n        }\n        hash[id] = value\n        return this\n    }\n})\n\n/**\n *  Set config options\n */\nViewModel.config = function (opts, val) {\n    if (typeof opts === 'string') {\n        if (val === undefined) {\n            return config[opts]\n        } else {\n            config[opts] = val\n        }\n    } else {\n        utils.extend(config, opts)\n    }\n    return this\n}\n\n/**\n *  Expose an interface for plugins\n */\nViewModel.use = function (plugin) {\n    if (typeof plugin === 'string') {\n        try {\n            plugin = require(plugin)\n        } catch (e) {\n            utils.warn('Cannot find plugin: ' + plugin)\n            return\n        }\n    }\n\n    // additional parameters\n    var args = [].slice.call(arguments, 1)\n    args.unshift(this)\n\n    if (typeof plugin.install === 'function') {\n        plugin.install.apply(plugin, args)\n    } else {\n        plugin.apply(null, args)\n    }\n    return this\n}\n\n/**\n *  Expose internal modules for plugins\n */\nViewModel.require = function (module) {\n    return pluginAPI[module]\n}\n\nViewModel.extend = extend\nViewModel.nextTick = utils.nextTick\n\n/**\n *  Expose the main ViewModel class\n *  and add extend method\n */\nfunction extend (options) {\n\n    var ParentVM = this\n\n    // extend data options need to be copied\n    // on instantiation\n    if (options.data) {\n        options.defaultData = options.data\n        delete options.data\n    }\n\n    // inherit options\n    // but only when the super class is not the native Vue.\n    if (ParentVM !== ViewModel) {\n        options = inheritOptions(options, ParentVM.options, true)\n    }\n    utils.processOptions(options)\n\n    var ExtendedVM = function (opts, asParent) {\n        if (!asParent) {\n            opts = inheritOptions(opts, options, true)\n        }\n        ParentVM.call(this, opts, true)\n    }\n\n    // inherit prototype props\n    var proto = ExtendedVM.prototype = Object.create(ParentVM.prototype)\n    utils.defProtected(proto, 'constructor', ExtendedVM)\n\n    // allow extended VM to be further extended\n    ExtendedVM.extend  = extend\n    ExtendedVM.super   = ParentVM\n    ExtendedVM.options = options\n\n    // allow extended VM to add its own assets\n    assetTypes.forEach(function (type) {\n        ExtendedVM[type] = ViewModel[type]\n    })\n\n    // allow extended VM to use plugins\n    ExtendedVM.use     = ViewModel.use\n    ExtendedVM.require = ViewModel.require\n\n    return ExtendedVM\n}\n\n/**\n *  Inherit options\n *\n *  For options such as `data`, `vms`, `directives`, 'partials',\n *  they should be further extended. However extending should only\n *  be done at top level.\n *  \n *  `proto` is an exception because it's handled directly on the\n *  prototype.\n *\n *  `el` is an exception because it's not allowed as an\n *  extension option, but only as an instance option.\n */\nfunction inheritOptions (child, parent, topLevel) {\n    child = child || {}\n    if (!parent) return child\n    for (var key in parent) {\n        if (key === 'el') continue\n        var val = child[key],\n            parentVal = parent[key]\n        if (topLevel && typeof val === 'function' && parentVal) {\n            // merge hook functions into an array\n            child[key] = [val]\n            if (Array.isArray(parentVal)) {\n                child[key] = child[key].concat(parentVal)\n            } else {\n                child[key].push(parentVal)\n            }\n        } else if (\n            topLevel &&\n            (utils.isTrueObject(val) || utils.isTrueObject(parentVal))\n            && !(parentVal instanceof ViewModel)\n        ) {\n            // merge toplevel object options\n            child[key] = inheritOptions(val, parentVal)\n        } else if (val === undefined) {\n            // inherit if child doesn't override\n            child[key] = parentVal\n        }\n    }\n    return child\n}\n\nmodule.exports = ViewModel",
    "/* jshint proto:true */\n\nvar Emitter  = require('./emitter'),\n    utils    = require('./utils'),\n    // cache methods\n    def      = utils.defProtected,\n    isObject = utils.isObject,\n    isArray  = Array.isArray,\n    hasOwn   = ({}).hasOwnProperty,\n    oDef     = Object.defineProperty,\n    slice    = [].slice,\n    // fix for IE + __proto__ problem\n    // define methods as inenumerable if __proto__ is present,\n    // otherwise enumerable so we can loop through and manually\n    // attach to array instances\n    hasProto = ({}).__proto__\n\n// Array Mutation Handlers & Augmentations ------------------------------------\n\n// The proxy prototype to replace the __proto__ of\n// an observed array\nvar ArrayProxy = Object.create(Array.prototype)\n\n// intercept mutation methods\n;[\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'splice',\n    'sort',\n    'reverse'\n].forEach(watchMutation)\n\n// Augment the ArrayProxy with convenience methods\ndef(ArrayProxy, '$set', function (index, data) {\n    return this.splice(index, 1, data)[0]\n}, !hasProto)\n\ndef(ArrayProxy, '$remove', function (index) {\n    if (typeof index !== 'number') {\n        index = this.indexOf(index)\n    }\n    if (index > -1) {\n        return this.splice(index, 1)[0]\n    }\n}, !hasProto)\n\n/**\n *  Intercep a mutation event so we can emit the mutation info.\n *  we also analyze what elements are added/removed and link/unlink\n *  them with the parent Array.\n */\nfunction watchMutation (method) {\n    def(ArrayProxy, method, function () {\n\n        var args = slice.call(arguments),\n            result = Array.prototype[method].apply(this, args),\n            inserted, removed\n\n        // determine new / removed elements\n        if (method === 'push' || method === 'unshift') {\n            inserted = args\n        } else if (method === 'pop' || method === 'shift') {\n            removed = [result]\n        } else if (method === 'splice') {\n            inserted = args.slice(2)\n            removed = result\n        }\n        \n        // link & unlink\n        linkArrayElements(this, inserted)\n        unlinkArrayElements(this, removed)\n\n        // emit the mutation event\n        this.__emitter__.emit('mutate', '', this, {\n            method   : method,\n            args     : args,\n            result   : result,\n            inserted : inserted,\n            removed  : removed\n        })\n\n        return result\n        \n    }, !hasProto)\n}\n\n/**\n *  Link new elements to an Array, so when they change\n *  and emit events, the owner Array can be notified.\n */\nfunction linkArrayElements (arr, items) {\n    if (items) {\n        var i = items.length, item, owners\n        while (i--) {\n            item = items[i]\n            if (isWatchable(item)) {\n                // if object is not converted for observing\n                // convert it...\n                if (!item.__emitter__) {\n                    convert(item)\n                    watch(item)\n                }\n                owners = item.__emitter__.owners\n                if (owners.indexOf(arr) < 0) {\n                    owners.push(arr)\n                }\n            }\n        }\n    }\n}\n\n/**\n *  Unlink removed elements from the ex-owner Array.\n */\nfunction unlinkArrayElements (arr, items) {\n    if (items) {\n        var i = items.length, item\n        while (i--) {\n            item = items[i]\n            if (item && item.__emitter__) {\n                var owners = item.__emitter__.owners\n                if (owners) owners.splice(owners.indexOf(arr))\n            }\n        }\n    }\n}\n\n// Object add/delete key augmentation -----------------------------------------\n\nvar ObjProxy = Object.create(Object.prototype)\n\ndef(ObjProxy, '$add', function (key, val) {\n    if (hasOwn.call(this, key)) return\n    this[key] = val\n    convertKey(this, key, true)\n}, !hasProto)\n\ndef(ObjProxy, '$delete', function (key) {\n    if (!(hasOwn.call(this, key))) return\n    // trigger set events\n    this[key] = undefined\n    delete this[key]\n    this.__emitter__.emit('delete', key)\n}, !hasProto)\n\n// Watch Helpers --------------------------------------------------------------\n\n/**\n *  Check if a value is watchable\n */\nfunction isWatchable (obj) {\n    return typeof obj === 'object' && obj && !obj.$compiler\n}\n\n/**\n *  Convert an Object/Array to give it a change emitter.\n */\nfunction convert (obj) {\n    if (obj.__emitter__) return true\n    var emitter = new Emitter()\n    def(obj, '__emitter__', emitter)\n    emitter\n        .on('set', function (key, val, propagate) {\n            if (propagate) propagateChange(obj)\n        })\n        .on('mutate', function () {\n            propagateChange(obj)\n        })\n    emitter.values = utils.hash()\n    emitter.owners = []\n    return false\n}\n\n/**\n *  Propagate an array element's change to its owner arrays\n */\nfunction propagateChange (obj) {\n    var owners = obj.__emitter__.owners,\n        i = owners.length\n    while (i--) {\n        owners[i].__emitter__.emit('set', '', '', true)\n    }\n}\n\n/**\n *  Watch target based on its type\n */\nfunction watch (obj) {\n    if (isArray(obj)) {\n        watchArray(obj)\n    } else {\n        watchObject(obj)\n    }\n}\n\n/**\n *  Augment target objects with modified\n *  methods\n */\nfunction augment (target, src) {\n    if (hasProto) {\n        target.__proto__ = src\n    } else {\n        for (var key in src) {\n            def(target, key, src[key])\n        }\n    }\n}\n\n/**\n *  Watch an Object, recursive.\n */\nfunction watchObject (obj) {\n    augment(obj, ObjProxy)\n    for (var key in obj) {\n        convertKey(obj, key)\n    }\n}\n\n/**\n *  Watch an Array, overload mutation methods\n *  and add augmentations by intercepting the prototype chain\n */\nfunction watchArray (arr) {\n    augment(arr, ArrayProxy)\n    linkArrayElements(arr, arr)\n}\n\n/**\n *  Define accessors for a property on an Object\n *  so it emits get/set events.\n *  Then watch the value itself.\n */\nfunction convertKey (obj, key, propagate) {\n    var keyPrefix = key.charAt(0)\n    if (keyPrefix === '$' || keyPrefix === '_') {\n        return\n    }\n    // emit set on bind\n    // this means when an object is observed it will emit\n    // a first batch of set events.\n    var emitter = obj.__emitter__,\n        values  = emitter.values\n\n    init(obj[key], propagate)\n\n    oDef(obj, key, {\n        enumerable: true,\n        configurable: true,\n        get: function () {\n            var value = values[key]\n            // only emit get on tip values\n            if (pub.shouldGet) {\n                emitter.emit('get', key)\n            }\n            return value\n        },\n        set: function (newVal) {\n            var oldVal = values[key]\n            unobserve(oldVal, key, emitter)\n            copyPaths(newVal, oldVal)\n            // an immediate property should notify its parent\n            // to emit set for itself too\n            init(newVal, true)\n        }\n    })\n\n    function init (val, propagate) {\n        values[key] = val\n        emitter.emit('set', key, val, propagate)\n        if (isArray(val)) {\n            emitter.emit('set', key + '.length', val.length, propagate)\n        }\n        observe(val, key, emitter)\n    }\n}\n\n/**\n *  When a value that is already converted is\n *  observed again by another observer, we can skip\n *  the watch conversion and simply emit set event for\n *  all of its properties.\n */\nfunction emitSet (obj) {\n    var emitter = obj && obj.__emitter__\n    if (!emitter) return\n    if (isArray(obj)) {\n        emitter.emit('set', 'length', obj.length)\n    } else {\n        var key, val\n        for (key in obj) {\n            val = obj[key]\n            emitter.emit('set', key, val)\n            emitSet(val)\n        }\n    }\n}\n\n/**\n *  Make sure all the paths in an old object exists\n *  in a new object.\n *  So when an object changes, all missing keys will\n *  emit a set event with undefined value.\n */\nfunction copyPaths (newObj, oldObj) {\n    if (!isObject(newObj) || !isObject(oldObj)) {\n        return\n    }\n    var path, oldVal, newVal\n    for (path in oldObj) {\n        if (!(hasOwn.call(newObj, path))) {\n            oldVal = oldObj[path]\n            if (isArray(oldVal)) {\n                newObj[path] = []\n            } else if (isObject(oldVal)) {\n                newVal = newObj[path] = {}\n                copyPaths(newVal, oldVal)\n            } else {\n                newObj[path] = undefined\n            }\n        }\n    }\n}\n\n/**\n *  walk along a path and make sure it can be accessed\n *  and enumerated in that object\n */\nfunction ensurePath (obj, key) {\n    var path = key.split('.'), sec\n    for (var i = 0, d = path.length - 1; i < d; i++) {\n        sec = path[i]\n        if (!obj[sec]) {\n            obj[sec] = {}\n            if (obj.__emitter__) convertKey(obj, sec)\n        }\n        obj = obj[sec]\n    }\n    if (isObject(obj)) {\n        sec = path[i]\n        if (!(hasOwn.call(obj, sec))) {\n            obj[sec] = undefined\n            if (obj.__emitter__) convertKey(obj, sec)\n        }\n    }\n}\n\n// Main API Methods -----------------------------------------------------------\n\n/**\n *  Observe an object with a given path,\n *  and proxy get/set/mutate events to the provided observer.\n */\nfunction observe (obj, rawPath, observer) {\n\n    if (!isWatchable(obj)) return\n\n    var path = rawPath ? rawPath + '.' : '',\n        alreadyConverted = convert(obj),\n        emitter = obj.__emitter__\n\n    // setup proxy listeners on the parent observer.\n    // we need to keep reference to them so that they\n    // can be removed when the object is un-observed.\n    observer.proxies = observer.proxies || {}\n    var proxies = observer.proxies[path] = {\n        get: function (key) {\n            observer.emit('get', path + key)\n        },\n        set: function (key, val, propagate) {\n            if (key) observer.emit('set', path + key, val)\n            // also notify observer that the object itself changed\n            // but only do so when it's a immediate property. this\n            // avoids duplicate event firing.\n            if (rawPath && propagate) {\n                observer.emit('set', rawPath, obj, true)\n            }\n        },\n        mutate: function (key, val, mutation) {\n            // if the Array is a root value\n            // the key will be null\n            var fixedPath = key ? path + key : rawPath\n            observer.emit('mutate', fixedPath, val, mutation)\n            // also emit set for Array's length when it mutates\n            var m = mutation.method\n            if (m !== 'sort' && m !== 'reverse') {\n                observer.emit('set', fixedPath + '.length', val.length)\n            }\n        }\n    }\n\n    // attach the listeners to the child observer.\n    // now all the events will propagate upwards.\n    emitter\n        .on('get', proxies.get)\n        .on('set', proxies.set)\n        .on('mutate', proxies.mutate)\n\n    if (alreadyConverted) {\n        // for objects that have already been converted,\n        // emit set events for everything inside\n        emitSet(obj)\n    } else {\n        watch(obj)\n    }\n}\n\n/**\n *  Cancel observation, turn off the listeners.\n */\nfunction unobserve (obj, path, observer) {\n\n    if (!obj || !obj.__emitter__) return\n\n    path = path ? path + '.' : ''\n    var proxies = observer.proxies[path]\n    if (!proxies) return\n\n    // turn off listeners\n    obj.__emitter__\n        .off('get', proxies.get)\n        .off('set', proxies.set)\n        .off('mutate', proxies.mutate)\n\n    // remove reference\n    observer.proxies[path] = null\n}\n\n// Expose API -----------------------------------------------------------------\n\nvar pub = module.exports = {\n\n    // whether to emit get events\n    // only enabled during dependency parsing\n    shouldGet   : false,\n\n    observe     : observe,\n    unobserve   : unobserve,\n    ensurePath  : ensurePath,\n    copyPaths   : copyPaths,\n    watch       : watch,\n    convert     : convert,\n    convertKey  : convertKey\n}",
    "var toFragment = require('./fragment');\n\n/**\n * Parses a template string or node and normalizes it into a\n * a node that can be used as a partial of a template option\n *\n * Possible values include\n * id selector: '#some-template-id'\n * template string: '<div><span>my template</span></div>'\n * DocumentFragment object\n * Node object of type Template\n */\nmodule.exports = function(template) {\n    var templateNode;\n\n    if (template instanceof window.DocumentFragment) {\n        // if the template is already a document fragment -- do nothing\n        return template\n    }\n\n    if (typeof template === 'string') {\n        // template by ID\n        if (template.charAt(0) === '#') {\n            templateNode = document.getElementById(template.slice(1))\n            if (!templateNode) return\n        } else {\n            return toFragment(template)\n        }\n    } else if (template.nodeType) {\n        templateNode = template\n    } else {\n        return\n    }\n\n    // if its a template tag and the browser supports it,\n    // its content is already a document fragment!\n    if (templateNode.tagName === 'TEMPLATE' && templateNode.content) {\n        return templateNode.content\n    }\n\n    if (templateNode.tagName === 'SCRIPT') {\n        return toFragment(templateNode.innerHTML)\n    }\n\n    return toFragment(templateNode.outerHTML);\n}\n",
    "var openChar        = '{',\n    endChar         = '}',\n    ESCAPE_RE       = /[-.*+?^${}()|[\\]\\/\\\\]/g,\n    // lazy require\n    Directive\n\nexports.Regex = buildInterpolationRegex()\n\nfunction buildInterpolationRegex () {\n    var open = escapeRegex(openChar),\n        end  = escapeRegex(endChar)\n    return new RegExp(open + open + open + '?(.+?)' + end + '?' + end + end)\n}\n\nfunction escapeRegex (str) {\n    return str.replace(ESCAPE_RE, '\\\\$&')\n}\n\nfunction setDelimiters (delimiters) {\n    openChar = delimiters[0]\n    endChar = delimiters[1]\n    exports.delimiters = delimiters\n    exports.Regex = buildInterpolationRegex()\n}\n\n/** \n *  Parse a piece of text, return an array of tokens\n *  token types:\n *  1. plain string\n *  2. object with key = binding key\n *  3. object with key & html = true\n */\nfunction parse (text) {\n    if (!exports.Regex.test(text)) return null\n    var m, i, token, match, tokens = []\n    /* jshint boss: true */\n    while (m = text.match(exports.Regex)) {\n        i = m.index\n        if (i > 0) tokens.push(text.slice(0, i))\n        token = { key: m[1].trim() }\n        match = m[0]\n        token.html =\n            match.charAt(2) === openChar &&\n            match.charAt(match.length - 3) === endChar\n        tokens.push(token)\n        text = text.slice(i + m[0].length)\n    }\n    if (text.length) tokens.push(text)\n    return tokens\n}\n\n/**\n *  Parse an attribute value with possible interpolation tags\n *  return a Directive-friendly expression\n *\n *  e.g.  a {{b}} c  =>  \"a \" + b + \" c\"\n */\nfunction parseAttr (attr) {\n    Directive = Directive || require('./directive')\n    var tokens = parse(attr)\n    if (!tokens) return null\n    if (tokens.length === 1) return tokens[0].key\n    var res = [], token\n    for (var i = 0, l = tokens.length; i < l; i++) {\n        token = tokens[i]\n        res.push(\n            token.key\n                ? inlineFilters(token.key)\n                : ('\"' + token + '\"')\n        )\n    }\n    return res.join('+')\n}\n\n/**\n *  Inlines any possible filters in a binding\n *  so that we can combine everything into a huge expression\n */\nfunction inlineFilters (key) {\n    if (key.indexOf('|') > -1) {\n        var dirs = Directive.parse(key),\n            dir = dirs && dirs[0]\n        if (dir && dir.filters) {\n            key = Directive.inlineFilters(\n                dir.key,\n                dir.filters\n            )\n        }\n    }\n    return '(' + key + ')'\n}\n\nexports.parse         = parse\nexports.parseAttr     = parseAttr\nexports.setDelimiters = setDelimiters\nexports.delimiters    = [openChar, endChar]",
    "var endEvents  = sniffEndEvents(),\n    config     = require('./config'),\n    // batch enter animations so we only force the layout once\n    Batcher    = require('./batcher'),\n    batcher    = new Batcher(),\n    // cache timer functions\n    setTO      = window.setTimeout,\n    clearTO    = window.clearTimeout,\n    // exit codes for testing\n    codes = {\n        CSS_E     : 1,\n        CSS_L     : 2,\n        JS_E      : 3,\n        JS_L      : 4,\n        CSS_SKIP  : -1,\n        JS_SKIP   : -2,\n        JS_SKIP_E : -3,\n        JS_SKIP_L : -4,\n        INIT      : -5,\n        SKIP      : -6\n    }\n\n// force layout before triggering transitions/animations\nbatcher._preFlush = function () {\n    /* jshint unused: false */\n    var f = document.body.offsetHeight\n}\n\n/**\n *  stage:\n *    1 = enter\n *    2 = leave\n */\nvar transition = module.exports = function (el, stage, cb, compiler) {\n\n    var changeState = function () {\n        cb()\n        compiler.execHook(stage > 0 ? 'attached' : 'detached')\n    }\n\n    if (compiler.init) {\n        changeState()\n        return codes.INIT\n    }\n\n    var hasTransition = el.vue_trans === '',\n        hasAnimation  = el.vue_anim === '',\n        effectId      = el.vue_effect\n\n    if (effectId) {\n        return applyTransitionFunctions(\n            el,\n            stage,\n            changeState,\n            effectId,\n            compiler\n        )\n    } else if (hasTransition || hasAnimation) {\n        return applyTransitionClass(\n            el,\n            stage,\n            changeState,\n            hasAnimation\n        )\n    } else {\n        changeState()\n        return codes.SKIP\n    }\n\n}\n\n/**\n *  Togggle a CSS class to trigger transition\n */\nfunction applyTransitionClass (el, stage, changeState, hasAnimation) {\n\n    if (!endEvents.trans) {\n        changeState()\n        return codes.CSS_SKIP\n    }\n\n    // if the browser supports transition,\n    // it must have classList...\n    var onEnd,\n        classList        = el.classList,\n        existingCallback = el.vue_trans_cb,\n        enterClass       = config.enterClass,\n        leaveClass       = config.leaveClass,\n        endEvent         = hasAnimation ? endEvents.anim : endEvents.trans\n\n    // cancel unfinished callbacks and jobs\n    if (existingCallback) {\n        el.removeEventListener(endEvent, existingCallback)\n        classList.remove(enterClass)\n        classList.remove(leaveClass)\n        el.vue_trans_cb = null\n    }\n\n    if (stage > 0) { // enter\n\n        // set to enter state before appending\n        classList.add(enterClass)\n        // append\n        changeState()\n        // trigger transition\n        if (!hasAnimation) {\n            batcher.push({\n                execute: function () {\n                    classList.remove(enterClass)\n                }\n            })\n        } else {\n            onEnd = function (e) {\n                if (e.target === el) {\n                    el.removeEventListener(endEvent, onEnd)\n                    el.vue_trans_cb = null\n                    classList.remove(enterClass)\n                }\n            }\n            el.addEventListener(endEvent, onEnd)\n            el.vue_trans_cb = onEnd\n        }\n        return codes.CSS_E\n\n    } else { // leave\n\n        if (el.offsetWidth || el.offsetHeight) {\n            // trigger hide transition\n            classList.add(leaveClass)\n            onEnd = function (e) {\n                if (e.target === el) {\n                    el.removeEventListener(endEvent, onEnd)\n                    el.vue_trans_cb = null\n                    // actually remove node here\n                    changeState()\n                    classList.remove(leaveClass)\n                }\n            }\n            // attach transition end listener\n            el.addEventListener(endEvent, onEnd)\n            el.vue_trans_cb = onEnd\n        } else {\n            // directly remove invisible elements\n            changeState()\n        }\n        return codes.CSS_L\n        \n    }\n\n}\n\nfunction applyTransitionFunctions (el, stage, changeState, effectId, compiler) {\n\n    var funcs = compiler.getOption('effects', effectId)\n    if (!funcs) {\n        changeState()\n        return codes.JS_SKIP\n    }\n\n    var enter = funcs.enter,\n        leave = funcs.leave,\n        timeouts = el.vue_timeouts\n\n    // clear previous timeouts\n    if (timeouts) {\n        var i = timeouts.length\n        while (i--) {\n            clearTO(timeouts[i])\n        }\n    }\n\n    timeouts = el.vue_timeouts = []\n    function timeout (cb, delay) {\n        var id = setTO(function () {\n            cb()\n            timeouts.splice(timeouts.indexOf(id), 1)\n            if (!timeouts.length) {\n                el.vue_timeouts = null\n            }\n        }, delay)\n        timeouts.push(id)\n    }\n\n    if (stage > 0) { // enter\n        if (typeof enter !== 'function') {\n            changeState()\n            return codes.JS_SKIP_E\n        }\n        enter(el, changeState, timeout)\n        return codes.JS_E\n    } else { // leave\n        if (typeof leave !== 'function') {\n            changeState()\n            return codes.JS_SKIP_L\n        }\n        leave(el, changeState, timeout)\n        return codes.JS_L\n    }\n\n}\n\n/**\n *  Sniff proper transition end event name\n */\nfunction sniffEndEvents () {\n    var el = document.createElement('vue'),\n        defaultEvent = 'transitionend',\n        events = {\n            'webkitTransition' : 'webkitTransitionEnd',\n            'transition'       : defaultEvent,\n            'mozTransition'    : defaultEvent\n        },\n        ret = {}\n    for (var name in events) {\n        if (el.style[name] !== undefined) {\n            ret.trans = events[name]\n            break\n        }\n    }\n    ret.anim = el.style.animation === ''\n        ? 'animationend'\n        : 'webkitAnimationEnd'\n    return ret\n}\n\n// Expose some stuff for testing purposes\ntransition.codes = codes\ntransition.sniff = sniffEndEvents",
    "var config       = require('./config'),\n    toString     = ({}).toString,\n    win          = window,\n    console      = win.console,\n    def          = Object.defineProperty,\n    OBJECT       = 'object',\n    THIS_RE      = /[^\\w]this[^\\w]/,\n    BRACKET_RE_S = /\\['([^']+)'\\]/g,\n    BRACKET_RE_D = /\\[\"([^\"]+)\"\\]/g,\n    hasClassList = 'classList' in document.documentElement,\n    ViewModel // late def\n\nvar defer =\n    win.requestAnimationFrame ||\n    win.webkitRequestAnimationFrame ||\n    win.setTimeout\n\n/**\n *  Normalize keypath with possible brackets into dot notations\n */\nfunction normalizeKeypath (key) {\n    return key.indexOf('[') < 0\n        ? key\n        : key.replace(BRACKET_RE_S, '.$1')\n             .replace(BRACKET_RE_D, '.$1')\n}\n\nvar utils = module.exports = {\n\n    /**\n     *  Convert a string template to a dom fragment\n     */\n    toFragment: require('./fragment'),\n\n    /**\n     *  Parse the various types of template options\n     */\n    parseTemplateOption: require('./template-parser.js'),\n\n    /**\n     *  get a value from an object keypath\n     */\n    get: function (obj, key) {\n        /* jshint eqeqeq: false */\n        key = normalizeKeypath(key)\n        if (key.indexOf('.') < 0) {\n            return obj[key]\n        }\n        var path = key.split('.'),\n            d = -1, l = path.length\n        while (++d < l && obj != null) {\n            obj = obj[path[d]]\n        }\n        return obj\n    },\n\n    /**\n     *  set a value to an object keypath\n     */\n    set: function (obj, key, val) {\n        /* jshint eqeqeq: false */\n        key = normalizeKeypath(key)\n        if (key.indexOf('.') < 0) {\n            obj[key] = val\n            return\n        }\n        var path = key.split('.'),\n            d = -1, l = path.length - 1\n        while (++d < l) {\n            if (obj[path[d]] == null) {\n                obj[path[d]] = {}\n            }\n            obj = obj[path[d]]\n        }\n        obj[path[d]] = val\n    },\n\n    /**\n     *  return the base segment of a keypath\n     */\n    baseKey: function (key) {\n        return key.indexOf('.') > 0\n            ? key.split('.')[0]\n            : key\n    },\n\n    /**\n     *  Create a prototype-less object\n     *  which is a better hash/map\n     */\n    hash: function () {\n        return Object.create(null)\n    },\n\n    /**\n     *  get an attribute and remove it.\n     */\n    attr: function (el, type) {\n        var attr = config.prefix + '-' + type,\n            val = el.getAttribute(attr)\n        if (val !== null) {\n            el.removeAttribute(attr)\n        }\n        return val\n    },\n\n    /**\n     *  Define an ienumerable property\n     *  This avoids it being included in JSON.stringify\n     *  or for...in loops.\n     */\n    defProtected: function (obj, key, val, enumerable, writable) {\n        def(obj, key, {\n            value        : val,\n            enumerable   : enumerable,\n            writable     : writable,\n            configurable : true\n        })\n    },\n\n    /**\n     *  A less bullet-proof but more efficient type check\n     *  than Object.prototype.toString\n     */\n    isObject: function (obj) {\n        return typeof obj === OBJECT && obj && !Array.isArray(obj)\n    },\n\n    /**\n     *  A more accurate but less efficient type check\n     */\n    isTrueObject: function (obj) {\n        return toString.call(obj) === '[object Object]'\n    },\n\n    /**\n     *  Most simple bind\n     *  enough for the usecase and fast than native bind()\n     */\n    bind: function (fn, ctx) {\n        return function (arg) {\n            return fn.call(ctx, arg)\n        }\n    },\n\n    /**\n     *  Make sure null and undefined output empty string\n     */\n    guard: function (value) {\n        /* jshint eqeqeq: false, eqnull: true */\n        return value == null\n            ? ''\n            : (typeof value == 'object')\n                ? JSON.stringify(value)\n                : value\n    },\n\n    /**\n     *  When setting value on the VM, parse possible numbers\n     */\n    checkNumber: function (value) {\n        return (isNaN(value) || value === null || typeof value === 'boolean')\n            ? value\n            : Number(value)\n    },\n\n    /**\n     *  simple extend\n     */\n    extend: function (obj, ext) {\n        for (var key in ext) {\n            if (obj[key] !== ext[key]) {\n                obj[key] = ext[key]\n            }\n        }\n        return obj\n    },\n\n    /**\n     *  filter an array with duplicates into uniques\n     */\n    unique: function (arr) {\n        var hash = utils.hash(),\n            i = arr.length,\n            key, res = []\n        while (i--) {\n            key = arr[i]\n            if (hash[key]) continue\n            hash[key] = 1\n            res.push(key)\n        }\n        return res\n    },\n\n    /**\n     *  Convert the object to a ViewModel constructor\n     *  if it is not already one\n     */\n    toConstructor: function (obj) {\n        ViewModel = ViewModel || require('./viewmodel')\n        return utils.isObject(obj)\n            ? ViewModel.extend(obj)\n            : typeof obj === 'function'\n                ? obj\n                : null\n    },\n\n    /**\n     *  Check if a filter function contains references to `this`\n     *  If yes, mark it as a computed filter.\n     */\n    checkFilter: function (filter) {\n        if (THIS_RE.test(filter.toString())) {\n            filter.computed = true\n        }\n    },\n\n    /**\n     *  convert certain option values to the desired format.\n     */\n    processOptions: function (options) {\n        var components = options.components,\n            partials   = options.partials,\n            template   = options.template,\n            filters    = options.filters,\n            key\n        if (components) {\n            for (key in components) {\n                components[key] = utils.toConstructor(components[key])\n            }\n        }\n        if (partials) {\n            for (key in partials) {\n                partials[key] = utils.parseTemplateOption(partials[key])\n            }\n        }\n        if (filters) {\n            for (key in filters) {\n                utils.checkFilter(filters[key])\n            }\n        }\n        if (template) {\n            options.template = utils.parseTemplateOption(template)\n        }\n    },\n\n    /**\n     *  used to defer batch updates\n     */\n    nextTick: function (cb) {\n        defer(cb, 0)\n    },\n\n    /**\n     *  add class for IE9\n     *  uses classList if available\n     */\n    addClass: function (el, cls) {\n        if (hasClassList) {\n            el.classList.add(cls)\n        } else {\n            var cur = ' ' + el.className + ' '\n            if (cur.indexOf(' ' + cls + ' ') < 0) {\n                el.className = (cur + cls).trim()\n            }\n        }\n    },\n\n    /**\n     *  remove class for IE9\n     */\n    removeClass: function (el, cls) {\n        if (hasClassList) {\n            el.classList.remove(cls)\n        } else {\n            var cur = ' ' + el.className + ' ',\n                tar = ' ' + cls + ' '\n            while (cur.indexOf(tar) >= 0) {\n                cur = cur.replace(tar, ' ')\n            }\n            el.className = cur.trim()\n        }\n    },\n\n    /**\n     *  Convert an object to Array\n     *  used in v-repeat and array filters\n     */\n    objectToArray: function (obj) {\n        var res = [], val, data\n        for (var key in obj) {\n            val = obj[key]\n            data = utils.isObject(val)\n                ? val\n                : { $value: val }\n            data.$key = key\n            res.push(data)\n        }\n        return res\n    }\n}\n\nenableDebug()\nfunction enableDebug () {\n    /**\n     *  log for debugging\n     */\n    utils.log = function (msg) {\n        if (config.debug && console) {\n            console.log(msg)\n        }\n    }\n    \n    /**\n     *  warnings, traces by default\n     *  can be suppressed by `silent` option.\n     */\n    utils.warn = function (msg) {\n        if (!config.silent && console) {\n            console.warn(msg)\n            if (config.debug && console.trace) {\n                console.trace()\n            }\n        }\n    }\n}",
    "var Compiler   = require('./compiler'),\n    utils      = require('./utils'),\n    transition = require('./transition'),\n    Batcher    = require('./batcher'),\n    slice      = [].slice,\n    def        = utils.defProtected,\n    nextTick   = utils.nextTick,\n\n    // batch $watch callbacks\n    watcherBatcher = new Batcher(),\n    watcherId      = 1\n\n/**\n *  ViewModel exposed to the user that holds data,\n *  computed properties, event handlers\n *  and a few reserved methods\n */\nfunction ViewModel (options) {\n    // compile if options passed, if false return. options are passed directly to compiler\n    if (options === false) return\n    new Compiler(this, options)\n}\n\n// All VM prototype methods are inenumerable\n// so it can be stringified/looped through as raw data\nvar VMProto = ViewModel.prototype\n\n/**\n *  init allows config compilation after instantiation:\n *    var a = new Vue(false)\n *    a.init(config)\n */\ndef(VMProto, '$init', function (options) {\n    new Compiler(this, options)\n})\n\n/**\n *  Convenience function to get a value from\n *  a keypath\n */\ndef(VMProto, '$get', function (key) {\n    var val = utils.get(this, key)\n    return val === undefined && this.$parent\n        ? this.$parent.$get(key)\n        : val\n})\n\n/**\n *  Convenience function to set an actual nested value\n *  from a flat key string. Used in directives.\n */\ndef(VMProto, '$set', function (key, value) {\n    utils.set(this, key, value)\n})\n\n/**\n *  watch a key on the viewmodel for changes\n *  fire callback with new value\n */\ndef(VMProto, '$watch', function (key, callback) {\n    // save a unique id for each watcher\n    var id = watcherId++,\n        self = this\n    function on () {\n        var args = slice.call(arguments)\n        watcherBatcher.push({\n            id: id,\n            override: true,\n            execute: function () {\n                callback.apply(self, args)\n            }\n        })\n    }\n    callback._fn = on\n    self.$compiler.observer.on('change:' + key, on)\n})\n\n/**\n *  unwatch a key\n */\ndef(VMProto, '$unwatch', function (key, callback) {\n    // workaround here\n    // since the emitter module checks callback existence\n    // by checking the length of arguments\n    var args = ['change:' + key],\n        ob = this.$compiler.observer\n    if (callback) args.push(callback._fn)\n    ob.off.apply(ob, args)\n})\n\n/**\n *  unbind everything, remove everything\n */\ndef(VMProto, '$destroy', function (noRemove) {\n    this.$compiler.destroy(noRemove)\n})\n\n/**\n *  broadcast an event to all child VMs recursively.\n */\ndef(VMProto, '$broadcast', function () {\n    var children = this.$compiler.children,\n        i = children.length,\n        child\n    while (i--) {\n        child = children[i]\n        child.emitter.applyEmit.apply(child.emitter, arguments)\n        child.vm.$broadcast.apply(child.vm, arguments)\n    }\n})\n\n/**\n *  emit an event that propagates all the way up to parent VMs.\n */\ndef(VMProto, '$dispatch', function () {\n    var compiler = this.$compiler,\n        emitter = compiler.emitter,\n        parent = compiler.parent\n    emitter.applyEmit.apply(emitter, arguments)\n    if (parent) {\n        parent.vm.$dispatch.apply(parent.vm, arguments)\n    }\n})\n\n/**\n *  delegate on/off/once to the compiler's emitter\n */\n;['emit', 'on', 'off', 'once'].forEach(function (method) {\n    // internal emit has fixed number of arguments.\n    // exposed emit uses the external version\n    // with fn.apply.\n    var realMethod = method === 'emit'\n        ? 'applyEmit'\n        : method\n    def(VMProto, '$' + method, function () {\n        var emitter = this.$compiler.emitter\n        emitter[realMethod].apply(emitter, arguments)\n    })\n})\n\n// DOM convenience methods\n\ndef(VMProto, '$appendTo', function (target, cb) {\n    target = query(target)\n    var el = this.$el\n    transition(el, 1, function () {\n        target.appendChild(el)\n        if (cb) nextTick(cb)\n    }, this.$compiler)\n})\n\ndef(VMProto, '$remove', function (cb) {\n    var el = this.$el\n    transition(el, -1, function () {\n        if (el.parentNode) {\n            el.parentNode.removeChild(el)\n        }\n        if (cb) nextTick(cb)\n    }, this.$compiler)\n})\n\ndef(VMProto, '$before', function (target, cb) {\n    target = query(target)\n    var el = this.$el\n    transition(el, 1, function () {\n        target.parentNode.insertBefore(el, target)\n        if (cb) nextTick(cb)\n    }, this.$compiler)\n})\n\ndef(VMProto, '$after', function (target, cb) {\n    target = query(target)\n    var el = this.$el\n    transition(el, 1, function () {\n        if (target.nextSibling) {\n            target.parentNode.insertBefore(el, target.nextSibling)\n        } else {\n            target.parentNode.appendChild(el)\n        }\n        if (cb) nextTick(cb)\n    }, this.$compiler)\n})\n\nfunction query (el) {\n    return typeof el === 'string'\n        ? document.querySelector(el)\n        : el\n}\n\nmodule.exports = ViewModel\n",
    "/**\n * DEVELOPED BY\n * GIL LOPES BUENO\n * gilbueno.mail@gmail.com\n *\n * WORKS WITH:\n * IE 9+, FF 4+, SF 5+, WebKit, CH 7+, OP 12+, BESEN, Rhino 1.7+\n *\n * FORK:\n * https://github.com/melanke/Watch.JS\n */\n\n\"use strict\";\n(function (factory) {\n    if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else {\n        // Browser globals\n        window.WatchJS = factory();\n        window.watch = window.WatchJS.watch;\n        window.unwatch = window.WatchJS.unwatch;\n        window.callWatchers = window.WatchJS.callWatchers;\n    }\n}(function () {\n\n    var WatchJS = {\n        noMore: false\n    },\n    defineWatcher,\n    unwatchOne,\n    callWatchers;\n\n    var isFunction = function (functionToCheck) {\n            var getType = {};\n            return functionToCheck && getType.toString.call(functionToCheck) == '[object Function]';\n    };\n\n    var isInt = function (x) {\n        return x % 1 === 0;\n    };\n\n    var isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    var isModernBrowser = function () {\n        return Object.defineProperty || Object.prototype.__defineGetter__;\n    };\n\n    var defineGetAndSet = function (obj, propName, getter, setter) {\n        try {\n                Object.defineProperty(obj, propName, {\n                        get: getter,\n                        set: setter,\n                        enumerable: true,\n                        configurable: true\n                });\n        } catch(error) {\n            try{\n                Object.prototype.__defineGetter__.call(obj, propName, getter);\n                Object.prototype.__defineSetter__.call(obj, propName, setter);\n            }catch(error2){\n                throw \"watchJS error: browser not supported :/\"\n            }\n        }\n    };\n\n    var defineProp = function (obj, propName, value) {\n        try {\n            Object.defineProperty(obj, propName, {\n                enumerable: false,\n                configurable: true,\n                writable: false,\n                value: value\n            });\n        } catch(error) {\n            obj[propName] = value;\n        }\n    };\n\n    var watch = function () {\n\n        if (isFunction(arguments[1])) {\n            watchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            watchMany.apply(this, arguments);\n        } else {\n            watchOne.apply(this, arguments);\n        }\n\n    };\n\n\n    var watchAll = function (obj, watcher, level) {\n\n        if (obj instanceof String || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        var props = [];\n\n\n        if(isArray(obj)) {\n            for (var prop = 0; prop < obj.length; prop++) { //for each item if obj is an array\n                props.push(prop); //put in the props\n            }\n        } else {\n            for (var prop2 in obj) { //for each attribute if obj is an object\n                props.push(prop2); //put in the props\n            }\n        }\n\n        watchMany(obj, props, watcher, level); //watch all itens of the props\n    };\n\n\n    var watchMany = function (obj, props, watcher, level) {\n\n        for (var prop in props) { //watch each attribute of \"props\" if is an object\n            watchOne(obj, props[prop], watcher, level);\n        }\n\n    };\n\n    var watchOne = function (obj, prop, watcher, level) {\n\n        if(isFunction(obj[prop])) { //dont watch if it is a function\n            return;\n        }\n\n        if(obj[prop] != null && (level === undefined || level > 0)){\n            if(level !== undefined){\n                level--;\n            }\n            watchAll(obj[prop], watcher, level); //recursively watch all attributes of this\n        }\n\n        defineWatcher(obj, prop, watcher);\n\n    };\n\n    var unwatch = function () {\n\n        if (isFunction(arguments[1])) {\n            unwatchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            unwatchMany.apply(this, arguments);\n        } else {\n            unwatchOne.apply(this, arguments);\n        }\n\n    };\n\n    var unwatchAll = function (obj, watcher) {\n\n        if (obj instanceof String || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        var props = [];\n\n\n        if (isArray(obj)) {\n            for (var prop = 0; prop < obj.length; prop++) { //for each item if obj is an array\n                props.push(prop); //put in the props\n            }\n        } else {\n            for (var prop2 in obj) { //for each attribute if obj is an object\n                props.push(prop2); //put in the props\n            }\n        }\n\n        unwatchMany(obj, props, watcher); //watch all itens of the props\n    };\n\n\n    var unwatchMany = function (obj, props, watcher) {\n\n        for (var prop2 in props) { //watch each attribute of \"props\" if is an object\n            unwatchOne(obj, props[prop2], watcher);\n        }\n    };\n\n    if(isModernBrowser()){\n\n        defineWatcher = function (obj, prop, watcher) {\n\n            var val = obj[prop];\n\n            watchFunctions(obj, prop);\n\n            if (!obj.watchers) {\n                defineProp(obj, \"watchers\", {});\n            }\n\n            if (!obj.watchers[prop]) {\n                obj.watchers[prop] = [];\n            }\n\n\n            obj.watchers[prop].push(watcher); //add the new watcher in the watchers array\n\n\n            var getter = function () {\n                return val;\n            };\n\n\n            var setter = function (newval) {\n                var oldval = val;\n                val = newval;\n\n                if (obj[prop]){\n                    watchAll(obj[prop], watcher);\n                }\n\n                watchFunctions(obj, prop);\n\n                if (!WatchJS.noMore){\n                    if (JSON.stringify(oldval) !== JSON.stringify(newval)) {\n                        callWatchers(obj, prop, \"set\", newval, oldval);\n                        WatchJS.noMore = false;\n                    }\n                }\n            };\n\n            defineGetAndSet(obj, prop, getter, setter);\n\n        };\n\n        callWatchers = function (obj, prop, action, newval, oldval) {\n\n            for (var wr in obj.watchers[prop]) {\n                if (isInt(wr)){\n                    obj.watchers[prop][wr].call(obj, prop, action, newval, oldval);\n                }\n            }\n        };\n\n        // @todo code related to \"watchFunctions\" is certainly buggy\n        var methodNames = ['pop', 'push', 'reverse', 'shift', 'sort', 'slice', 'unshift'];\n        var defineArrayMethodWatcher = function (obj, prop, original, methodName) {\n            defineProp(obj[prop], methodName, function () {\n                var response = original.apply(obj[prop], arguments);\n                watchOne(obj, obj[prop]);\n                if (methodName !== 'slice') {\n                    callWatchers(obj, prop, methodName,arguments);\n                }\n                return response;\n            });\n        };\n\n        var watchFunctions = function(obj, prop) {\n\n            if ((!obj[prop]) || (obj[prop] instanceof String) || (!isArray(obj[prop]))) {\n                return;\n            }\n\n            for (var i = methodNames.length, methodName; i--;) {\n                methodName = methodNames[i];\n                defineArrayMethodWatcher(obj, prop, obj[prop][methodName], methodName);\n            }\n\n        };\n\n        unwatchOne = function (obj, prop, watcher) {\n            for(var i in obj.watchers[prop]){\n                var w = obj.watchers[prop][i];\n\n                if(w == watcher) {\n                    obj.watchers[prop].splice(i, 1);\n                }\n            }\n        };\n\n    } else {\n        //this implementation dont work because it cant handle the gap between \"settings\".\n        //I mean, if you use a setter for an attribute after another setter of the same attribute it will only fire the second\n        //but I think we could think something to fix it\n\n        var subjects = [];\n\n        defineWatcher = function(obj, prop, watcher){\n\n            subjects.push({\n                obj: obj,\n                prop: prop,\n                serialized: JSON.stringify(obj[prop]),\n                watcher: watcher\n            });\n\n        };\n\n        unwatchOne = function (obj, prop, watcher) {\n\n            for (var i in subjects) {\n                var subj = subjects[i];\n\n                if (subj.obj == obj && subj.prop == prop && subj.watcher == watcher) {\n                    subjects.splice(i, 1);\n                }\n\n            }\n\n        };\n\n        callWatchers = function (obj, prop, action, value) {\n\n            for (var i in subjects) {\n                var subj = subjects[i];\n\n                if (subj.obj == obj && subj.prop == prop) {\n                    subj.watcher.call(obj, prop, action, value);\n                }\n\n            }\n\n        };\n\n        var loop = function(){\n\n            for(var i in subjects){\n\n                var subj = subjects[i];\n                var newSer = JSON.stringify(subj.obj[subj.prop]);\n                if(newSer != subj.serialized){\n                    subj.watcher.call(subj.obj, subj.prop, subj.obj[subj.prop], JSON.parse(subj.serialized));\n                    subj.serialized = newSer;\n                }\n\n            }\n\n        };\n\n        setInterval(loop, 50);\n\n    }\n\n    WatchJS.watch = watch;\n    WatchJS.unwatch = unwatch;\n    WatchJS.callWatchers = callWatchers;\n\n    return WatchJS;\n\n}));\n",
    "module.exports={\n  \"webmakerAuthWelcome\":  {\n    \"message\": \"Welcome to Webmaker!\",\n    \"description\": \"Welcome message for the join Webmaker modal dialog. Displayed after successfully creating a new Webmaker account\"\n  },\n  \"webmakerAuthServerError\":  {\n    \"message\": \"An unknown error occurred on the server. Try your request again. If the problem persists, <a class=\\\"alert-link\\\" href=\\\"https://support.mozilla.org/kb/webmaker-account-help\\\" target=\\\"_\\\">get help</a>.\",\n    \"description\": \"Error message displayed if an error occurs on the server.\"\n  },\n  \"webmakerAuthCreateWelcome\":  {\n    \"message\": \"Create A Webmaker Account\",\n    \"description\": \"Header text for the join webmaker modal dialog\"\n  },\n  \"webmakerAuthChooseUsername\":  {\n    \"message\": \"Choose A Username\",\n    \"description\": \"Label text for the username selection input\"\n  },\n  \"webmakerAuthTakenError\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> That username is taken. Try adding your favourite number at the end.\",\n    \"description\": \"Error message displayed when the entered username is not available for use.\"\n  },\n  \"webmakerAuthUsernameInvalid\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh oh!</strong> All usernames must be between 1-20 characters, and only include \\\"-\\\" and alphanumeric symbols\",\n    \"description\": \"Error message displayed when the username entered contains symbols that are not allowed.\"\n  },\n  \"webmakerAuthMailingList\":  {\n    \"message\": \"Send me email updates about Webmaker and other Mozilla projects\",\n    \"description\": \"Message about opting in for a Mozilla mailing list\"\n  },\n  \"webmakerAuthAgreeToTerms\":  {\n    \"message\": \"I agree to Mozilla Webmaker's <a href='https://webmaker.org/terms'>Terms</a> and <a href='https://webmaker.org/privacy'>Privacy Policy</a>\",\n    \"description\": \"I agree to Mozilla Webmaker's terms and privacy policy.\"\n  },\n  \"webmakerAuthAgreeError\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Oh snap!</strong> You must agree to our terms and conditions.\",\n    \"description\": \"Error message displayed if the terms and conditions checkbox isn't toggled on.\"\n  },\n  \"webmakerAuthCreateAccount\":  {\n    \"message\": \"Create Account\",\n    \"description\": \"The button text for finishing the join Webmaker process.\"\n  },\n  \"Cancel\":  {\n    \"message\": \"Cancel\",\n    \"description\": \"Cancel button text\"\n  },\n  \"Email\":  {\n    \"message\": \"Enter Your Email\",\n    \"description\": \"Label text for the email input\"\n  },\n  \"EmailOrUsername\":  {\n    \"message\": \"Email or Username\",\n    \"description\": \"Label text for the sign in input, asks for the username or email of the user's account.\"\n  },\n  \"NotAnEmail\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh Oh!</strong> That doesn't look like an email address.\",\n    \"description\": \"Error message when the text entered in an email input is not an email address\"\n  },\n  \"WebmakerAccountExists\":  {\n    \"message\": \"<i class=\\\"fa fa-exclamation-circle\\\"></i>  <strong>Heads up!</strong> That email already has an account. Did you mean to <a href=\\\"#\\\" class=\\\"alert-link\\\" ng-click=\\\"switchToSignin();\\\">sign in</a>?\",\n    \"description\": \"That email already has an accout. Did you mean to sign in?\"\n  },\n  \"ChooseUsername\":  {\n    \"message\": \"Choose Username\",\n    \"description\": \" Label text for selecting a username\"\n  },\n  \"Language Preference\":  {\n    \"message\": \"Language Preference\",\n    \"description\": \"Label text for selecting the preferred language for the user.\"\n  },\n  \"Sign in to Webmaker\":  {\n    \"message\": \"Sign In To Webmaker\",\n    \"description\": \"Header text for the sign in modal dialog\"\n  },\n  \"Sign in\":  {\n    \"message\": \"Sign In\",\n    \"description\": \"Sign in Button text\"\n  },\n  \"Sign up\":  {\n    \"message\": \"Join\",\n    \"description\": \"Join button text\"\n  },\n  \"passLoginFailed\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> <strong>Authentication failed!</strong>\",\n    \"description\": \"Error message when a password login attempt fails\"\n  },\n  \"resetMessage\":  {\n    \"message\": \"Check your email for a password reset link.\",\n    \"description\": \"Directs the user to check their email for a password reset link\"\n  },\n  \"resetRequestFailed\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> <strong>Uh oh!</strong> Something went wrong! Try requesting the password reset again. Or, <a class=\\\"alert-link\\\" href=\\\"https://support.mozilla.org/kb/webmaker-account-help\\\" target=\\\"_\\\">get help</a>.\",\n    \"description\": \"Error displayed if a password reset request fails.\"\n  },\n  \"Password\":  {\n    \"message\": \"Password\",\n    \"description\": \"Label text for the password input\"\n  },\n  \"Forgot your password?\":  {\n    \"message\": \"Forgot your password?\",\n    \"description\": \"button text for the password reset function\"\n  },\n  \"checkEmail\":  {\n    \"message\": \"Check Your Email\",\n    \"description\": \"Message instructing the user to check their email\"\n  },\n  \"tokenMessage\":  {\n    \"message\": \"Please check your email to confirm your account.\",\n    \"description\": \"Message instructing the user to check their email for an account confirmation link\"\n  },\n  \"That does not look like an email address or username\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> <strong>Uh oh!</strong> That doesn't look like an email address or username.\",\n    \"description\": \"Error message displayed when the input doesn't match a username or email\"\n  },\n  \"No account found for your uid\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> We couldn't find your username or email address. Did you mean to <a href=\\\"#\\\" ng-click=\\\"switchToSignup();\\\" class=\\\"alert-link\\\">create an account</a>? Trouble? <a class=\\\"alert-link\\\" href=\\\"https://support.mozilla.org/kb/webmaker-account-help\\\" target=\\\"_\\\">Get help</a>.\",\n    \"description\": \"Error message displayed when the given username or email doesn't have a Webmaker account and asks if they would like to sign up.\"\n  },\n  \"problem sending token\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> There was a problem sending a login key to you, please try again. <a class=\\\"alert-link\\\" href=\\\"https://support.mozilla.org/kb/webmaker-account-help\\\" target=\\\"_\\\">Get help</a>.\",\n    \"description\": \"Error message displayed when the request for a login key fails for some reason.\"\n  },\n  \"incorrectToken\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i> <strong>Uh oh!</strong> That key is not correct.\",\n    \"description\": \"Error message displayed when the token used to log in is rejected.\"\n  },\n  \"Visit Email\":  {\n    \"message\": \"Visit your email to retrieve your key\",\n    \"description\": \"Label text above the login key input field\"\n  },\n  \"Verified Visit Email\":  {\n    \"message\": \"We emailed you a link & key to sign in\",\n    \"description\": \"Message instructing the user to check their email for an account confirmation link\"\n  },\n  \"Enter key\":  {\n    \"message\": \"Enter key <i class=\\\"fa fa-angle-right\\\"></i>\",\n    \"description\": \"Label to enter key that was sent to user's email\"\n  },\n  \"you can switch to webmaker login\":  {\n    \"message\": \"You can switch back to our Webmaker Login experience. We will send you login emails so you do not need a password.\",\n    \"description\": \"Message reminding users that they can switch back to the Webmaker Login Key system instead of using a password.\"\n  },\n  \"Submit\":  {\n    \"message\": \"Submit\",\n    \"description\": \"Label text for the submit new password button in the Reset Password Modal Dialog\"\n  },\n  \"or\":  {\n    \"message\": \"or\",\n    \"description\": \"Text beside the button that initiates a persona login\"\n  },\n  \"log in with Persona\":  {\n    \"message\": \"log in with Persona\",\n    \"description\": \"Text for the button that initiates a persona login\"\n  },\n  \"trouble with email\":  {\n    \"message\": \"Trouble with email? Check your spam or <a href=\\\"https://support.mozilla.org/kb/webmaker-account-help\\\" tabindex=\\\"5\\\" target=\\\"_\\\">get help</a>\",\n    \"description\": \"Text that allows users to get help\"\n  },\n  \"aboutWebmaker\":  {\n    \"message\": \"Make your own web pages, interactive videos, remixes and mobile apps.\",\n    \"description\": \"Short description of Webmaker\"\n  },\n  \"XRay-Goggles\":  {\n    \"message\": \"X-Ray Goggles\",\n    \"description\": \"The X-Ray Goggles Tool\"\n  },\n  \"AboutGoggles\":  {\n    \"message\": \"X-Ray Goggles allow you to see the building blocks that make up websites on the Internet. Activate the goggles to inspect the code behind any webpage.\",\n    \"description\": \"A short description of the X-Ray Goggles\"\n  },\n  \"TryGoggles\":  {\n    \"message\": \"Try Goggles now\",\n    \"description\": \"Text for the button that takes the user to the X-Ray Goggles homepage\"\n  },\n  \"ExploreWebmaker\":  {\n    \"message\": \"Explore the rest of Webmaker\",\n    \"description\": \"Text for the button which takes the user to webmaker.org/explore\"\n  },\n  \"Resources\":  {\n    \"message\": \"Resources\",\n    \"description\": \"The Resources section of Webmaker\"\n  },\n  \"AboutResources\":  {\n    \"message\": \"Teach and learn digital skills and web literacy. Webmaker Resources are full of fun things to discover, make and teach.\",\n    \"description\": \"A short description about the Resources section\"\n  },\n  \"VisitResources\":  {\n    \"message\": \"Visit Resources\",\n    \"description\": \"Text for the button that takes the user to the X-Ray Goggles homepage\"\n  },\n  \"passwords do not match\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh oh!</strong> The passwords do not match!\",\n    \"description\": \"Error message displayed when the password input and password confirmation input do not match\"\n  },\n  \"error setting password\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh oh!</strong> There was an error trying to set your password, please try again.\",\n    \"description\": \"Error displayed if there was a problem setting the new password\"\n  },\n  \"Confirm your password\":  {\n    \"message\": \"Confirm Your Password\",\n    \"description\": \"Label text for the password confirmation input\"\n  },\n  \"Reset Password\":  {\n    \"message\": \"Reset Password\",\n    \"description\": \"Reset Password Modal title\"\n  },\n  \"Set a Password\":  {\n    \"message\": \"Set A Password\",\n    \"description\": \"Label text for the password input box (reset password modal)\"\n  },\n  \"Password Reset Success\":  {\n    \"message\": \"<i class=\\\"fa fa-check\\\"></i> <strong>Success!</strong> You've successfully reset your password, please sign in!\",\n    \"description\": \"Alert displayed after successfully resetting a password\"\n  },\n  \"Password too weak\":  {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh oh!</strong> The password you've entered is too weak. Make sure it doesn't contain any common words or patterns, and doesn't contain your email or username\",\n    \"description\": \"Error message displayed if the server determined the password entered is too weak.\"\n  },\n  \"Minimum password requirements\":  {\n    \"message\": \"Minimum password requirements\",\n    \"description\": \"Text above the list of minimum requirements that a password must satisfy\"\n  },\n  \"At least 8 characters\":  {\n    \"message\": \"At least 8 characters\",\n    \"description\": \"A password must contain 8 or more characters\"\n  },\n  \"At least 1 upper and lower case character\":  {\n    \"message\": \"At least 1 uppercase and lowercase character\",\n    \"description\": \"A password must contain at least 1 upper and lower case character\"\n  },\n  \"At least 1 number\":  {\n    \"message\": \"At least 1 number\",\n    \"description\": \"a password must contain at least one number character\"\n  },\n  \"resetRequestFailed\": {\n    \"message\": \"<i class=\\\"fa fa-times\\\"></i>  <strong>Uh oh!</strong> There was a problem processing your request, please try again.\",\n    \"description\": \"Error message displayed if the reset request fails for some reason\"\n  },\n  \"Next\": {\n    \"message\": \"Next\",\n    \"description\": \"Go to the next screen\"\n  },\n  \"Cancel\": {\n    \"message\": \"Cancel\",\n    \"description\": \"Cancel sign up or sign in\"\n  },\n  \"Done\": {\n    \"message\": \"Done\",\n    \"description\": \"Done, close the window.\"\n  },\n  \"Remember me for one year\": {\n    \"message\": \"Remember me\",\n    \"description\": \"Message displayed next to the remember me checkbox\"\n  },\n  \"Lets Go!\": {\n    \"message\": \"Let's Go!\",\n    \"description\": \"Button text for closing the modal dialog after account creation\"\n  },\n  \"Expired Login Link\": {\n    \"message\": \"Uh Oh! Your login link expired. Request a new email to sign in.\",\n    \"description\": \"Error message displayed if a login link is expired\"\n  }\n}\n",
    "\"use strict\";\r\n\r\nvar parse = require(\"./parse.js\");\r\n\r\nvar filters = {},\r\n    Lexer = parse.Lexer,\r\n    Parser = parse.Parser,\r\n    lexer = new Lexer({}),\r\n    parser = new Parser(lexer, getFilter);\r\n\r\n/**\r\n * Compiles src and returns a function that executes src on a target object.\r\n * The compiled function is cached under compile.cache[src] to speed up further calls.\r\n *\r\n * @param {string} src\r\n * @returns {function}\r\n */\r\nfunction compile(src) {\r\n    var cached;\r\n\r\n    if (typeof src !== \"string\") {\r\n        throw new TypeError(\"src must be a string, instead saw '\" + typeof src + \"'\");\r\n    }\r\n\r\n    if (!compile.cache) {\r\n        return parser.parse(src);\r\n    }\r\n\r\n    cached = compile.cache[src];\r\n    if (!cached) {\r\n        cached = compile.cache[src] = parser.parse(src);\r\n    }\r\n\r\n    return cached;\r\n}\r\n\r\n/**\r\n * A cache containing all compiled functions. The src is used as key.\r\n * Set this on false to disable the cache.\r\n *\r\n * @type {object}\r\n */\r\ncompile.cache = {};\r\n\r\n/**\r\n * Just a stub of angular's $filter-method\r\n *\r\n * @private\r\n * @param {string} name\r\n * @returns {function}\r\n */\r\nfunction getFilter(name) {\r\n    return filters[name];\r\n}\r\n\r\nexports.Lexer = Lexer;\r\nexports.Parser = Parser;\r\nexports.compile = compile;\r\nexports.filters = filters;",
    "\"use strict\";\r\n\r\n// Angular environment stuff\r\n// ------------------------------\r\nfunction noop() {}\r\n\r\n// Simplified extend() for our use-case\r\nfunction extend(dst, obj) {\r\n    var key;\r\n\r\n    for (key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            dst[key] = obj[key];\r\n        }\r\n    }\r\n\r\n    return dst;\r\n}\r\n\r\nfunction isDefined(value) { return typeof value !== 'undefined'; }\r\n\r\nfunction valueFn(value) { return function () { return value; }; }\r\n\r\nfunction $parseMinErr(module, message, arg1, arg2, arg3) {\r\n    var args = arguments;\r\n\r\n    message = message.replace(/{(\\d)}/g, function (match) {\r\n        return args[2 + parseInt(match[1])];\r\n    });\r\n\r\n    throw new SyntaxError(message);\r\n}\r\n\r\nfunction lowercase (string) {return typeof string === \"string\" ? string.toLowerCase() : string;}\r\n\r\n// Simplified forEach() for our use-case\r\nfunction forEach(arr, iterator) {\r\n    arr.forEach(iterator);\r\n}\r\n\r\n// Sandboxing Angular Expressions\r\n// ------------------------------\r\n// Angular expressions are generally considered safe because these expressions only have direct\r\n// access to $scope and locals. However, one can obtain the ability to execute arbitrary JS code by\r\n// obtaining a reference to native JS functions such as the Function constructor.\r\n//\r\n// As an example, consider the following Angular expression:\r\n//\r\n//   {}.toString.constructor(alert(\"evil JS code\"))\r\n//\r\n// We want to prevent this type of access. For the sake of performance, during the lexing phase we\r\n// disallow any \"dotted\" access to any member named \"constructor\".\r\n//\r\n// For reflective calls (a[b]) we check that the value of the lookup is not the Function constructor\r\n// while evaluating the expression, which is a stronger but more expensive test. Since reflective\r\n// calls are expensive anyway, this is not such a big deal compared to static dereferencing.\r\n//\r\n// This sandboxing technique is not perfect and doesn't aim to be. The goal is to prevent exploits\r\n// against the expression language, but not to prevent exploits that were enabled by exposing\r\n// sensitive JavaScript or browser apis on Scope. Exposing such objects on a Scope is never a good\r\n// practice and therefore we are not even trying to protect against interaction with an object\r\n// explicitly exposed in this way.\r\n//\r\n// A developer could foil the name check by aliasing the Function constructor under a different\r\n// name on the scope.\r\n//\r\n// In general, it is not possible to access a Window object from an angular expression unless a\r\n// window or some DOM object that has a reference to window is published onto a Scope.\r\n\r\nfunction ensureSafeMemberName(name, fullExpression) {\r\n  if (name === \"constructor\") {\r\n    throw $parseMinErr('isecfld',\r\n        'Referencing \"constructor\" field in Angular expressions is disallowed! Expression: {0}',\r\n        fullExpression);\r\n  }\r\n  return name;\r\n}\r\n\r\nfunction ensureSafeObject(obj, fullExpression) {\r\n  // nifty check if obj is Function that is fast and works across iframes and other contexts\r\n  if (obj) {\r\n    if (obj.constructor === obj) {\r\n      throw $parseMinErr('isecfn',\r\n          'Referencing Function in Angular expressions is disallowed! Expression: {0}',\r\n          fullExpression);\r\n    } else if (// isWindow(obj)\r\n        obj.document && obj.location && obj.alert && obj.setInterval) {\r\n      throw $parseMinErr('isecwindow',\r\n          'Referencing the Window in Angular expressions is disallowed! Expression: {0}',\r\n          fullExpression);\r\n    } else if (// isElement(obj)\r\n        obj.children && (obj.nodeName || (obj.prop && obj.attr && obj.find))) {\r\n      throw $parseMinErr('isecdom',\r\n          'Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}',\r\n          fullExpression);\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\nvar OPERATORS = {\r\n    /* jshint bitwise : false */\r\n    'null':function(){return null;},\r\n    'true':function(){return true;},\r\n    'false':function(){return false;},\r\n    undefined:noop,\r\n    '+':function(self, locals, a,b){\r\n      a=a(self, locals); b=b(self, locals);\r\n      if (isDefined(a)) {\r\n        if (isDefined(b)) {\r\n          return a + b;\r\n        }\r\n        return a;\r\n      }\r\n      return isDefined(b)?b:undefined;},\r\n    '-':function(self, locals, a,b){\r\n          a=a(self, locals); b=b(self, locals);\r\n          return (isDefined(a)?a:0)-(isDefined(b)?b:0);\r\n        },\r\n    '*':function(self, locals, a,b){return a(self, locals)*b(self, locals);},\r\n    '/':function(self, locals, a,b){return a(self, locals)/b(self, locals);},\r\n    '%':function(self, locals, a,b){return a(self, locals)%b(self, locals);},\r\n    '^':function(self, locals, a,b){return a(self, locals)^b(self, locals);},\r\n    '=':noop,\r\n    '===':function(self, locals, a, b){return a(self, locals)===b(self, locals);},\r\n    '!==':function(self, locals, a, b){return a(self, locals)!==b(self, locals);},\r\n    '==':function(self, locals, a,b){return a(self, locals)==b(self, locals);},\r\n    '!=':function(self, locals, a,b){return a(self, locals)!=b(self, locals);},\r\n    '<':function(self, locals, a,b){return a(self, locals)<b(self, locals);},\r\n    '>':function(self, locals, a,b){return a(self, locals)>b(self, locals);},\r\n    '<=':function(self, locals, a,b){return a(self, locals)<=b(self, locals);},\r\n    '>=':function(self, locals, a,b){return a(self, locals)>=b(self, locals);},\r\n    '&&':function(self, locals, a,b){return a(self, locals)&&b(self, locals);},\r\n    '||':function(self, locals, a,b){return a(self, locals)||b(self, locals);},\r\n    '&':function(self, locals, a,b){return a(self, locals)&b(self, locals);},\r\n//    '|':function(self, locals, a,b){return a|b;},\r\n    '|':function(self, locals, a,b){return b(self, locals)(self, locals, a(self, locals));},\r\n    '!':function(self, locals, a){return !a(self, locals);}\r\n};\r\n/* jshint bitwise: true */\r\nvar ESCAPE = {\"n\":\"\\n\", \"f\":\"\\f\", \"r\":\"\\r\", \"t\":\"\\t\", \"v\":\"\\v\", \"'\":\"'\", '\"':'\"'};\r\n\r\n\r\n/////////////////////////////////////////\r\n\r\n\r\n/**\r\n * @constructor\r\n */\r\nvar Lexer = function (options) {\r\n  this.options = options;\r\n};\r\n\r\nLexer.prototype = {\r\n  constructor: Lexer,\r\n\r\n  lex: function (text) {\r\n    this.text = text;\r\n\r\n    this.index = 0;\r\n    this.ch = undefined;\r\n    this.lastCh = ':'; // can start regexp\r\n\r\n    this.tokens = [];\r\n\r\n    var token;\r\n    var json = [];\r\n\r\n    while (this.index < this.text.length) {\r\n      this.ch = this.text.charAt(this.index);\r\n      if (this.is('\"\\'')) {\r\n        this.readString(this.ch);\r\n      } else if (this.isNumber(this.ch) || this.is('.') && this.isNumber(this.peek())) {\r\n        this.readNumber();\r\n      } else if (this.isIdent(this.ch)) {\r\n        this.readIdent();\r\n        // identifiers can only be if the preceding char was a { or ,\r\n        if (this.was('{,') && json[0] === '{' &&\r\n            (token = this.tokens[this.tokens.length - 1])) {\r\n          token.json = token.text.indexOf('.') === -1;\r\n        }\r\n      } else if (this.is('(){}[].,;:?')) {\r\n        this.tokens.push({\r\n          index: this.index,\r\n          text: this.ch,\r\n          json: (this.was(':[,') && this.is('{[')) || this.is('}]:,')\r\n        });\r\n        if (this.is('{[')) json.unshift(this.ch);\r\n        if (this.is('}]')) json.shift();\r\n        this.index++;\r\n      } else if (this.isWhitespace(this.ch)) {\r\n        this.index++;\r\n        continue;\r\n      } else {\r\n        var ch2 = this.ch + this.peek();\r\n        var ch3 = ch2 + this.peek(2);\r\n        var fn = OPERATORS[this.ch];\r\n        var fn2 = OPERATORS[ch2];\r\n        var fn3 = OPERATORS[ch3];\r\n        if (fn3) {\r\n          this.tokens.push({index: this.index, text: ch3, fn: fn3});\r\n          this.index += 3;\r\n        } else if (fn2) {\r\n          this.tokens.push({index: this.index, text: ch2, fn: fn2});\r\n          this.index += 2;\r\n        } else if (fn) {\r\n          this.tokens.push({\r\n            index: this.index,\r\n            text: this.ch,\r\n            fn: fn,\r\n            json: (this.was('[,:') && this.is('+-'))\r\n          });\r\n          this.index += 1;\r\n        } else {\r\n          this.throwError('Unexpected next character ', this.index, this.index + 1);\r\n        }\r\n      }\r\n      this.lastCh = this.ch;\r\n    }\r\n    return this.tokens;\r\n  },\r\n\r\n  is: function(chars) {\r\n    return chars.indexOf(this.ch) !== -1;\r\n  },\r\n\r\n  was: function(chars) {\r\n    return chars.indexOf(this.lastCh) !== -1;\r\n  },\r\n\r\n  peek: function(i) {\r\n    var num = i || 1;\r\n    return (this.index + num < this.text.length) ? this.text.charAt(this.index + num) : false;\r\n  },\r\n\r\n  isNumber: function(ch) {\r\n    return ('0' <= ch && ch <= '9');\r\n  },\r\n\r\n  isWhitespace: function(ch) {\r\n    // IE treats non-breaking space as \\u00A0\r\n    return (ch === ' ' || ch === '\\r' || ch === '\\t' ||\r\n            ch === '\\n' || ch === '\\v' || ch === '\\u00A0');\r\n  },\r\n\r\n  isIdent: function(ch) {\r\n    return ('a' <= ch && ch <= 'z' ||\r\n            'A' <= ch && ch <= 'Z' ||\r\n            '_' === ch || ch === '$');\r\n  },\r\n\r\n  isExpOperator: function(ch) {\r\n    return (ch === '-' || ch === '+' || this.isNumber(ch));\r\n  },\r\n\r\n  throwError: function(error, start, end) {\r\n    end = end || this.index;\r\n    var colStr = (isDefined(start)\r\n            ? 's ' + start +  '-' + this.index + ' [' + this.text.substring(start, end) + ']'\r\n            : ' ' + end);\r\n    throw $parseMinErr('lexerr', 'Lexer Error: {0} at column{1} in expression [{2}].',\r\n        error, colStr, this.text);\r\n  },\r\n\r\n  readNumber: function() {\r\n    var number = '';\r\n    var start = this.index;\r\n    while (this.index < this.text.length) {\r\n      var ch = lowercase(this.text.charAt(this.index));\r\n      if (ch == '.' || this.isNumber(ch)) {\r\n        number += ch;\r\n      } else {\r\n        var peekCh = this.peek();\r\n        if (ch == 'e' && this.isExpOperator(peekCh)) {\r\n          number += ch;\r\n        } else if (this.isExpOperator(ch) &&\r\n            peekCh && this.isNumber(peekCh) &&\r\n            number.charAt(number.length - 1) == 'e') {\r\n          number += ch;\r\n        } else if (this.isExpOperator(ch) &&\r\n            (!peekCh || !this.isNumber(peekCh)) &&\r\n            number.charAt(number.length - 1) == 'e') {\r\n          this.throwError('Invalid exponent');\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      this.index++;\r\n    }\r\n    number = 1 * number;\r\n    this.tokens.push({\r\n      index: start,\r\n      text: number,\r\n      json: true,\r\n      fn: function() { return number; }\r\n    });\r\n  },\r\n\r\n  readIdent: function() {\r\n    var parser = this;\r\n\r\n    var ident = '';\r\n    var start = this.index;\r\n\r\n    var lastDot, peekIndex, methodName, ch;\r\n\r\n    while (this.index < this.text.length) {\r\n      ch = this.text.charAt(this.index);\r\n      if (ch === '.' || this.isIdent(ch) || this.isNumber(ch)) {\r\n        if (ch === '.') lastDot = this.index;\r\n        ident += ch;\r\n      } else {\r\n        break;\r\n      }\r\n      this.index++;\r\n    }\r\n\r\n    //check if this is not a method invocation and if it is back out to last dot\r\n    if (lastDot) {\r\n      peekIndex = this.index;\r\n      while (peekIndex < this.text.length) {\r\n        ch = this.text.charAt(peekIndex);\r\n        if (ch === '(') {\r\n          methodName = ident.substr(lastDot - start + 1);\r\n          ident = ident.substr(0, lastDot - start);\r\n          this.index = peekIndex;\r\n          break;\r\n        }\r\n        if (this.isWhitespace(ch)) {\r\n          peekIndex++;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    var token = {\r\n      index: start,\r\n      text: ident\r\n    };\r\n\r\n    // OPERATORS is our own object so we don't need to use special hasOwnPropertyFn\r\n    if (OPERATORS.hasOwnProperty(ident)) {\r\n      token.fn = OPERATORS[ident];\r\n      token.json = OPERATORS[ident];\r\n    } else {\r\n      var getter = getterFn(ident, this.options, this.text);\r\n      token.fn = extend(function(self, locals) {\r\n        return (getter(self, locals));\r\n      }, {\r\n        assign: function(self, value) {\r\n          return setter(self, ident, value, parser.text, parser.options);\r\n        }\r\n      });\r\n    }\r\n\r\n    this.tokens.push(token);\r\n\r\n    if (methodName) {\r\n      this.tokens.push({\r\n        index:lastDot,\r\n        text: '.',\r\n        json: false\r\n      });\r\n      this.tokens.push({\r\n        index: lastDot + 1,\r\n        text: methodName,\r\n        json: false\r\n      });\r\n    }\r\n  },\r\n\r\n  readString: function(quote) {\r\n    var start = this.index;\r\n    this.index++;\r\n    var string = '';\r\n    var rawString = quote;\r\n    var escape = false;\r\n    while (this.index < this.text.length) {\r\n      var ch = this.text.charAt(this.index);\r\n      rawString += ch;\r\n      if (escape) {\r\n        if (ch === 'u') {\r\n          var hex = this.text.substring(this.index + 1, this.index + 5);\r\n          if (!hex.match(/[\\da-f]{4}/i))\r\n            this.throwError('Invalid unicode escape [\\\\u' + hex + ']');\r\n          this.index += 4;\r\n          string += String.fromCharCode(parseInt(hex, 16));\r\n        } else {\r\n          var rep = ESCAPE[ch];\r\n          if (rep) {\r\n            string += rep;\r\n          } else {\r\n            string += ch;\r\n          }\r\n        }\r\n        escape = false;\r\n      } else if (ch === '\\\\') {\r\n        escape = true;\r\n      } else if (ch === quote) {\r\n        this.index++;\r\n        this.tokens.push({\r\n          index: start,\r\n          text: rawString,\r\n          string: string,\r\n          json: true,\r\n          fn: function() { return string; }\r\n        });\r\n        return;\r\n      } else {\r\n        string += ch;\r\n      }\r\n      this.index++;\r\n    }\r\n    this.throwError('Unterminated quote', start);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * @constructor\r\n */\r\nvar Parser = function (lexer, $filter, options) {\r\n  this.lexer = lexer;\r\n  this.$filter = $filter;\r\n  this.options = options;\r\n};\r\n\r\nParser.ZERO = function () { return 0; };\r\n\r\nParser.prototype = {\r\n  constructor: Parser,\r\n\r\n  parse: function (text) {\r\n    this.text = text;\r\n\r\n    this.tokens = this.lexer.lex(text);\r\n\r\n    var value = this.statements();\r\n\r\n    if (this.tokens.length !== 0) {\r\n      this.throwError('is an unexpected token', this.tokens[0]);\r\n    }\r\n\r\n    value.literal = !!value.literal;\r\n    value.constant = !!value.constant;\r\n\r\n    return value;\r\n  },\r\n\r\n  primary: function () {\r\n    var primary;\r\n    if (this.expect('(')) {\r\n      primary = this.filterChain();\r\n      this.consume(')');\r\n    } else if (this.expect('[')) {\r\n      primary = this.arrayDeclaration();\r\n    } else if (this.expect('{')) {\r\n      primary = this.object();\r\n    } else {\r\n      var token = this.expect();\r\n      primary = token.fn;\r\n      if (!primary) {\r\n        this.throwError('not a primary expression', token);\r\n      }\r\n      if (token.json) {\r\n        primary.constant = true;\r\n        primary.literal = true;\r\n      }\r\n    }\r\n\r\n    var next, context;\r\n    while ((next = this.expect('(', '[', '.'))) {\r\n      if (next.text === '(') {\r\n        primary = this.functionCall(primary, context);\r\n        context = null;\r\n      } else if (next.text === '[') {\r\n        context = primary;\r\n        primary = this.objectIndex(primary);\r\n      } else if (next.text === '.') {\r\n        context = primary;\r\n        primary = this.fieldAccess(primary);\r\n      } else {\r\n        this.throwError('IMPOSSIBLE');\r\n      }\r\n    }\r\n    return primary;\r\n  },\r\n\r\n  throwError: function(msg, token) {\r\n    throw $parseMinErr('syntax',\r\n        'Syntax Error: Token \\'{0}\\' {1} at column {2} of the expression [{3}] starting at [{4}].',\r\n          token.text, msg, (token.index + 1), this.text, this.text.substring(token.index));\r\n  },\r\n\r\n  peekToken: function() {\r\n    if (this.tokens.length === 0)\r\n      throw $parseMinErr('ueoe', 'Unexpected end of expression: {0}', this.text);\r\n    return this.tokens[0];\r\n  },\r\n\r\n  peek: function(e1, e2, e3, e4) {\r\n    if (this.tokens.length > 0) {\r\n      var token = this.tokens[0];\r\n      var t = token.text;\r\n      if (t === e1 || t === e2 || t === e3 || t === e4 ||\r\n          (!e1 && !e2 && !e3 && !e4)) {\r\n        return token;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n\r\n  expect: function(e1, e2, e3, e4){\r\n    var token = this.peek(e1, e2, e3, e4);\r\n    if (token) {\r\n      this.tokens.shift();\r\n      return token;\r\n    }\r\n    return false;\r\n  },\r\n\r\n  consume: function(e1){\r\n    if (!this.expect(e1)) {\r\n      this.throwError('is unexpected, expecting [' + e1 + ']', this.peek());\r\n    }\r\n  },\r\n\r\n  unaryFn: function(fn, right) {\r\n    return extend(function(self, locals) {\r\n      return fn(self, locals, right);\r\n    }, {\r\n      constant:right.constant\r\n    });\r\n  },\r\n\r\n  ternaryFn: function(left, middle, right){\r\n    return extend(function(self, locals){\r\n      return left(self, locals) ? middle(self, locals) : right(self, locals);\r\n    }, {\r\n      constant: left.constant && middle.constant && right.constant\r\n    });\r\n  },\r\n\r\n  binaryFn: function(left, fn, right) {\r\n    return extend(function(self, locals) {\r\n      return fn(self, locals, left, right);\r\n    }, {\r\n      constant:left.constant && right.constant\r\n    });\r\n  },\r\n\r\n  statements: function() {\r\n    var statements = [];\r\n    while (true) {\r\n      if (this.tokens.length > 0 && !this.peek('}', ')', ';', ']'))\r\n        statements.push(this.filterChain());\r\n      if (!this.expect(';')) {\r\n        // optimize for the common case where there is only one statement.\r\n        // TODO(size): maybe we should not support multiple statements?\r\n        return (statements.length === 1)\r\n            ? statements[0]\r\n            : function(self, locals) {\r\n                var value;\r\n                for (var i = 0; i < statements.length; i++) {\r\n                  var statement = statements[i];\r\n                  if (statement) {\r\n                    value = statement(self, locals);\r\n                  }\r\n                }\r\n                return value;\r\n              };\r\n      }\r\n    }\r\n  },\r\n\r\n  filterChain: function() {\r\n    var left = this.expression();\r\n    var token;\r\n    while (true) {\r\n      if ((token = this.expect('|'))) {\r\n        left = this.binaryFn(left, token.fn, this.filter());\r\n      } else {\r\n        return left;\r\n      }\r\n    }\r\n  },\r\n\r\n  filter: function() {\r\n    var token = this.expect();\r\n    var fn = this.$filter(token.text);\r\n    var argsFn = [];\r\n    while (true) {\r\n      if ((token = this.expect(':'))) {\r\n        argsFn.push(this.expression());\r\n      } else {\r\n        var fnInvoke = function(self, locals, input) {\r\n          var args = [input];\r\n          for (var i = 0; i < argsFn.length; i++) {\r\n            args.push(argsFn[i](self, locals));\r\n          }\r\n          return fn.apply(self, args);\r\n        };\r\n        return function() {\r\n          return fnInvoke;\r\n        };\r\n      }\r\n    }\r\n  },\r\n\r\n  expression: function() {\r\n    return this.assignment();\r\n  },\r\n\r\n  assignment: function() {\r\n    var left = this.ternary();\r\n    var right;\r\n    var token;\r\n    if ((token = this.expect('='))) {\r\n      if (!left.assign) {\r\n        this.throwError('implies assignment but [' +\r\n            this.text.substring(0, token.index) + '] can not be assigned to', token);\r\n      }\r\n      right = this.ternary();\r\n      return function(scope, locals) {\r\n        return left.assign(scope, right(scope, locals), locals);\r\n      };\r\n    }\r\n    return left;\r\n  },\r\n\r\n  ternary: function() {\r\n    var left = this.logicalOR();\r\n    var middle;\r\n    var token;\r\n    if ((token = this.expect('?'))) {\r\n      middle = this.ternary();\r\n      if ((token = this.expect(':'))) {\r\n        return this.ternaryFn(left, middle, this.ternary());\r\n      } else {\r\n        this.throwError('expected :', token);\r\n      }\r\n    } else {\r\n      return left;\r\n    }\r\n  },\r\n\r\n  logicalOR: function() {\r\n    var left = this.logicalAND();\r\n    var token;\r\n    while (true) {\r\n      if ((token = this.expect('||'))) {\r\n        left = this.binaryFn(left, token.fn, this.logicalAND());\r\n      } else {\r\n        return left;\r\n      }\r\n    }\r\n  },\r\n\r\n  logicalAND: function() {\r\n    var left = this.equality();\r\n    var token;\r\n    if ((token = this.expect('&&'))) {\r\n      left = this.binaryFn(left, token.fn, this.logicalAND());\r\n    }\r\n    return left;\r\n  },\r\n\r\n  equality: function() {\r\n    var left = this.relational();\r\n    var token;\r\n    if ((token = this.expect('==','!=','===','!=='))) {\r\n      left = this.binaryFn(left, token.fn, this.equality());\r\n    }\r\n    return left;\r\n  },\r\n\r\n  relational: function() {\r\n    var left = this.additive();\r\n    var token;\r\n    if ((token = this.expect('<', '>', '<=', '>='))) {\r\n      left = this.binaryFn(left, token.fn, this.relational());\r\n    }\r\n    return left;\r\n  },\r\n\r\n  additive: function() {\r\n    var left = this.multiplicative();\r\n    var token;\r\n    while ((token = this.expect('+','-'))) {\r\n      left = this.binaryFn(left, token.fn, this.multiplicative());\r\n    }\r\n    return left;\r\n  },\r\n\r\n  multiplicative: function() {\r\n    var left = this.unary();\r\n    var token;\r\n    while ((token = this.expect('*','/','%'))) {\r\n      left = this.binaryFn(left, token.fn, this.unary());\r\n    }\r\n    return left;\r\n  },\r\n\r\n  unary: function() {\r\n    var token;\r\n    if (this.expect('+')) {\r\n      return this.primary();\r\n    } else if ((token = this.expect('-'))) {\r\n      return this.binaryFn(Parser.ZERO, token.fn, this.unary());\r\n    } else if ((token = this.expect('!'))) {\r\n      return this.unaryFn(token.fn, this.unary());\r\n    } else {\r\n      return this.primary();\r\n    }\r\n  },\r\n\r\n  fieldAccess: function(object) {\r\n    var parser = this;\r\n    var field = this.expect().text;\r\n    var getter = getterFn(field, this.options, this.text);\r\n\r\n    return extend(function(scope, locals, self) {\r\n      return getter(self || object(scope, locals));\r\n    }, {\r\n      assign: function(scope, value, locals) {\r\n        return setter(object(scope, locals), field, value, parser.text, parser.options);\r\n      }\r\n    });\r\n  },\r\n\r\n  objectIndex: function(obj) {\r\n    var parser = this;\r\n\r\n    var indexFn = this.expression();\r\n    this.consume(']');\r\n\r\n    return extend(function(self, locals) {\r\n      var o = obj(self, locals),\r\n          i = indexFn(self, locals),\r\n          v, p;\r\n\r\n      if (!o) return undefined;\r\n      v = ensureSafeObject(o[i], parser.text);\r\n      return v;\r\n    }, {\r\n      assign: function(self, value, locals) {\r\n        var key = indexFn(self, locals);\r\n        // prevent overwriting of Function.constructor which would break ensureSafeObject check\r\n        var safe = ensureSafeObject(obj(self, locals), parser.text);\r\n        return safe[key] = value;\r\n      }\r\n    });\r\n  },\r\n\r\n  functionCall: function(fn, contextGetter) {\r\n    var argsFn = [];\r\n    if (this.peekToken().text !== ')') {\r\n      do {\r\n        argsFn.push(this.expression());\r\n      } while (this.expect(','));\r\n    }\r\n    this.consume(')');\r\n\r\n    var parser = this;\r\n\r\n    return function(scope, locals) {\r\n      var args = [];\r\n      var context = contextGetter ? contextGetter(scope, locals) : scope;\r\n\r\n      for (var i = 0; i < argsFn.length; i++) {\r\n        args.push(argsFn[i](scope, locals));\r\n      }\r\n      var fnPtr = fn(scope, locals, context) || noop;\r\n\r\n      ensureSafeObject(context, parser.text);\r\n      ensureSafeObject(fnPtr, parser.text);\r\n\r\n      // IE stupidity! (IE doesn't have apply for some native functions)\r\n      var v = fnPtr.apply\r\n            ? fnPtr.apply(context, args)\r\n            : fnPtr(args[0], args[1], args[2], args[3], args[4]);\r\n\r\n      return ensureSafeObject(v, parser.text);\r\n    };\r\n  },\r\n\r\n  // This is used with json array declaration\r\n  arrayDeclaration: function () {\r\n    var elementFns = [];\r\n    var allConstant = true;\r\n    if (this.peekToken().text !== ']') {\r\n      do {\r\n        if (this.peek(']')) {\r\n          // Support trailing commas per ES5.1.\r\n          break;\r\n        }\r\n        var elementFn = this.expression();\r\n        elementFns.push(elementFn);\r\n        if (!elementFn.constant) {\r\n          allConstant = false;\r\n        }\r\n      } while (this.expect(','));\r\n    }\r\n    this.consume(']');\r\n\r\n    return extend(function(self, locals) {\r\n      var array = [];\r\n      for (var i = 0; i < elementFns.length; i++) {\r\n        array.push(elementFns[i](self, locals));\r\n      }\r\n      return array;\r\n    }, {\r\n      literal: true,\r\n      constant: allConstant\r\n    });\r\n  },\r\n\r\n  object: function () {\r\n    var keyValues = [];\r\n    var allConstant = true;\r\n    if (this.peekToken().text !== '}') {\r\n      do {\r\n        if (this.peek('}')) {\r\n          // Support trailing commas per ES5.1.\r\n          break;\r\n        }\r\n        var token = this.expect(),\r\n        key = token.string || token.text;\r\n        this.consume(':');\r\n        var value = this.expression();\r\n        keyValues.push({key: key, value: value});\r\n        if (!value.constant) {\r\n          allConstant = false;\r\n        }\r\n      } while (this.expect(','));\r\n    }\r\n    this.consume('}');\r\n\r\n    return extend(function(self, locals) {\r\n      var object = {};\r\n      for (var i = 0; i < keyValues.length; i++) {\r\n        var keyValue = keyValues[i];\r\n        object[keyValue.key] = keyValue.value(self, locals);\r\n      }\r\n      return object;\r\n    }, {\r\n      literal: true,\r\n      constant: allConstant\r\n    });\r\n  }\r\n};\r\n\r\n\r\n//////////////////////////////////////////////////\r\n// Parser helper functions\r\n//////////////////////////////////////////////////\r\n\r\nfunction setter(obj, path, setValue, fullExp) {\r\n  var element = path.split('.'), key;\r\n  for (var i = 0; element.length > 1; i++) {\r\n    key = ensureSafeMemberName(element.shift(), fullExp);\r\n    var propertyObj = obj[key];\r\n    if (!propertyObj) {\r\n      propertyObj = {};\r\n      obj[key] = propertyObj;\r\n    }\r\n    obj = propertyObj;\r\n  }\r\n  key = ensureSafeMemberName(element.shift(), fullExp);\r\n  obj[key] = setValue;\r\n  return setValue;\r\n}\r\n\r\nvar getterFnCache = {};\r\n\r\n/**\r\n * Implementation of the \"Black Hole\" variant from:\r\n * - http://jsperf.com/angularjs-parse-getter/4\r\n * - http://jsperf.com/path-evaluation-simplified/7\r\n */\r\nfunction cspSafeGetterFn(key0, key1, key2, key3, key4, fullExp) {\r\n  ensureSafeMemberName(key0, fullExp);\r\n  ensureSafeMemberName(key1, fullExp);\r\n  ensureSafeMemberName(key2, fullExp);\r\n  ensureSafeMemberName(key3, fullExp);\r\n  ensureSafeMemberName(key4, fullExp);\r\n\r\n  return function cspSafeGetter(scope, locals) {\r\n          var pathVal = (locals && locals.hasOwnProperty(key0)) ? locals : scope;\r\n\r\n          if (pathVal == null) return pathVal;\r\n          pathVal = pathVal[key0];\r\n\r\n          if (!key1) return pathVal;\r\n          if (pathVal == null) return undefined;\r\n          pathVal = pathVal[key1];\r\n\r\n          if (!key2) return pathVal;\r\n          if (pathVal == null) return undefined;\r\n          pathVal = pathVal[key2];\r\n\r\n          if (!key3) return pathVal;\r\n          if (pathVal == null) return undefined;\r\n          pathVal = pathVal[key3];\r\n\r\n          if (!key4) return pathVal;\r\n          if (pathVal == null) return undefined;\r\n          pathVal = pathVal[key4];\r\n\r\n          return pathVal;\r\n        };\r\n}\r\n\r\nfunction simpleGetterFn1(key0, fullExp) {\r\n  ensureSafeMemberName(key0, fullExp);\r\n\r\n  return function simpleGetterFn1(scope, locals) {\r\n    if (scope == null) return undefined;\r\n    return ((locals && locals.hasOwnProperty(key0)) ? locals : scope)[key0];\r\n  };\r\n}\r\n\r\nfunction simpleGetterFn2(key0, key1, fullExp) {\r\n  ensureSafeMemberName(key0, fullExp);\r\n  ensureSafeMemberName(key1, fullExp);\r\n\r\n  return function simpleGetterFn2(scope, locals) {\r\n    if (scope == null) return undefined;\r\n    scope = ((locals && locals.hasOwnProperty(key0)) ? locals : scope)[key0];\r\n    return scope == null ? undefined : scope[key1];\r\n  };\r\n}\r\n\r\nfunction getterFn(path, options, fullExp) {\r\n  // Check whether the cache has this getter already.\r\n  // We can use hasOwnProperty directly on the cache because we ensure,\r\n  // see below, that the cache never stores a path called 'hasOwnProperty'\r\n  if (getterFnCache.hasOwnProperty(path)) {\r\n    return getterFnCache[path];\r\n  }\r\n\r\n  var pathKeys = path.split('.'),\r\n      pathKeysLength = pathKeys.length,\r\n      fn;\r\n\r\n  // When we have only 1 or 2 tokens, use optimized special case closures.\r\n  // http://jsperf.com/angularjs-parse-getter/6\r\n  if (pathKeysLength === 1) {\r\n    fn = simpleGetterFn1(pathKeys[0], fullExp);\r\n  } else if (pathKeysLength === 2) {\r\n    fn = simpleGetterFn2(pathKeys[0], pathKeys[1], fullExp);\r\n  } else if (options.csp) {\r\n    if (pathKeysLength < 6) {\r\n      fn = cspSafeGetterFn(pathKeys[0], pathKeys[1], pathKeys[2], pathKeys[3], pathKeys[4], fullExp,\r\n                          options);\r\n    } else {\r\n      fn = function(scope, locals) {\r\n        var i = 0, val;\r\n        do {\r\n          val = cspSafeGetterFn(pathKeys[i++], pathKeys[i++], pathKeys[i++], pathKeys[i++],\r\n                                pathKeys[i++], fullExp, options)(scope, locals);\r\n\r\n          locals = undefined; // clear after first iteration\r\n          scope = val;\r\n        } while (i < pathKeysLength);\r\n        return val;\r\n      };\r\n    }\r\n  } else {\r\n    var code = 'var p;\\n';\r\n    forEach(pathKeys, function(key, index) {\r\n      ensureSafeMemberName(key, fullExp);\r\n      code += 'if(s == null) return undefined;\\n' +\r\n              's='+ (index\r\n                      // we simply dereference 's' on any .dot notation\r\n                      ? 's'\r\n                      // but if we are first then we check locals first, and if so read it first\r\n                      : '((k&&k.hasOwnProperty(\"' + key + '\"))?k:s)') + '[\"' + key + '\"]' + ';\\n';\r\n    });\r\n    code += 'return s;';\r\n\r\n    /* jshint -W054 */\r\n    var evaledFnGetter = new Function('s', 'k', 'pw', code); // s=scope, k=locals, pw=promiseWarning\r\n    /* jshint +W054 */\r\n    evaledFnGetter.toString = valueFn(code);\r\n    fn = evaledFnGetter;\r\n  }\r\n\r\n  // Only cache the value if it's not going to mess up the cache object\r\n  // This is more performant that using Object.prototype.hasOwnProperty.call\r\n  if (path !== 'hasOwnProperty') {\r\n    getterFnCache[path] = fn;\r\n  }\r\n  return fn;\r\n}\r\n\r\nexports.Lexer = Lexer;\r\nexports.Parser = Parser;",
    "// Browser Request\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar XHR = XMLHttpRequest\nif (!XHR) throw new Error('missing XMLHttpRequest')\nrequest.log = {\n  'trace': noop, 'debug': noop, 'info': noop, 'warn': noop, 'error': noop\n}\n\nvar DEFAULT_TIMEOUT = 3 * 60 * 1000 // 3 minutes\n\n//\n// request\n//\n\nfunction request(options, callback) {\n  // The entry-point to the API: prep the options object and pass the real work to run_xhr.\n  if(typeof callback !== 'function')\n    throw new Error('Bad callback given: ' + callback)\n\n  if(!options)\n    throw new Error('No options given')\n\n  var options_onResponse = options.onResponse; // Save this for later.\n\n  if(typeof options === 'string')\n    options = {'uri':options};\n  else\n    options = JSON.parse(JSON.stringify(options)); // Use a duplicate for mutating.\n\n  options.onResponse = options_onResponse // And put it back.\n\n  if (options.verbose) request.log = getLogger();\n\n  if(options.url) {\n    options.uri = options.url;\n    delete options.url;\n  }\n\n  if(!options.uri && options.uri !== \"\")\n    throw new Error(\"options.uri is a required argument\");\n\n  if(typeof options.uri != \"string\")\n    throw new Error(\"options.uri must be a string\");\n\n  var unsupported_options = ['proxy', '_redirectsFollowed', 'maxRedirects', 'followRedirect']\n  for (var i = 0; i < unsupported_options.length; i++)\n    if(options[ unsupported_options[i] ])\n      throw new Error(\"options.\" + unsupported_options[i] + \" is not supported\")\n\n  options.callback = callback\n  options.method = options.method || 'GET';\n  options.headers = options.headers || {};\n  options.body    = options.body || null\n  options.timeout = options.timeout || request.DEFAULT_TIMEOUT\n\n  if(options.headers.host)\n    throw new Error(\"Options.headers.host is not supported\");\n\n  if(options.json) {\n    options.headers.accept = options.headers.accept || 'application/json'\n    if(options.method !== 'GET')\n      options.headers['content-type'] = 'application/json'\n\n    if(typeof options.json !== 'boolean')\n      options.body = JSON.stringify(options.json)\n    else if(typeof options.body !== 'string')\n      options.body = JSON.stringify(options.body)\n  }\n  \n  //BEGIN QS Hack\n  var serialize = function(obj) {\n    var str = [];\n    for(var p in obj)\n      if (obj.hasOwnProperty(p)) {\n        str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n      }\n    return str.join(\"&\");\n  }\n  \n  if(options.qs){\n    var qs = (typeof options.qs == 'string')? options.qs : serialize(options.qs);\n    if(options.uri.indexOf('?') !== -1){ //no get params\n        options.uri = options.uri+'&'+qs;\n    }else{ //existing get params\n        options.uri = options.uri+'?'+qs;\n    }\n  }\n  //END QS Hack\n  \n  //BEGIN FORM Hack\n  var multipart = function(obj) {\n    //todo: support file type (useful?)\n    var result = {};\n    result.boundry = '-------------------------------'+Math.floor(Math.random()*1000000000);\n    var lines = [];\n    for(var p in obj){\n        if (obj.hasOwnProperty(p)) {\n            lines.push(\n                '--'+result.boundry+\"\\n\"+\n                'Content-Disposition: form-data; name=\"'+p+'\"'+\"\\n\"+\n                \"\\n\"+\n                obj[p]+\"\\n\"\n            );\n        }\n    }\n    lines.push( '--'+result.boundry+'--' );\n    result.body = lines.join('');\n    result.length = result.body.length;\n    result.type = 'multipart/form-data; boundary='+result.boundry;\n    return result;\n  }\n  \n  if(options.form){\n    if(typeof options.form == 'string') throw('form name unsupported');\n    if(options.method === 'POST'){\n        var encoding = (options.encoding || 'application/x-www-form-urlencoded').toLowerCase();\n        options.headers['content-type'] = encoding;\n        switch(encoding){\n            case 'application/x-www-form-urlencoded':\n                options.body = serialize(options.form).replace(/%20/g, \"+\");\n                break;\n            case 'multipart/form-data':\n                var multi = multipart(options.form);\n                //options.headers['content-length'] = multi.length;\n                options.body = multi.body;\n                options.headers['content-type'] = multi.type;\n                break;\n            default : throw new Error('unsupported encoding:'+encoding);\n        }\n    }\n  }\n  //END FORM Hack\n\n  // If onResponse is boolean true, call back immediately when the response is known,\n  // not when the full request is complete.\n  options.onResponse = options.onResponse || noop\n  if(options.onResponse === true) {\n    options.onResponse = callback\n    options.callback = noop\n  }\n\n  // XXX Browsers do not like this.\n  //if(options.body)\n  //  options.headers['content-length'] = options.body.length;\n\n  // HTTP basic authentication\n  if(!options.headers.authorization && options.auth)\n    options.headers.authorization = 'Basic ' + b64_enc(options.auth.username + ':' + options.auth.password);\n\n  return run_xhr(options)\n}\n\nvar req_seq = 0\nfunction run_xhr(options) {\n  var xhr = new XHR\n    , timed_out = false\n    , is_cors = is_crossDomain(options.uri)\n    , supports_cors = ('withCredentials' in xhr)\n\n  req_seq += 1\n  xhr.seq_id = req_seq\n  xhr.id = req_seq + ': ' + options.method + ' ' + options.uri\n  xhr._id = xhr.id // I know I will type \"_id\" from habit all the time.\n\n  if(is_cors && !supports_cors) {\n    var cors_err = new Error('Browser does not support cross-origin request: ' + options.uri)\n    cors_err.cors = 'unsupported'\n    return options.callback(cors_err, xhr)\n  }\n\n  xhr.timeoutTimer = setTimeout(too_late, options.timeout)\n  function too_late() {\n    timed_out = true\n    var er = new Error('ETIMEDOUT')\n    er.code = 'ETIMEDOUT'\n    er.duration = options.timeout\n\n    request.log.error('Timeout', { 'id':xhr._id, 'milliseconds':options.timeout })\n    return options.callback(er, xhr)\n  }\n\n  // Some states can be skipped over, so remember what is still incomplete.\n  var did = {'response':false, 'loading':false, 'end':false}\n\n  xhr.onreadystatechange = on_state_change\n  xhr.open(options.method, options.uri, true) // asynchronous\n  if(is_cors)\n    xhr.withCredentials = !! options.withCredentials\n  xhr.send(options.body)\n  return xhr\n\n  function on_state_change(event) {\n    if(timed_out)\n      return request.log.debug('Ignoring timed out state change', {'state':xhr.readyState, 'id':xhr.id})\n\n    request.log.debug('State change', {'state':xhr.readyState, 'id':xhr.id, 'timed_out':timed_out})\n\n    if(xhr.readyState === XHR.OPENED) {\n      request.log.debug('Request started', {'id':xhr.id})\n      for (var key in options.headers)\n        xhr.setRequestHeader(key, options.headers[key])\n    }\n\n    else if(xhr.readyState === XHR.HEADERS_RECEIVED)\n      on_response()\n\n    else if(xhr.readyState === XHR.LOADING) {\n      on_response()\n      on_loading()\n    }\n\n    else if(xhr.readyState === XHR.DONE) {\n      on_response()\n      on_loading()\n      on_end()\n    }\n  }\n\n  function on_response() {\n    if(did.response)\n      return\n\n    did.response = true\n    request.log.debug('Got response', {'id':xhr.id, 'status':xhr.status})\n    clearTimeout(xhr.timeoutTimer)\n    xhr.statusCode = xhr.status // Node request compatibility\n\n    // Detect failed CORS requests.\n    if(is_cors && xhr.statusCode == 0) {\n      var cors_err = new Error('CORS request rejected: ' + options.uri)\n      cors_err.cors = 'rejected'\n\n      // Do not process this request further.\n      did.loading = true\n      did.end = true\n\n      return options.callback(cors_err, xhr)\n    }\n\n    options.onResponse(null, xhr)\n  }\n\n  function on_loading() {\n    if(did.loading)\n      return\n\n    did.loading = true\n    request.log.debug('Response body loading', {'id':xhr.id})\n    // TODO: Maybe simulate \"data\" events by watching xhr.responseText\n  }\n\n  function on_end() {\n    if(did.end)\n      return\n\n    did.end = true\n    request.log.debug('Request done', {'id':xhr.id})\n\n    xhr.body = xhr.responseText\n    if(options.json) {\n      try        { xhr.body = JSON.parse(xhr.responseText) }\n      catch (er) { return options.callback(er, xhr)        }\n    }\n\n    options.callback(null, xhr, xhr.body)\n  }\n\n} // request\n\nrequest.withCredentials = false;\nrequest.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\n\n//\n// defaults\n//\n\nrequest.defaults = function(options, requester) {\n  var def = function (method) {\n    var d = function (params, callback) {\n      if(typeof params === 'string')\n        params = {'uri': params};\n      else {\n        params = JSON.parse(JSON.stringify(params));\n      }\n      for (var i in options) {\n        if (params[i] === undefined) params[i] = options[i]\n      }\n      return method(params, callback)\n    }\n    return d\n  }\n  var de = def(request)\n  de.get = def(request.get)\n  de.post = def(request.post)\n  de.put = def(request.put)\n  de.head = def(request.head)\n  return de\n}\n\n//\n// HTTP method shortcuts\n//\n\nvar shortcuts = [ 'get', 'put', 'post', 'head' ];\nshortcuts.forEach(function(shortcut) {\n  var method = shortcut.toUpperCase();\n  var func   = shortcut.toLowerCase();\n\n  request[func] = function(opts) {\n    if(typeof opts === 'string')\n      opts = {'method':method, 'uri':opts};\n    else {\n      opts = JSON.parse(JSON.stringify(opts));\n      opts.method = method;\n    }\n\n    var args = [opts].concat(Array.prototype.slice.apply(arguments, [1]));\n    return request.apply(this, args);\n  }\n})\n\n//\n// CouchDB shortcut\n//\n\nrequest.couch = function(options, callback) {\n  if(typeof options === 'string')\n    options = {'uri':options}\n\n  // Just use the request API to do JSON.\n  options.json = true\n  if(options.body)\n    options.json = options.body\n  delete options.body\n\n  callback = callback || noop\n\n  var xhr = request(options, couch_handler)\n  return xhr\n\n  function couch_handler(er, resp, body) {\n    if(er)\n      return callback(er, resp, body)\n\n    if((resp.statusCode < 200 || resp.statusCode > 299) && body.error) {\n      // The body is a Couch JSON object indicating the error.\n      er = new Error('CouchDB error: ' + (body.error.reason || body.error.error))\n      for (var key in body)\n        er[key] = body[key]\n      return callback(er, resp, body);\n    }\n\n    return callback(er, resp, body);\n  }\n}\n\n//\n// Utility\n//\n\nfunction noop() {}\n\nfunction getLogger() {\n  var logger = {}\n    , levels = ['trace', 'debug', 'info', 'warn', 'error']\n    , level, i\n\n  for(i = 0; i < levels.length; i++) {\n    level = levels[i]\n\n    logger[level] = noop\n    if(typeof console !== 'undefined' && console && console[level])\n      logger[level] = formatted(console, level)\n  }\n\n  return logger\n}\n\nfunction formatted(obj, method) {\n  return formatted_logger\n\n  function formatted_logger(str, context) {\n    if(typeof context === 'object')\n      str += ' ' + JSON.stringify(context)\n\n    return obj[method].call(obj, str)\n  }\n}\n\n// Return whether a URL is a cross-domain request.\nfunction is_crossDomain(url) {\n  var rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/\n\n  // jQuery #8138, IE may throw an exception when accessing\n  // a field from window.location if document.domain has been set\n  var ajaxLocation\n  try { ajaxLocation = location.href }\n  catch (e) {\n    // Use the href attribute of an A element since IE will modify it given document.location\n    ajaxLocation = document.createElement( \"a\" );\n    ajaxLocation.href = \"\";\n    ajaxLocation = ajaxLocation.href;\n  }\n\n  var ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || []\n    , parts = rurl.exec(url.toLowerCase() )\n\n  var result = !!(\n    parts &&\n    (  parts[1] != ajaxLocParts[1]\n    || parts[2] != ajaxLocParts[2]\n    || (parts[3] || (parts[1] === \"http:\" ? 80 : 443)) != (ajaxLocParts[3] || (ajaxLocParts[1] === \"http:\" ? 80 : 443))\n    )\n  )\n\n  //console.debug('is_crossDomain('+url+') -> ' + result)\n  return result\n}\n\n// MIT License from http://phpjs.org/functions/base64_encode:358\nfunction b64_enc (data) {\n    // Encodes string using MIME base64 algorithm\n    var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc=\"\", tmp_arr = [];\n\n    if (!data) {\n        return data;\n    }\n\n    // assume utf8 data\n    // data = this.utf8_encode(data+'');\n\n    do { // pack three octets into four hexets\n        o1 = data.charCodeAt(i++);\n        o2 = data.charCodeAt(i++);\n        o3 = data.charCodeAt(i++);\n\n        bits = o1<<16 | o2<<8 | o3;\n\n        h1 = bits>>18 & 0x3f;\n        h2 = bits>>12 & 0x3f;\n        h3 = bits>>6 & 0x3f;\n        h4 = bits & 0x3f;\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n    } while (i < data.length);\n\n    enc = tmp_arr.join('');\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n        break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n        break;\n    }\n\n    return enc;\n}\nmodule.exports = request;\n",
    "(function() {\n\n  var cookiejs = {\n    /// Serialize the a name value pair into a cookie string suitable for\n    /// http headers. An optional options object specified cookie parameters\n    ///\n    /// serialize('foo', 'bar', { httpOnly: true })\n    ///   => \"foo=bar; httpOnly\"\n    ///\n    /// @param {String} name\n    /// @param {String} val\n    /// @param {Object} options\n    /// @return {String}\n    serialize: function(name, val, opt){\n      opt = opt || {};\n      var enc = opt.encode || encode;\n      var pairs = [name + '=' + enc(val)];\n\n      if (null != opt.maxAge) {\n        var maxAge = opt.maxAge - 0;\n        if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n        pairs.push('Max-Age=' + maxAge);\n      }\n\n      if (opt.domain) pairs.push('Domain=' + opt.domain);\n      if (opt.path) pairs.push('Path=' + opt.path);\n      if (opt.expires) pairs.push('Expires=' + opt.expires.toUTCString());\n      if (opt.httpOnly) pairs.push('HttpOnly');\n      if (opt.secure) pairs.push('Secure');\n\n      return pairs.join('; ');\n    },\n\n    /// Parse the given cookie header string into an object\n    /// The object has the various cookies as keys(names) => values\n    /// @param {String} str\n    /// @return {Object}\n    parse: function(str, opt) {\n      opt = opt || {};\n      var obj = {}\n      var pairs = str.split(/; */);\n      var dec = opt.decode || decode;\n\n      pairs.forEach(function(pair) {\n        var eq_idx = pair.indexOf('=')\n\n        // skip things that don't look like key=value\n        if (eq_idx < 0) {\n          return;\n        }\n\n        var key = pair.substr(0, eq_idx).trim()\n        var val = pair.substr(++eq_idx, pair.length).trim();\n\n        // quoted values\n        if ('\"' == val[0]) {\n          val = val.slice(1, -1);\n        }\n\n        // only assign once\n        if (undefined == obj[key]) {\n          try {\n            obj[key] = dec(val);\n          } catch (e) {\n            obj[key] = val;\n          }\n        }\n      });\n\n      return obj;\n    }\n  };\n\n  var encode = encodeURIComponent;\n  var decode = decodeURIComponent;\n\n  // export in node environments for testing purposes.\n  if ( typeof module !== 'undefined' && module.exports ) {\n    module.exports = cookiejs;\n  } else {\n    if ( typeof define === \"function\" && define.amd ) {\n      // Support for requirejs\n      define(function() {\n        return cookiejs;\n      });\n    } else {\n      // Support for include on individual pages.\n      window.cookiejs = cookiejs;\n    }\n  }\n\n}());\n",
    "// Browser bundle of nunjucks 1.0.7 \n\n(function() {\nvar modules = {};\n(function() {\n\n// A simple class system, more documentation to come\n\nfunction extend(cls, name, props) {\n    // This does that same thing as Object.create, but with support for IE8\n    var F = function() {};\n    F.prototype = cls.prototype;\n    var prototype = new F();\n\n    var fnTest = /xyz/.test(function(){ xyz; }) ? /\\bparent\\b/ : /.*/;\n    props = props || {};\n\n    for(var k in props) {\n        var src = props[k];\n        var parent = prototype[k];\n\n        if(typeof parent == \"function\" &&\n           typeof src == \"function\" &&\n           fnTest.test(src)) {\n            prototype[k] = (function (src, parent) {\n                return function() {\n                    // Save the current parent method\n                    var tmp = this.parent;\n\n                    // Set parent to the previous method, call, and restore\n                    this.parent = parent;\n                    var res = src.apply(this, arguments);\n                    this.parent = tmp;\n\n                    return res;\n                };\n            })(src, parent);\n        }\n        else {\n            prototype[k] = src;\n        }\n    }\n\n    prototype.typename = name;\n\n    var new_cls = function() {\n        if(prototype.init) {\n            prototype.init.apply(this, arguments);\n        }\n    };\n\n    new_cls.prototype = prototype;\n    new_cls.prototype.constructor = new_cls;\n\n    new_cls.extend = function(name, props) {\n        if(typeof name == \"object\") {\n            props = name;\n            name = \"anonymous\";\n        }\n        return extend(new_cls, name, props);\n    };\n\n    return new_cls;\n}\n\nmodules['object'] = extend(Object, \"Object\", {});\n})();\n(function() {\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\n\nvar escapeMap = {\n    '&': '&amp;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    \"<\": '&lt;',\n    \">\": '&gt;'\n};\n\nvar escapeRegex = /[&\"'<>]/g;\n\nvar lookupEscape = function(ch) {\n    return escapeMap[ch];\n};\n\nvar exports = modules['lib'] = {};\n\nexports.withPrettyErrors = function(path, withInternals, func) {\n    try {\n        return func();\n    } catch (e) {\n        if (!e.Update) {\n            // not one of ours, cast it\n            e = new exports.TemplateError(e);\n        }\n        e.Update(path);\n\n        // Unless they marked the dev flag, show them a trace from here\n        if (!withInternals) {\n            var old = e;\n            e = new Error(old.message);\n            e.name = old.name;\n        }\n\n        throw e;\n    }\n};\n\nexports.TemplateError = function(message, lineno, colno) {\n    var err = this;\n\n    if (message instanceof Error) { // for casting regular js errors\n        err = message;\n        message = message.name + \": \" + message.message;\n    } else {\n        if(Error.captureStackTrace) {\n            Error.captureStackTrace(err);\n        }\n    }\n\n    err.name = 'Template render error';\n    err.message = message;\n    err.lineno = lineno;\n    err.colno = colno;\n    err.firstUpdate = true;\n\n    err.Update = function(path) {\n        var message = \"(\" + (path || \"unknown path\") + \")\";\n\n        // only show lineno + colno next to path of template\n        // where error occurred\n        if (this.firstUpdate) {\n            if(this.lineno && this.colno) {\n                message += ' [Line ' + this.lineno + ', Column ' + this.colno + ']';\n            }\n            else if(this.lineno) {\n                message += ' [Line ' + this.lineno + ']';\n            }\n        }\n\n        message += '\\n ';\n        if (this.firstUpdate) {\n            message += ' ';\n        }\n\n        this.message = message + (this.message || '');\n        this.firstUpdate = false;\n        return this;\n    };\n\n    return err;\n};\n\nexports.TemplateError.prototype = Error.prototype;\n\nexports.escape = function(val) {\n  return val.replace(escapeRegex, lookupEscape);\n};\n\nexports.isFunction = function(obj) {\n    return ObjProto.toString.call(obj) == '[object Function]';\n};\n\nexports.isArray = Array.isArray || function(obj) {\n    return ObjProto.toString.call(obj) == '[object Array]';\n};\n\nexports.isString = function(obj) {\n    return ObjProto.toString.call(obj) == '[object String]';\n};\n\nexports.isObject = function(obj) {\n    return ObjProto.toString.call(obj) == '[object Object]';\n};\n\nexports.groupBy = function(obj, val) {\n    var result = {};\n    var iterator = exports.isFunction(val) ? val : function(obj) { return obj[val]; };\n    for(var i=0; i<obj.length; i++) {\n        var value = obj[i];\n        var key = iterator(value, i);\n        (result[key] || (result[key] = [])).push(value);\n    }\n    return result;\n};\n\nexports.toArray = function(obj) {\n    return Array.prototype.slice.call(obj);\n};\n\nexports.without = function(array) {\n    var result = [];\n    if (!array) {\n        return result;\n    }\n    var index = -1,\n    length = array.length,\n    contains = exports.toArray(arguments).slice(1);\n\n    while(++index < length) {\n        if(contains.indexOf(array[index]) === -1) {\n            result.push(array[index]);\n        }\n    }\n    return result;\n};\n\nexports.extend = function(obj, obj2) {\n    for(var k in obj2) {\n        obj[k] = obj2[k];\n    }\n    return obj;\n};\n\nexports.repeat = function(char_, n) {\n    var str = '';\n    for(var i=0; i<n; i++) {\n        str += char_;\n    }\n    return str;\n};\n\nexports.each = function(obj, func, context) {\n    if(obj == null) {\n        return;\n    }\n\n    if(ArrayProto.each && obj.each == ArrayProto.each) {\n        obj.forEach(func, context);\n    }\n    else if(obj.length === +obj.length) {\n        for(var i=0, l=obj.length; i<l; i++) {\n            func.call(context, obj[i], i, obj);\n        }\n    }\n};\n\nexports.map = function(obj, func) {\n    var results = [];\n    if(obj == null) {\n        return results;\n    }\n\n    if(ArrayProto.map && obj.map === ArrayProto.map) {\n        return obj.map(func);\n    }\n\n    for(var i=0; i<obj.length; i++) {\n        results[results.length] = func(obj[i], i);\n    }\n\n    if(obj.length === +obj.length) {\n        results.length = obj.length;\n    }\n\n    return results;\n};\n\nexports.asyncIter = function(arr, iter, cb) {\n    var i = -1;\n\n    function next() {\n        i++;\n\n        if(i < arr.length) {\n            iter(arr[i], i, next, cb);\n        }\n        else {\n            cb();\n        }\n    }\n\n    next();\n};\n\nexports.asyncFor = function(obj, iter, cb) {\n    var keys = exports.keys(obj);\n    var len = keys.length;\n    var i = -1;\n\n    function next() {\n        i++;\n        var k = keys[i];\n\n        if(i < len) {\n            iter(k, obj[k], i, len, next);\n        }\n        else {\n            cb();\n        }\n    }\n\n    next();\n};\n\nif(!Array.prototype.indexOf) {\n    Array.prototype.indexOf = function(array, searchElement /*, fromIndex */) {\n        if (array == null) {\n            throw new TypeError();\n        }\n        var t = Object(array);\n        var len = t.length >>> 0;\n        if (len === 0) {\n            return -1;\n        }\n        var n = 0;\n        if (arguments.length > 2) {\n            n = Number(arguments[2]);\n            if (n != n) { // shortcut for verifying if it's NaN\n                n = 0;\n            } else if (n != 0 && n != Infinity && n != -Infinity) {\n                n = (n > 0 || -1) * Math.floor(Math.abs(n));\n            }\n        }\n        if (n >= len) {\n            return -1;\n        }\n        var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);\n        for (; k < len; k++) {\n            if (k in t && t[k] === searchElement) {\n                return k;\n            }\n        }\n        return -1;\n    };\n}\n\nif(!Array.prototype.map) {\n    Array.prototype.map = function() {\n        throw new Error(\"map is unimplemented for this js engine\");\n    };\n}\n\nexports.keys = function(obj) {\n    if(Object.prototype.keys) {\n        return obj.keys();\n    }\n    else {\n        var keys = [];\n        for(var k in obj) {\n            if(obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    }\n}\n})();\n(function() {\nvar util = modules[\"util\"];\nvar lib = modules[\"lib\"];\nvar Object = modules[\"object\"];\n\nfunction traverseAndCheck(obj, type, results) {\n    if(obj instanceof type) {\n        results.push(obj);\n    }\n\n    if(obj instanceof Node) {\n        obj.findAll(type, results);\n    }\n}\n\nvar Node = Object.extend(\"Node\", {\n    init: function(lineno, colno) {\n        this.lineno = lineno;\n        this.colno = colno;\n\n        var fields = this.fields;\n        for(var i=0, l=fields.length; i<l; i++) {\n            var field = fields[i];\n\n            // The first two args are line/col numbers, so offset by 2\n            var val = arguments[i + 2];\n\n            // Fields should never be undefined, but null. It makes\n            // testing easier to normalize values.\n            if(val === undefined) {\n                val = null;\n            }\n\n            this[field] = val;\n        }\n    },\n\n    findAll: function(type, results) {\n        results = results || [];\n\n        if(this instanceof NodeList) {\n            var children = this.children;\n\n            for(var i=0, l=children.length; i<l; i++) {\n                traverseAndCheck(children[i], type, results);\n            }\n        }\n        else {\n            var fields = this.fields;\n\n            for(var i=0, l=fields.length; i<l; i++) {\n                traverseAndCheck(this[fields[i]], type, results);\n            }\n        }\n\n        return results;\n    },\n\n    iterFields: function(func) {\n        lib.each(this.fields, function(field) {\n            func(this[field], field);\n        }, this);\n    }\n});\n\n// Abstract nodes\nvar Value = Node.extend(\"Value\", { fields: ['value'] });\n\n// Concrete nodes\nvar NodeList = Node.extend(\"NodeList\", {\n    fields: ['children'],\n\n    init: function(lineno, colno, nodes) {\n        this.parent(lineno, colno, nodes || []);\n    },\n\n    addChild: function(node) {\n        this.children.push(node);\n    }\n});\n\nvar Root = NodeList.extend(\"Root\");\nvar Literal = Value.extend(\"Literal\");\nvar Symbol = Value.extend(\"Symbol\");\nvar Group = NodeList.extend(\"Group\");\nvar Array = NodeList.extend(\"Array\");\nvar Pair = Node.extend(\"Pair\", { fields: ['key', 'value'] });\nvar Dict = NodeList.extend(\"Dict\");\nvar LookupVal = Node.extend(\"LookupVal\", { fields: ['target', 'val'] });\nvar If = Node.extend(\"If\", { fields: ['cond', 'body', 'else_'] });\nvar IfAsync = If.extend(\"IfAsync\");\nvar InlineIf = Node.extend(\"InlineIf\", { fields: ['cond', 'body', 'else_'] });\nvar For = Node.extend(\"For\", { fields: ['arr', 'name', 'body'] });\nvar AsyncEach = For.extend(\"AsyncEach\");\nvar AsyncAll = For.extend(\"AsyncAll\");\nvar Macro = Node.extend(\"Macro\", { fields: ['name', 'args', 'body'] });\nvar Import = Node.extend(\"Import\", { fields: ['template', 'target'] });\nvar FromImport = Node.extend(\"FromImport\", {\n    fields: ['template', 'names'],\n\n    init: function(lineno, colno, template, names) {\n        this.parent(lineno, colno,\n                    template,\n                    names || new NodeList());\n    }\n});\nvar FunCall = Node.extend(\"FunCall\", { fields: ['name', 'args'] });\nvar Filter = FunCall.extend(\"Filter\");\nvar FilterAsync = Filter.extend(\"FilterAsync\", {\n    fields: ['name', 'args', 'symbol']\n});\nvar KeywordArgs = Dict.extend(\"KeywordArgs\");\nvar Block = Node.extend(\"Block\", { fields: ['name', 'body'] });\nvar Super = Node.extend(\"Super\", { fields: ['blockName', 'symbol'] });\nvar TemplateRef = Node.extend(\"TemplateRef\", { fields: ['template'] });\nvar Extends = TemplateRef.extend(\"Extends\");\nvar Include = TemplateRef.extend(\"Include\");\nvar Set = Node.extend(\"Set\", { fields: ['targets', 'value'] });\nvar Output = NodeList.extend(\"Output\");\nvar TemplateData = Literal.extend(\"TemplateData\");\nvar UnaryOp = Node.extend(\"UnaryOp\", { fields: ['target'] });\nvar BinOp = Node.extend(\"BinOp\", { fields: ['left', 'right'] });\nvar Or = BinOp.extend(\"Or\");\nvar And = BinOp.extend(\"And\");\nvar Not = UnaryOp.extend(\"Not\");\nvar Add = BinOp.extend(\"Add\");\nvar Sub = BinOp.extend(\"Sub\");\nvar Mul = BinOp.extend(\"Mul\");\nvar Div = BinOp.extend(\"Div\");\nvar FloorDiv = BinOp.extend(\"FloorDiv\");\nvar Mod = BinOp.extend(\"Mod\");\nvar Pow = BinOp.extend(\"Pow\");\nvar Neg = UnaryOp.extend(\"Neg\");\nvar Pos = UnaryOp.extend(\"Pos\");\nvar Compare = Node.extend(\"Compare\", { fields: ['expr', 'ops'] });\nvar CompareOperand = Node.extend(\"CompareOperand\", {\n    fields: ['expr', 'type']\n});\n\nvar CustomTag = Node.extend(\"CustomTag\", {\n    init: function(lineno, colno, name) {\n        this.lineno = lineno;\n        this.colno = colno;\n        this.name = name;\n    }\n});\n\nvar CallExtension = Node.extend(\"CallExtension\", {\n    fields: ['extName', 'prop', 'args', 'contentArgs'],\n\n    init: function(ext, prop, args, contentArgs) {\n        this.extName = ext._name || ext;\n        this.prop = prop;\n        this.args = args || new NodeList();\n        this.contentArgs = contentArgs || [];\n        this.autoescape = ext.autoescape;\n    }\n});\n\nvar CallExtensionAsync = CallExtension.extend(\"CallExtensionAsync\");\n\n// Print the AST in a nicely formatted tree format for debuggin\nfunction printNodes(node, indent) {\n    indent = indent || 0;\n\n    // This is hacky, but this is just a debugging function anyway\n    function print(str, indent, inline) {\n        var lines = str.split(\"\\n\");\n\n        for(var i=0; i<lines.length; i++) {\n            if(lines[i]) {\n                if((inline && i > 0) || !inline) {\n                    for(var j=0; j<indent; j++) {\n                        util.print(\" \");\n                    }\n                }\n            }\n\n            if(i === lines.length-1) {\n                util.print(lines[i]);\n            }\n            else {\n                util.puts(lines[i]);\n            }\n        }\n    }\n\n    print(node.typename + \": \", indent);\n\n    if(node instanceof NodeList) {\n        print('\\n');\n        lib.each(node.children, function(n) {\n            printNodes(n, indent + 2);\n        });\n    }\n    else if(node instanceof CallExtension) {\n        print(node.extName + '.' + node.prop);\n        print('\\n');\n\n        if(node.args) {\n            printNodes(node.args, indent + 2);\n        }\n\n        if(node.contentArgs) {\n            lib.each(node.contentArgs, function(n) {\n                printNodes(n, indent + 2);\n            });\n        }\n    }\n    else {\n        var nodes = null;\n        var props = null;\n\n        node.iterFields(function(val, field) {\n            if(val instanceof Node) {\n                nodes = nodes || {};\n                nodes[field] = val;\n            }\n            else {\n                props = props || {};\n                props[field] = val;\n            }\n        });\n\n        if(props) {\n            print(util.inspect(props, true, null) + '\\n', null, true);\n        }\n        else {\n            print('\\n');\n        }\n\n        if(nodes) {\n            for(var k in nodes) {\n                printNodes(nodes[k], indent + 2);\n            }\n        }\n\n    }\n}\n\n// var t = new NodeList(0, 0,\n//                      [new Value(0, 0, 3),\n//                       new Value(0, 0, 10),\n//                       new Pair(0, 0,\n//                                new Value(0, 0, 'key'),\n//                                new Value(0, 0, 'value'))]);\n// printNodes(t);\n\nmodules['nodes'] = {\n    Node: Node,\n    Root: Root,\n    NodeList: NodeList,\n    Value: Value,\n    Literal: Literal,\n    Symbol: Symbol,\n    Group: Group,\n    Array: Array,\n    Pair: Pair,\n    Dict: Dict,\n    Output: Output,\n    TemplateData: TemplateData,\n    If: If,\n    IfAsync: IfAsync,\n    InlineIf: InlineIf,\n    For: For,\n    AsyncEach: AsyncEach,\n    AsyncAll: AsyncAll,\n    Macro: Macro,\n    Import: Import,\n    FromImport: FromImport,\n    FunCall: FunCall,\n    Filter: Filter,\n    FilterAsync: FilterAsync,\n    KeywordArgs: KeywordArgs,\n    Block: Block,\n    Super: Super,\n    Extends: Extends,\n    Include: Include,\n    Set: Set,\n    LookupVal: LookupVal,\n    BinOp: BinOp,\n    Or: Or,\n    And: And,\n    Not: Not,\n    Add: Add,\n    Sub: Sub,\n    Mul: Mul,\n    Div: Div,\n    FloorDiv: FloorDiv,\n    Mod: Mod,\n    Pow: Pow,\n    Neg: Neg,\n    Pos: Pos,\n    Compare: Compare,\n    CompareOperand: CompareOperand,\n\n    CallExtension: CallExtension,\n    CallExtensionAsync: CallExtensionAsync,\n\n    printNodes: printNodes\n};\n})();\n(function() {\nvar lib = modules[\"lib\"];\nvar Obj = modules[\"object\"];\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nvar Frame = Obj.extend({\n    init: function(parent) {\n        this.variables = {};\n        this.parent = parent;\n    },\n\n    set: function(name, val, resolveUp) {\n        // Allow variables with dots by automatically creating the\n        // nested structure\n        var parts = name.split('.');\n        var obj = this.variables;\n        var frame = this;\n        \n        if(resolveUp) {\n            if((frame = this.resolve(parts[0]))) {\n                frame.set(name, val);\n                return;\n            }\n            frame = this;\n        }\n\n        for(var i=0; i<parts.length - 1; i++) {\n            var id = parts[i];\n\n            if(!obj[id]) {\n                obj[id] = {};\n            }\n            obj = obj[id];\n        }\n\n        obj[parts[parts.length - 1]] = val;\n    },\n\n    get: function(name) {\n        var val = this.variables[name];\n        if(val !== undefined && val !== null) {\n            return val;\n        }\n        return null;\n    },\n\n    lookup: function(name) {\n        var p = this.parent;\n        var val = this.variables[name];\n        if(val !== undefined && val !== null) {\n            return val;\n        }\n        return p && p.lookup(name);\n    },\n\n    resolve: function(name) {\n        var p = this.parent;\n        var val = this.variables[name];\n        if(val != null) {\n            return this;\n        }\n        return p && p.resolve(name);\n    },\n\n    push: function() {\n        return new Frame(this);\n    },\n\n    pop: function() {\n        return this.parent;\n    }\n});\n\nfunction makeMacro(argNames, kwargNames, func) {\n    return function() {\n        var argCount = numArgs(arguments);\n        var args;\n        var kwargs = getKeywordArgs(arguments);\n\n        if(argCount > argNames.length) {\n            args = Array.prototype.slice.call(arguments, 0, argNames.length);\n\n            // Positional arguments that should be passed in as\n            // keyword arguments (essentially default values)\n            var vals = Array.prototype.slice.call(arguments, args.length, argCount);\n            for(var i=0; i<vals.length; i++) {\n                if(i < kwargNames.length) {\n                    kwargs[kwargNames[i]] = vals[i];\n                }\n            }\n\n            args.push(kwargs);\n        }\n        else if(argCount < argNames.length) {\n            args = Array.prototype.slice.call(arguments, 0, argCount);\n\n            for(var i=argCount; i<argNames.length; i++) {\n                var arg = argNames[i];\n\n                // Keyword arguments that should be passed as\n                // positional arguments, i.e. the caller explicitly\n                // used the name of a positional arg\n                args.push(kwargs[arg]);\n                delete kwargs[arg];\n            }\n\n            args.push(kwargs);\n        }\n        else {\n            args = arguments;\n        }\n\n        return func.apply(this, args);\n    };\n}\n\nfunction makeKeywordArgs(obj) {\n    obj.__keywords = true;\n    return obj;\n}\n\nfunction getKeywordArgs(args) {\n    var len = args.length;\n    if(len) {\n        var lastArg = args[len - 1];\n        if(lastArg && lastArg.hasOwnProperty('__keywords')) {\n            return lastArg;\n        }\n    }\n    return {};\n}\n\nfunction numArgs(args) {\n    var len = args.length;\n    if(len === 0) {\n        return 0;\n    }\n\n    var lastArg = args[len - 1];\n    if(lastArg && lastArg.hasOwnProperty('__keywords')) {\n        return len - 1;\n    }\n    else {\n        return len;\n    }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n    if(typeof val != 'string') {\n        return val;\n    }\n\n    this.val = val;\n}\n\nSafeString.prototype = Object.create(String.prototype);\nSafeString.prototype.valueOf = function() {\n    return this.val;\n};\nSafeString.prototype.toString = function() {\n    return this.val;\n};\n\nfunction copySafeness(dest, target) {\n    if(dest instanceof SafeString) {\n        return new SafeString(target);\n    }\n    return target.toString();\n}\n\nfunction markSafe(val) {\n    var type = typeof val;\n\n    if(type === 'string') {\n        return new SafeString(val);\n    }\n    else if(type !== 'function') {\n        return val;\n    }\n    else {\n        return function() {\n            var ret = val.apply(this, arguments);\n\n            if(typeof ret === 'string') {\n                return new SafeString(ret);\n            }\n\n            return ret;\n        };\n    }\n}\n\nfunction suppressValue(val, autoescape) {\n    val = (val !== undefined && val !== null) ? val : \"\";\n\n    if(autoescape && typeof val === \"string\") {\n        val = lib.escape(val);\n    }\n\n    return val;\n}\n\nfunction memberLookup(obj, val) {\n    obj = obj || {};\n\n    if(typeof obj[val] === 'function') {\n        return function() {\n            return obj[val].apply(obj, arguments);\n        };\n    }\n\n    return obj[val];\n}\n\nfunction callWrap(obj, name, args) {\n    if(!obj) {\n        throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n    }\n    else if(typeof obj !== 'function') {\n        throw new Error('Unable to call `' + name + '`, which is not a function');\n    }\n\n    return obj.apply(this, args);\n}\n\nfunction contextOrFrameLookup(context, frame, name) {\n    var val = frame.lookup(name);\n    return (val !== undefined && val !== null) ?\n        val :\n        context.lookup(name);\n}\n\nfunction handleError(error, lineno, colno) {\n    if(error.lineno) {\n        return error;\n    }\n    else {\n        return new lib.TemplateError(error, lineno, colno);\n    }\n}\n\nfunction asyncEach(arr, dimen, iter, cb) {\n    if(lib.isArray(arr)) {\n        var len = arr.length;\n\n        lib.asyncIter(arr, function(item, i, next) {\n            switch(dimen) {\n            case 1: iter(item, i, len, next); break;\n            case 2: iter(item[0], item[1], i, len, next); break;\n            case 3: iter(item[0], item[1], item[2], i, len, next); break;\n            default:\n                item.push(i, next);\n                iter.apply(this, item);\n            }\n        }, cb);\n    }\n    else {\n        lib.asyncFor(arr, function(key, val, i, len, next) {\n            iter(key, val, i, len, next);\n        }, cb);\n    }\n}\n\nfunction asyncAll(arr, dimen, func, cb) {\n    var finished = 0;\n    var len;\n    var outputArr;\n\n    function done(i, output) {\n        finished++;\n        outputArr[i] = output;\n\n        if(finished == len) {\n            cb(null, outputArr.join(''));\n        }\n    }\n\n    if(lib.isArray(arr)) {\n        len = arr.length;\n        outputArr = new Array(len);\n\n        if(len == 0) {\n            cb(null, '');\n        }\n        else {\n            for(var i=0; i<arr.length; i++) {\n                var item = arr[i];\n\n                switch(dimen) {\n                case 1: func(item, i, len, done); break;\n                case 2: func(item[0], item[1], i, len, done); break;\n                case 3: func(item[0], item[1], item[2], i, len, done); break;\n                default:\n                    item.push(i, done);\n                    func.apply(this, item);\n                }\n            }\n        }\n    }\n    else {\n        var keys = lib.keys(arr);\n        len = keys.length;\n        outputArr = new Array(len);\n\n        if(len == 0) {\n            cb(null, '');\n        }\n        else {\n            for(var i=0; i<keys.length; i++) {\n                var k = keys[i];\n                func(k, arr[k], i, len, done);\n            }\n        }\n    }\n}\n\nmodules['runtime'] = {\n    Frame: Frame,\n    makeMacro: makeMacro,\n    makeKeywordArgs: makeKeywordArgs,\n    numArgs: numArgs,\n    suppressValue: suppressValue,\n    memberLookup: memberLookup,\n    contextOrFrameLookup: contextOrFrameLookup,\n    callWrap: callWrap,\n    handleError: handleError,\n    isArray: lib.isArray,\n    keys: lib.keys,\n    SafeString: SafeString,\n    copySafeness: copySafeness,\n    markSafe: markSafe,\n    asyncEach: asyncEach,\n    asyncAll: asyncAll\n};\n})();\n(function() {\nvar lib = modules[\"lib\"];\n\nvar whitespaceChars = \" \\n\\t\\r\";\nvar delimChars = \"()[]{}%*-+/#,:|.<>=!\";\nvar intChars = \"0123456789\";\n\nvar BLOCK_START = \"{%\";\nvar BLOCK_END = \"%}\";\nvar VARIABLE_START = \"{{\";\nvar VARIABLE_END = \"}}\";\nvar COMMENT_START = \"{#\";\nvar COMMENT_END = \"#}\";\n\nvar TOKEN_STRING = \"string\";\nvar TOKEN_WHITESPACE = \"whitespace\";\nvar TOKEN_DATA = \"data\";\nvar TOKEN_BLOCK_START = \"block-start\";\nvar TOKEN_BLOCK_END = \"block-end\";\nvar TOKEN_VARIABLE_START = \"variable-start\";\nvar TOKEN_VARIABLE_END = \"variable-end\";\nvar TOKEN_COMMENT = \"comment\";\nvar TOKEN_LEFT_PAREN = \"left-paren\";\nvar TOKEN_RIGHT_PAREN = \"right-paren\";\nvar TOKEN_LEFT_BRACKET = \"left-bracket\";\nvar TOKEN_RIGHT_BRACKET = \"right-bracket\";\nvar TOKEN_LEFT_CURLY = \"left-curly\";\nvar TOKEN_RIGHT_CURLY = \"right-curly\";\nvar TOKEN_OPERATOR = \"operator\";\nvar TOKEN_COMMA = \"comma\";\nvar TOKEN_COLON = \"colon\";\nvar TOKEN_PIPE = \"pipe\";\nvar TOKEN_INT = \"int\";\nvar TOKEN_FLOAT = \"float\";\nvar TOKEN_BOOLEAN = \"boolean\";\nvar TOKEN_SYMBOL = \"symbol\";\nvar TOKEN_SPECIAL = \"special\";\n\nfunction token(type, value, lineno, colno) {\n    return {\n        type: type,\n        value: value,\n        lineno: lineno,\n        colno: colno\n    };\n}\n\nfunction Tokenizer(str) {\n    this.str = str;\n    this.index = 0;\n    this.len = str.length;\n    this.lineno = 0;\n    this.colno = 0;\n\n    this.in_code = false;\n}\n\nTokenizer.prototype.nextToken = function() {\n    var lineno = this.lineno;\n    var colno = this.colno;\n\n    if(this.in_code) {\n        // Otherwise, if we are in a block parse it as code\n        var cur = this.current();\n        var tok;\n\n        if(this.is_finished()) {\n            // We have nothing else to parse\n            return null;\n        }\n        else if(cur == \"\\\"\" || cur == \"'\") {\n            // We've hit a string\n            return token(TOKEN_STRING, this.parseString(cur), lineno, colno);\n        }\n        else if((tok = this._extract(whitespaceChars))) {\n            // We hit some whitespace\n            return token(TOKEN_WHITESPACE, tok, lineno, colno);\n        }\n        else if((tok = this._extractString(BLOCK_END)) ||\n                (tok = this._extractString('-' + BLOCK_END))) {\n            // Special check for the block end tag\n            //\n            // It is a requirement that start and end tags are composed of\n            // delimiter characters (%{}[] etc), and our code always\n            // breaks on delimiters so we can assume the token parsing\n            // doesn't consume these elsewhere\n            this.in_code = false;\n            return token(TOKEN_BLOCK_END, tok, lineno, colno);\n        }\n        else if((tok = this._extractString(VARIABLE_END))) {\n            // Special check for variable end tag (see above)\n            this.in_code = false;\n            return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n        }\n        else if(delimChars.indexOf(cur) != -1) {\n            // We've hit a delimiter (a special char like a bracket)\n            this.forward();\n            var complexOps = ['==', '!=', '<=', '>=', '//', '**'];\n            var curComplex = cur + this.current();\n            var type;\n\n            if(complexOps.indexOf(curComplex) !== -1) {\n                this.forward();\n                cur = curComplex;\n            }\n\n            switch(cur) {\n            case \"(\": type = TOKEN_LEFT_PAREN; break;\n            case \")\": type = TOKEN_RIGHT_PAREN; break;\n            case \"[\": type = TOKEN_LEFT_BRACKET; break;\n            case \"]\": type = TOKEN_RIGHT_BRACKET; break;\n            case \"{\": type = TOKEN_LEFT_CURLY; break;\n            case \"}\": type = TOKEN_RIGHT_CURLY; break;\n            case \",\": type = TOKEN_COMMA; break;\n            case \":\": type = TOKEN_COLON; break;\n            case \"|\": type = TOKEN_PIPE; break;\n            default: type = TOKEN_OPERATOR;\n            }\n\n            return token(type, cur, lineno, colno);\n        }\n        else {\n            // We are not at whitespace or a delimiter, so extract the\n            // text and parse it\n            tok = this._extractUntil(whitespaceChars + delimChars);\n\n            if(tok.match(/^[-+]?[0-9]+$/)) {\n                if(this.current() == '.') {\n                    this.forward();\n                    var dec = this._extract(intChars);\n                    return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n                }\n                else {\n                    return token(TOKEN_INT, tok, lineno, colno);\n                }\n            }\n            else if(tok.match(/^(true|false)$/)) {\n                return token(TOKEN_BOOLEAN, tok, lineno, colno);\n            }\n            else if(tok) {\n                return token(TOKEN_SYMBOL, tok, lineno, colno);\n            }\n            else {\n                throw new Error(\"Unexpected value while parsing: \" + tok);\n            }\n        }\n    }\n    else {\n        // Parse out the template text, breaking on tag\n        // delimiters because we need to look for block/variable start\n        // tags (don't use the full delimChars for optimization)\n        var beginChars = (BLOCK_START.charAt(0) +\n                          VARIABLE_START.charAt(0) +\n                          COMMENT_START.charAt(0) +\n                          COMMENT_END.charAt(0));\n        var tok;\n\n        if(this.is_finished()) {\n            return null;\n        }\n        else if((tok = this._extractString(BLOCK_START + '-')) ||\n                (tok = this._extractString(BLOCK_START))) {\n            this.in_code = true;\n            return token(TOKEN_BLOCK_START, tok, lineno, colno);\n        }\n        else if((tok = this._extractString(VARIABLE_START))) {\n            this.in_code = true;\n            return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n        }\n        else {\n            tok = '';\n            var data;\n            var in_comment = false;\n\n            if(this._matches(COMMENT_START)) {\n                in_comment = true;\n                tok = this._extractString(COMMENT_START);\n            }\n\n            // Continually consume text, breaking on the tag delimiter\n            // characters and checking to see if it's a start tag.\n            //\n            // We could hit the end of the template in the middle of\n            // our looping, so check for the null return value from\n            // _extractUntil\n            while((data = this._extractUntil(beginChars)) !== null) {\n                tok += data;\n\n                if((this._matches(BLOCK_START) ||\n                    this._matches(VARIABLE_START) ||\n                    this._matches(COMMENT_START)) &&\n                  !in_comment) {\n                    // If it is a start tag, stop looping\n                    break;\n                }\n                else if(this._matches(COMMENT_END)) {\n                    if(!in_comment) {\n                        throw new Error(\"unexpected end of comment\");\n                    }\n                    tok += this._extractString(COMMENT_END);\n                    break;\n                }\n                else {\n                    // It does not match any tag, so add the character and\n                    // carry on\n                    tok += this.current();\n                    this.forward();\n                }\n            }\n\n            if(data === null && in_comment) {\n                throw new Error(\"expected end of comment, got end of file\");\n            }\n\n            return token(in_comment ? TOKEN_COMMENT : TOKEN_DATA,\n                         tok,\n                         lineno,\n                         colno);\n        }\n    }\n\n    throw new Error(\"Could not parse text\");\n};\n\nTokenizer.prototype.parseString = function(delimiter) {\n    this.forward();\n\n    var lineno = this.lineno;\n    var colno = this.colno;\n    var str = \"\";\n\n    while(!this.is_finished() && this.current() != delimiter) {\n        var cur = this.current();\n\n        if(cur == \"\\\\\") {\n            this.forward();\n            switch(this.current()) {\n            case \"n\": str += \"\\n\"; break;\n            case \"t\": str += \"\\t\"; break;\n            case \"r\": str += \"\\r\"; break;\n            default:\n                str += this.current();\n            }\n            this.forward();\n        }\n        else {\n            str += cur;\n            this.forward();\n        }\n    }\n\n    this.forward();\n    return str;\n};\n\nTokenizer.prototype._matches = function(str) {\n    if(this.index + str.length > this.length) {\n        return null;\n    }\n\n    var m = this.str.slice(this.index, this.index + str.length);\n    return m == str;\n};\n\nTokenizer.prototype._extractString = function(str) {\n    if(this._matches(str)) {\n        this.index += str.length;\n        return str;\n    }\n    return null;\n};\n\nTokenizer.prototype._extractUntil = function(charString) {\n    // Extract all non-matching chars, with the default matching set\n    // to everything\n    return this._extractMatching(true, charString || \"\");\n};\n\nTokenizer.prototype._extract = function(charString) {\n    // Extract all matching chars (no default, so charString must be\n    // explicit)\n    return this._extractMatching(false, charString);\n};\n\nTokenizer.prototype._extractMatching = function (breakOnMatch, charString) {\n    // Pull out characters until a breaking char is hit.\n    // If breakOnMatch is false, a non-matching char stops it.\n    // If breakOnMatch is true, a matching char stops it.\n\n    if(this.is_finished()) {\n        return null;\n    }\n\n    var first = charString.indexOf(this.current());\n\n    // Only proceed if the first character doesn't meet our condition\n    if((breakOnMatch && first == -1) ||\n       (!breakOnMatch && first != -1)) {\n        var t = this.current();\n        this.forward();\n\n        // And pull out all the chars one at a time until we hit a\n        // breaking char\n        var idx = charString.indexOf(this.current());\n\n        while(((breakOnMatch && idx == -1) ||\n               (!breakOnMatch && idx != -1)) && !this.is_finished()) {\n            t += this.current();\n            this.forward();\n\n            idx = charString.indexOf(this.current());\n        }\n\n        return t;\n    }\n\n    return \"\";\n};\n\nTokenizer.prototype.is_finished = function() {\n    return this.index >= this.len;\n};\n\nTokenizer.prototype.forwardN = function(n) {\n    for(var i=0; i<n; i++) {\n        this.forward();\n    }\n};\n\nTokenizer.prototype.forward = function() {\n    this.index++;\n\n    if(this.previous() == \"\\n\") {\n        this.lineno++;\n        this.colno = 0;\n    }\n    else {\n        this.colno++;\n    }\n};\n\nTokenizer.prototype.back = function() {\n    this.index--;\n\n    if(this.current() == \"\\n\") {\n        this.lineno--;\n\n        var idx = this.src.lastIndexOf(\"\\n\", this.index-1);\n        if(idx == -1) {\n            this.colno = this.index;\n        }\n        else {\n            this.colno = this.index - idx;\n        }\n    }\n    else {\n        this.colno--;\n    }\n};\n\nTokenizer.prototype.current = function() {\n    if(!this.is_finished()) {\n        return this.str.charAt(this.index);\n    }\n    return \"\";\n};\n\nTokenizer.prototype.previous = function() {\n    return this.str.charAt(this.index-1);\n};\n\nmodules['lexer'] = {\n    lex: function(src) {\n        return new Tokenizer(src);\n    },\n\n    setTags: function(tags) {\n        BLOCK_START = tags.blockStart || BLOCK_START;\n        BLOCK_END = tags.blockEnd || BLOCK_END;\n        VARIABLE_START = tags.variableStart || VARIABLE_START;\n        VARIABLE_END = tags.variableEnd || VARIABLE_END;\n        COMMENT_START = tags.commentStart || COMMENT_START;\n        COMMENT_END = tags.commentEnd || COMMENT_END;\n    },\n\n    TOKEN_STRING: TOKEN_STRING,\n    TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n    TOKEN_DATA: TOKEN_DATA,\n    TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n    TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n    TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n    TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n    TOKEN_COMMENT: TOKEN_COMMENT,\n    TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n    TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n    TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n    TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n    TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n    TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n    TOKEN_OPERATOR: TOKEN_OPERATOR,\n    TOKEN_COMMA: TOKEN_COMMA,\n    TOKEN_COLON: TOKEN_COLON,\n    TOKEN_PIPE: TOKEN_PIPE,\n    TOKEN_INT: TOKEN_INT,\n    TOKEN_FLOAT: TOKEN_FLOAT,\n    TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n    TOKEN_SYMBOL: TOKEN_SYMBOL,\n    TOKEN_SPECIAL: TOKEN_SPECIAL\n};\n})();\n(function() {\nvar lexer = modules[\"lexer\"];\nvar nodes = modules[\"nodes\"];\nvar Object = modules[\"object\"];\nvar lib = modules[\"lib\"];\n\nvar Parser = Object.extend({\n    init: function (tokens) {\n        this.tokens = tokens;\n        this.peeked = null;\n        this.breakOnBlocks = null;\n        this.dropLeadingWhitespace = false;\n\n        this.extensions = [];\n    },\n\n    nextToken: function (withWhitespace) {\n        var tok;\n\n        if(this.peeked) {\n            if(!withWhitespace && this.peeked.type == lexer.TOKEN_WHITESPACE) {\n                this.peeked = null;\n            }\n            else {\n                tok = this.peeked;\n                this.peeked = null;\n                return tok;\n            }\n        }\n\n        tok = this.tokens.nextToken();\n\n        if(!withWhitespace) {\n            while(tok && tok.type == lexer.TOKEN_WHITESPACE) {\n                tok = this.tokens.nextToken();\n            }\n        }\n\n        return tok;\n    },\n\n    peekToken: function () {\n        this.peeked = this.peeked || this.nextToken();\n        return this.peeked;\n    },\n\n    pushToken: function(tok) {\n        if(this.peeked) {\n            throw new Error(\"pushToken: can only push one token on between reads\");\n        }\n        this.peeked = tok;\n    },\n\n    fail: function (msg, lineno, colno) {\n        if((lineno === undefined || colno === undefined) && this.peekToken()) {\n            var tok = this.peekToken();\n            lineno = tok.lineno;\n            colno = tok.colno;\n        }\n        if (lineno !== undefined) lineno += 1;\n        if (colno !== undefined) colno += 1;\n\n        throw new lib.TemplateError(msg, lineno, colno);\n    },\n\n    skip: function(type) {\n        var tok = this.nextToken();\n        if(!tok || tok.type != type) {\n            this.pushToken(tok);\n            return false;\n        }\n        return true;\n    },\n\n    expect: function(type) {\n        var tok = this.nextToken();\n        if(tok.type !== type) {\n            this.fail('expected ' + type + ', got ' + tok.type,\n                      tok.lineno,\n                      tok.colno);\n        }\n        return tok;\n    },\n\n    skipValue: function(type, val) {\n        var tok = this.nextToken();\n        if(!tok || tok.type != type || tok.value != val) {\n            this.pushToken(tok);\n            return false;\n        }\n        return true;\n    },\n\n    skipWhitespace: function () {\n        return this.skip(lexer.TOKEN_WHITESPACE);\n    },\n\n    skipSymbol: function(val) {\n        return this.skipValue(lexer.TOKEN_SYMBOL, val);\n    },\n\n    advanceAfterBlockEnd: function(name) {\n        if(!name) {\n            var tok = this.peekToken();\n\n            if(!tok) {\n                this.fail('unexpected end of file');\n            }\n\n            if(tok.type != lexer.TOKEN_SYMBOL) {\n                this.fail(\"advanceAfterBlockEnd: expected symbol token or \" +\n                          \"explicit name to be passed\");\n            }\n\n            name = this.nextToken().value;\n        }\n\n        var tok = this.nextToken();\n\n        if(tok && tok.type == lexer.TOKEN_BLOCK_END) {\n            if(tok.value.charAt(0) === '-') {\n                this.dropLeadingWhitespace = true;\n            }\n        }\n        else {\n            this.fail(\"expected block end in \" + name + \" statement\");\n        }\n    },\n\n    advanceAfterVariableEnd: function() {\n        if(!this.skip(lexer.TOKEN_VARIABLE_END)) {\n            this.fail(\"expected variable end\");\n        }\n    },\n\n    parseFor: function() {\n        var forTok = this.peekToken();\n        var node;\n        var endBlock;\n\n        if(this.skipSymbol('for')) {\n            node = new nodes.For(forTok.lineno, forTok.colno);\n            endBlock = 'endfor';\n        }\n        else if(this.skipSymbol('asyncEach')) {\n            node = new nodes.AsyncEach(forTok.lineno, forTok.colno);\n            endBlock = 'endeach';\n        }\n        else if(this.skipSymbol('asyncAll')) {\n            node = new nodes.AsyncAll(forTok.lineno, forTok.colno);\n            endBlock = 'endall';\n        }\n        else {\n            this.fail(\"parseFor: expected for{Async}\", forTok.lineno, forTok.colno);\n        }\n\n        node.name = this.parsePrimary();\n\n        if(!(node.name instanceof nodes.Symbol)) {\n            this.fail('parseFor: variable name expected for loop');\n        }\n\n        var type = this.peekToken().type;\n        if(type == lexer.TOKEN_COMMA) {\n            // key/value iteration\n            var key = node.name;\n            node.name = new nodes.Array(key.lineno, key.colno);\n            node.name.addChild(key);\n\n            while(this.skip(lexer.TOKEN_COMMA)) {\n                var prim = this.parsePrimary();\n                node.name.addChild(prim);\n            }\n        }\n\n        if(!this.skipSymbol('in')) {\n            this.fail('parseFor: expected \"in\" keyword for loop',\n                      forTok.lineno,\n                      forTok.colno);\n        }\n\n        node.arr = this.parseExpression();\n        this.advanceAfterBlockEnd(forTok.value);\n\n        node.body = this.parseUntilBlocks(endBlock);\n        this.advanceAfterBlockEnd();\n\n        return node;\n    },\n\n    parseMacro: function() {\n        var macroTok = this.peekToken();\n        if(!this.skipSymbol('macro')) {\n            this.fail(\"expected macro\");\n        }\n\n        var name = this.parsePrimary(true);\n        var args = this.parseSignature();\n        var node = new nodes.Macro(macroTok.lineno,\n                                   macroTok.colno,\n                                   name,\n                                   args);\n\n        this.advanceAfterBlockEnd(macroTok.value);\n        node.body = this.parseUntilBlocks('endmacro');\n        this.advanceAfterBlockEnd();\n\n        return node;\n    },\n\n    parseImport: function() {\n        var importTok = this.peekToken();\n        if(!this.skipSymbol('import')) {\n            this.fail(\"parseImport: expected import\",\n                      importTok.lineno,\n                      importTok.colno);\n        }\n\n        var template = this.parseExpression();\n\n        if(!this.skipSymbol('as')) {\n            this.fail('parseImport: expected \"as\" keyword',\n                            importTok.lineno,\n                            importTok.colno);\n        }\n\n        var target = this.parsePrimary();\n        var node = new nodes.Import(importTok.lineno,\n                                    importTok.colno,\n                                    template,\n                                    target);\n        this.advanceAfterBlockEnd(importTok.value);\n\n        return node;\n    },\n\n    parseFrom: function() {\n        var fromTok = this.peekToken();\n        if(!this.skipSymbol('from')) {\n            this.fail(\"parseFrom: expected from\");\n        }\n\n        var template = this.parsePrimary();\n        var node = new nodes.FromImport(fromTok.lineno,\n                                        fromTok.colno,\n                                        template,\n                                        new nodes.NodeList());\n\n        if(!this.skipSymbol('import')) {\n            this.fail(\"parseFrom: expected import\",\n                            fromTok.lineno,\n                            fromTok.colno);\n        }\n\n        var names = node.names;\n\n        while(1) {\n            var nextTok = this.peekToken();\n            if(nextTok.type == lexer.TOKEN_BLOCK_END) {\n                if(!names.children.length) {\n                    this.fail('parseFrom: Expected at least one import name',\n                              fromTok.lineno,\n                              fromTok.colno);\n                }\n\n                // Since we are manually advancing past the block end,\n                // need to keep track of whitespace control (normally\n                // this is done in `advanceAfterBlockEnd`\n                if(nextTok.value.charAt(0) == '-') {\n                    this.dropLeadingWhitespace = true;\n                }\n\n                this.nextToken();\n                break;\n            }\n\n            if(names.children.length > 0 && !this.skip(lexer.TOKEN_COMMA)) {\n                this.fail('parseFrom: expected comma',\n                                fromTok.lineno,\n                                fromTok.colno);\n            }\n\n            var name = this.parsePrimary();\n            if(name.value.charAt(0) == '_') {\n                this.fail('parseFrom: names starting with an underscore ' +\n                          'cannot be imported',\n                          name.lineno,\n                          name.colno);\n            }\n\n            if(this.skipSymbol('as')) {\n                var alias = this.parsePrimary();\n                names.addChild(new nodes.Pair(name.lineno,\n                                              name.colno,\n                                              name,\n                                              alias));\n            }\n            else {\n                names.addChild(name);\n            }\n        }\n\n        return node;\n    },\n\n    parseBlock: function() {\n        var tag = this.peekToken();\n        if(!this.skipSymbol('block')) {\n            this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n        }\n\n        var node = new nodes.Block(tag.lineno, tag.colno);\n\n        node.name = this.parsePrimary();\n        if(!(node.name instanceof nodes.Symbol)) {\n            this.fail('parseBlock: variable name expected',\n                      tag.lineno,\n                      tag.colno);\n        }\n\n        this.advanceAfterBlockEnd(tag.value);\n\n        node.body = this.parseUntilBlocks('endblock');\n\n        if(!this.peekToken()) {\n            this.fail('parseBlock: expected endblock, got end of file');\n        }\n\n        this.advanceAfterBlockEnd();\n\n        return node;\n    },\n\n    parseTemplateRef: function(tagName, nodeType) {\n        var tag = this.peekToken();\n        if(!this.skipSymbol(tagName)) {\n            this.fail('parseTemplateRef: expected '+ tagName);\n        }\n\n        var node = new nodeType(tag.lineno, tag.colno);\n        node.template = this.parseExpression();\n\n        this.advanceAfterBlockEnd(tag.value);\n        return node;\n    },\n\n    parseExtends: function() {\n        return this.parseTemplateRef('extends', nodes.Extends);\n    },\n\n    parseInclude: function() {\n        return this.parseTemplateRef('include', nodes.Include);\n    },\n\n    parseIf: function() {\n        var tag = this.peekToken();\n        var node;\n\n        if(this.skipSymbol('if') || this.skipSymbol('elif')) {\n            node = new nodes.If(tag.lineno, tag.colno);\n        }\n        else if(this.skipSymbol('ifAsync')) {\n            node = new nodes.IfAsync(tag.lineno, tag.colno);\n        }\n        else {\n            this.fail(\"parseIf: expected if or elif\",\n                      tag.lineno,\n                      tag.colno);\n        }\n\n        node.cond = this.parseExpression();\n        this.advanceAfterBlockEnd(tag.value);\n\n        node.body = this.parseUntilBlocks('elif', 'else', 'endif');\n        var tok = this.peekToken();\n\n        switch(tok && tok.value) {\n        case \"elif\":\n            node.else_ = this.parseIf();\n            break;\n        case \"else\":\n            this.advanceAfterBlockEnd();\n            node.else_ = this.parseUntilBlocks(\"endif\");\n            this.advanceAfterBlockEnd();\n            break;\n        case \"endif\":\n            node.else_ = null;\n            this.advanceAfterBlockEnd();\n            break;\n        default:\n            this.fail('parseIf: expected endif, else, or endif, ' +\n                      'got end of file');\n        }\n\n        return node;\n    },\n\n    parseSet: function() {\n        var tag = this.peekToken();\n        if(!this.skipSymbol('set')) {\n            this.fail('parseSet: expected set', tag.lineno, tag.colno);\n        }\n\n        var node = new nodes.Set(tag.lineno, tag.colno, []);\n\n        var target;\n        while((target = this.parsePrimary())) {\n            node.targets.push(target);\n\n            if(!this.skip(lexer.TOKEN_COMMA)) {\n                break;\n            }\n        }\n\n        if(!this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n            this.fail('parseSet: expected = in set tag',\n                      tag.lineno,\n                      tag.colno);\n        }\n\n        node.value = this.parseExpression();\n        this.advanceAfterBlockEnd(tag.value);\n\n        return node;\n    },\n\n    parseStatement: function () {\n        var tok = this.peekToken();\n        var node;\n\n        if(tok.type != lexer.TOKEN_SYMBOL) {\n            this.fail('tag name expected', tok.lineno, tok.colno);\n        }\n\n        if(this.breakOnBlocks &&\n           this.breakOnBlocks.indexOf(tok.value) !== -1) {\n            return null;\n        }\n\n        switch(tok.value) {\n        case 'raw': return this.parseRaw();\n        case 'if':\n        case 'ifAsync':\n            return this.parseIf();\n        case 'for':\n        case 'asyncEach':\n        case 'asyncAll':\n            return this.parseFor();\n        case 'block': return this.parseBlock();\n        case 'extends': return this.parseExtends();\n        case 'include': return this.parseInclude();\n        case 'set': return this.parseSet();\n        case 'macro': return this.parseMacro();\n        case 'import': return this.parseImport();\n        case 'from': return this.parseFrom();\n        default:\n            if (this.extensions.length) {\n                for (var i = 0; i < this.extensions.length; i++) {\n                    var ext = this.extensions[i];\n                    if ((ext.tags || []).indexOf(tok.value) !== -1) {\n                        return ext.parse(this, nodes, lexer);\n                    }\n                }\n            }\n            this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n        }\n\n        return node;\n    },\n\n    parseRaw: function() {\n        this.advanceAfterBlockEnd();\n        var str = '';\n        var begun = this.peekToken();\n\n        while(1) {\n            // Passing true gives us all the whitespace tokens as\n            // well, which are usually ignored.\n            var tok = this.nextToken(true);\n\n            if(!tok) {\n                this.fail(\"expected endraw, got end of file\");\n            }\n\n            if(tok.type == lexer.TOKEN_BLOCK_START) {\n                // We need to look for the `endraw` block statement,\n                // which involves a lookahead so carefully keep track\n                // of whitespace\n                var ws = null;\n                var name = this.nextToken(true);\n\n                if(name.type == lexer.TOKEN_WHITESPACE) {\n                    ws = name;\n                    name = this.nextToken();\n                }\n\n                if(name.type == lexer.TOKEN_SYMBOL &&\n                   name.value == 'endraw') {\n                    this.advanceAfterBlockEnd(name.value);\n                    break;\n                }\n                else {\n                    str += tok.value;\n                    if(ws) {\n                        str += ws.value;\n                    }\n                    str += name.value;\n                }\n            }\n            else if(tok.type === lexer.TOKEN_STRING) {\n                str += '\"' + tok.value + '\"';\n            }\n            else {\n                str += tok.value;\n            }\n        }\n\n\n        var output = new nodes.Output(\n            begun.lineno,\n            begun.colno,\n            [new nodes.TemplateData(begun.lineno, begun.colno, str)]\n        );\n\n        return output;\n    },\n\n    parsePostfix: function(node) {\n        var tok = this.peekToken();\n\n        while(tok) {\n            if(tok.type == lexer.TOKEN_LEFT_PAREN) {\n                // Function call\n                node = new nodes.FunCall(tok.lineno,\n                                         tok.colno,\n                                         node,\n                                         this.parseSignature());\n            }\n            else if(tok.type == lexer.TOKEN_LEFT_BRACKET) {\n                // Reference\n                var lookup = this.parseAggregate();\n                if(lookup.children.length > 1) {\n                    this.fail('invalid index');\n                }\n\n                node =  new nodes.LookupVal(tok.lineno,\n                                            tok.colno,\n                                            node,\n                                            lookup.children[0]);\n            }\n            else if(tok.type == lexer.TOKEN_OPERATOR && tok.value == '.') {\n                // Reference\n                this.nextToken();\n                var val = this.nextToken();\n\n                if(val.type != lexer.TOKEN_SYMBOL) {\n                    this.fail('expected name as lookup value, got ' + val.value,\n                              val.lineno,\n                              val.colno);\n                }\n\n                // Make a literal string because it's not a variable\n                // reference\n                var lookup = new nodes.Literal(val.lineno,\n                                               val.colno,\n                                               val.value);\n\n                node =  new nodes.LookupVal(tok.lineno,\n                                            tok.colno,\n                                            node,\n                                            lookup);\n            }\n            else {\n                break;\n            }\n\n            tok = this.peekToken();\n        }\n\n        return node;\n    },\n\n    parseExpression: function() {\n        var node = this.parseInlineIf();\n        return node;\n    },\n\n    parseInlineIf: function() {\n        var node = this.parseOr();\n        if(this.skipSymbol('if')) {\n            var cond_node = this.parseOr();\n            var body_node = node;\n            node = new nodes.InlineIf(node.lineno, node.colno);\n            node.body = body_node;\n            node.cond = cond_node;\n            if(this.skipSymbol('else')) {\n                node.else_ = this.parseOr();\n            } else {\n                node.else_ = null;\n            }\n        }\n\n        return node;\n    },\n\n    parseOr: function() {\n        var node = this.parseAnd();\n        while(this.skipSymbol('or')) {\n            var node2 = this.parseAnd();\n            node = new nodes.Or(node.lineno,\n                                node.colno,\n                                node,\n                                node2);\n        }\n        return node;\n    },\n\n    parseAnd: function() {\n        var node = this.parseNot();\n        while(this.skipSymbol('and')) {\n            var node2 = this.parseNot();\n            node = new nodes.And(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseNot: function() {\n        var tok = this.peekToken();\n        if(this.skipSymbol('not')) {\n            return new nodes.Not(tok.lineno,\n                                 tok.colno,\n                                 this.parseNot());\n        }\n        return this.parseCompare();\n    },\n\n    parseCompare: function() {\n        var compareOps = ['==', '!=', '<', '>', '<=', '>='];\n        var expr = this.parseAdd();\n        var ops = [];\n\n        while(1) {\n            var tok = this.nextToken();\n\n            if(!tok) {\n                break;\n            }\n            else if(compareOps.indexOf(tok.value) !== -1) {\n                ops.push(new nodes.CompareOperand(tok.lineno,\n                                                  tok.colno,\n                                                  this.parseAdd(),\n                                                  tok.value));\n            }\n            else if(tok.type == lexer.TOKEN_SYMBOL &&\n                    tok.value == 'in') {\n                ops.push(new nodes.CompareOperand(tok.lineno,\n                                                  tok.colno,\n                                                  this.parseAdd(),\n                                                  'in'));\n            }\n            else if(tok.type == lexer.TOKEN_SYMBOL &&\n                    tok.value == 'not' &&\n                    this.skipSymbol('in')) {\n                ops.push(new nodes.CompareOperand(tok.lineno,\n                                                  tok.colno,\n                                                  this.parseAdd(),\n                                                  'notin'));\n            }\n            else {\n                this.pushToken(tok);\n                break;\n            }\n        }\n\n        if(ops.length) {\n            return new nodes.Compare(ops[0].lineno,\n                                     ops[0].colno,\n                                     expr,\n                                     ops);\n        }\n        else {\n            return expr;\n        }\n    },\n\n    parseAdd: function() {\n        var node = this.parseSub();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n            var node2 = this.parseSub();\n            node = new nodes.Add(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseSub: function() {\n        var node = this.parseMul();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n            var node2 = this.parseMul();\n            node = new nodes.Sub(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseMul: function() {\n        var node = this.parseDiv();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '*')) {\n            var node2 = this.parseDiv();\n            node = new nodes.Mul(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseDiv: function() {\n        var node = this.parseFloorDiv();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '/')) {\n            var node2 = this.parseFloorDiv();\n            node = new nodes.Div(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseFloorDiv: function() {\n        var node = this.parseMod();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '//')) {\n            var node2 = this.parseMod();\n            node = new nodes.FloorDiv(node.lineno,\n                                      node.colno,\n                                      node,\n                                      node2);\n        }\n        return node;\n    },\n\n    parseMod: function() {\n        var node = this.parsePow();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '%')) {\n            var node2 = this.parsePow();\n            node = new nodes.Mod(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parsePow: function() {\n        var node = this.parseUnary();\n        while(this.skipValue(lexer.TOKEN_OPERATOR, '**')) {\n            var node2 = this.parseUnary();\n            node = new nodes.Pow(node.lineno,\n                                 node.colno,\n                                 node,\n                                 node2);\n        }\n        return node;\n    },\n\n    parseUnary: function(noFilters) {\n        var tok = this.peekToken();\n        var node;\n\n        if(this.skipValue(lexer.TOKEN_OPERATOR, '-')) {\n            node = new nodes.Neg(tok.lineno,\n                                 tok.colno,\n                                 this.parseUnary(true));\n        }\n        else if(this.skipValue(lexer.TOKEN_OPERATOR, '+')) {\n            node = new nodes.Pos(tok.lineno,\n                                 tok.colno,\n                                 this.parseUnary(true));\n        }\n        else {\n            node = this.parsePrimary();\n        }\n\n        if(!noFilters) {\n            node = this.parseFilter(node);\n        }\n\n        return node;\n    },\n\n    parsePrimary: function (noPostfix) {\n        var tok = this.nextToken();\n        var val = null;\n        var node = null;\n\n        if(!tok) {\n            this.fail('expected expression, got end of file');\n        }\n        else if(tok.type == lexer.TOKEN_STRING) {\n            val = tok.value;\n        }\n        else if(tok.type == lexer.TOKEN_INT) {\n            val = parseInt(tok.value, 10);\n        }\n        else if(tok.type == lexer.TOKEN_FLOAT) {\n            val = parseFloat(tok.value);\n        }\n        else if(tok.type == lexer.TOKEN_BOOLEAN) {\n            if(tok.value == \"true\") {\n                val = true;\n            }\n            else if(tok.value == \"false\") {\n                val = false;\n            }\n            else {\n                this.fail(\"invalid boolean: \" + tok.val,\n                          tok.lineno,\n                          tok.colno);\n            }\n        }\n\n        if(val !== null) {\n            node = new nodes.Literal(tok.lineno, tok.colno, val);\n        }\n        else if(tok.type == lexer.TOKEN_SYMBOL) {\n            node = new nodes.Symbol(tok.lineno, tok.colno, tok.value);\n\n            if(!noPostfix) {\n                node = this.parsePostfix(node);\n            }\n        }\n        else {\n            // See if it's an aggregate type, we need to push the\n            // current delimiter token back on\n            this.pushToken(tok);\n            node = this.parseAggregate();\n        }\n\n        if(node) {\n            return node;\n        }\n        else {\n            this.fail('unexpected token: ' + tok.value,\n                      tok.lineno,\n                      tok.colno);\n        }\n    },\n\n    parseFilter: function(node) {\n        while(this.skip(lexer.TOKEN_PIPE)) {\n            var tok = this.expect(lexer.TOKEN_SYMBOL);\n            var name = tok.value;\n\n            while(this.skipValue(lexer.TOKEN_OPERATOR, '.')) {\n                name += '.' + this.expect(lexer.TOKEN_SYMBOL).value;\n            }\n\n            node = new nodes.Filter(\n                tok.lineno,\n                tok.colno,\n                new nodes.Symbol(tok.lineno,\n                                 tok.colno,\n                                 name),\n                new nodes.NodeList(\n                    tok.lineno,\n                    tok.colno,\n                    [node])\n            );\n\n            if(this.peekToken().type == lexer.TOKEN_LEFT_PAREN) {\n                // Get a FunCall node and add the parameters to the\n                // filter\n                var call = this.parsePostfix(node);\n                node.args.children = node.args.children.concat(call.args.children);\n            }\n        }\n\n        return node;\n    },\n\n    parseAggregate: function() {\n        var tok = this.nextToken();\n        var node;\n\n        switch(tok.type) {\n        case lexer.TOKEN_LEFT_PAREN:\n            node = new nodes.Group(tok.lineno, tok.colno); break;\n        case lexer.TOKEN_LEFT_BRACKET:\n            node = new nodes.Array(tok.lineno, tok.colno); break;\n        case lexer.TOKEN_LEFT_CURLY:\n            node = new nodes.Dict(tok.lineno, tok.colno); break;\n        default:\n            return null;\n        }\n\n        while(1) {\n            var type = this.peekToken().type;\n            if(type == lexer.TOKEN_RIGHT_PAREN ||\n               type == lexer.TOKEN_RIGHT_BRACKET ||\n               type == lexer.TOKEN_RIGHT_CURLY) {\n                this.nextToken();\n                break;\n            }\n\n            if(node.children.length > 0) {\n                if(!this.skip(lexer.TOKEN_COMMA)) {\n                    this.fail(\"parseAggregate: expected comma after expression\",\n                              tok.lineno,\n                              tok.colno);\n                }\n            }\n\n            if(node instanceof nodes.Dict) {\n                // TODO: check for errors\n                var key = this.parsePrimary();\n\n                // We expect a key/value pair for dicts, separated by a\n                // colon\n                if(!this.skip(lexer.TOKEN_COLON)) {\n                    this.fail(\"parseAggregate: expected colon after dict key\",\n                        tok.lineno,\n                        tok.colno);\n                }\n\n                // TODO: check for errors\n                var value = this.parseExpression();\n                node.addChild(new nodes.Pair(key.lineno,\n                                             key.colno,\n                                             key,\n                                             value));\n            }\n            else {\n                // TODO: check for errors\n                var expr = this.parseExpression();\n                node.addChild(expr);\n            }\n        }\n\n        return node;\n    },\n\n    parseSignature: function(tolerant, noParens) {\n        var tok = this.peekToken();\n        if(!noParens && tok.type != lexer.TOKEN_LEFT_PAREN) {\n            if(tolerant) {\n                return null;\n            }\n            else {\n                this.fail('expected arguments', tok.lineno, tok.colno);\n            }\n        }\n\n        if(tok.type == lexer.TOKEN_LEFT_PAREN) {\n            tok = this.nextToken();\n        }\n\n        var args = new nodes.NodeList(tok.lineno, tok.colno);\n        var kwargs = new nodes.KeywordArgs(tok.lineno, tok.colno);\n        var kwnames = [];\n        var checkComma = false;\n\n        while(1) {\n            tok = this.peekToken();\n            if(!noParens && tok.type == lexer.TOKEN_RIGHT_PAREN) {\n                this.nextToken();\n                break;\n            }\n            else if(noParens && tok.type == lexer.TOKEN_BLOCK_END) {\n                break;\n            }\n\n            if(checkComma && !this.skip(lexer.TOKEN_COMMA)) {\n                this.fail(\"parseSignature: expected comma after expression\",\n                          tok.lineno,\n                          tok.colno);\n            }\n            else {\n                var arg = this.parseExpression();\n\n                if(this.skipValue(lexer.TOKEN_OPERATOR, '=')) {\n                    kwargs.addChild(\n                        new nodes.Pair(arg.lineno,\n                                       arg.colno,\n                                       arg,\n                                       this.parseExpression())\n                    );\n                }\n                else {\n                    args.addChild(arg);\n                }\n            }\n\n            checkComma = true;\n        }\n\n        if(kwargs.children.length) {\n            args.addChild(kwargs);\n        }\n\n        return args;\n    },\n\n    parseUntilBlocks: function(/* blockNames */) {\n        var prev = this.breakOnBlocks;\n        this.breakOnBlocks = lib.toArray(arguments);\n\n        var ret = this.parse();\n\n        this.breakOnBlocks = prev;\n        return ret;\n    },\n\n    parseNodes: function () {\n        var tok;\n        var buf = [];\n\n        while((tok = this.nextToken())) {\n            if(tok.type == lexer.TOKEN_DATA) {\n                var data = tok.value;\n                var nextToken = this.peekToken();\n                var nextVal = nextToken && nextToken.value;\n\n                // If the last token has \"-\" we need to trim the\n                // leading whitespace of the data. This is marked with\n                // the `dropLeadingWhitespace` variable.\n                if(this.dropLeadingWhitespace) {\n                    // TODO: this could be optimized (don't use regex)\n                    data = data.replace(/^\\s*/, '');\n                    this.dropLeadingWhitespace = false;\n                }\n\n                // Same for the succeding block start token\n                if(nextToken &&\n                   nextToken.type == lexer.TOKEN_BLOCK_START &&\n                   nextVal.charAt(nextVal.length - 1) == '-') {\n                    // TODO: this could be optimized (don't use regex)\n                    data = data.replace(/\\s*$/, '');\n                }\n\n                buf.push(new nodes.Output(tok.lineno,\n                                          tok.colno,\n                                          [new nodes.TemplateData(tok.lineno,\n                                                                  tok.colno,\n                                                                  data)]));\n            }\n            else if(tok.type == lexer.TOKEN_BLOCK_START) {\n                var n = this.parseStatement();\n                if(!n) {\n                    break;\n                }\n                buf.push(n);\n            }\n            else if(tok.type == lexer.TOKEN_VARIABLE_START) {\n                var e = this.parseExpression();\n                this.advanceAfterVariableEnd();\n                buf.push(new nodes.Output(tok.lineno, tok.colno, [e]));\n            }\n            else if(tok.type != lexer.TOKEN_COMMENT) {\n                // Ignore comments, otherwise this should be an error\n                this.fail(\"Unexpected token at top-level: \" +\n                                tok.type, tok.lineno, tok.colno);\n            }\n        }\n\n        return buf;\n    },\n\n    parse: function() {\n        return new nodes.NodeList(0, 0, this.parseNodes());\n    },\n\n    parseAsRoot: function() {\n        return new nodes.Root(0, 0, this.parseNodes());\n    }\n});\n\n// var util = modules[\"util\"];\n\n// var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n// var t;\n// while((t = l.nextToken())) {\n//     console.log(util.inspect(t));\n// }\n\n// var p = new Parser(lexer.lex('hello {% foo %} {{ \"hi\" | bar }} {% endfoo %} end'));\n// p.extensions = [new FooExtension()];\n// var n = p.parseAsRoot();\n// nodes.printNodes(n);\n\nmodules['parser'] = {\n    parse: function(src, extensions) {\n        var p = new Parser(lexer.lex(src));\n        if (extensions !== undefined) {\n            p.extensions = extensions;\n        }\n        return p.parseAsRoot();\n    }\n};\n})();\n(function() {\nvar nodes = modules[\"nodes\"];\n\nvar sym = 0;\nfunction gensym() {\n    return 'hole_' + sym++;\n}\n\n// copy-on-write version of map\nfunction mapCOW(arr, func) {\n    var res = null;\n\n    for(var i=0; i<arr.length; i++) {\n        var item = func(arr[i]);\n\n        if(item !== arr[i]) {\n            if(!res) {\n                res = arr.slice();\n            }\n\n            res[i] = item;\n        }\n    }\n\n    return res || arr;\n}\n\nfunction walk(ast, func, depthFirst) {\n    if(!(ast instanceof nodes.Node)) {\n        return ast;\n    }\n\n    if(!depthFirst) {\n        var astT = func(ast);\n\n        if(astT && astT !== ast) {\n            return astT;\n        }\n    }\n\n    if(ast instanceof nodes.NodeList) {\n        var children = mapCOW(ast.children, function(node) {\n            return walk(node, func, depthFirst);\n        });\n\n        if(children !== ast.children) {\n            ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n        }\n    }\n    else if(ast instanceof nodes.CallExtension) {\n        var args = walk(ast.args, func, depthFirst);\n\n        var contentArgs = mapCOW(ast.contentArgs, function(node) {\n            return walk(node, func, depthFirst);\n        });\n\n        if(args !== ast.args || contentArgs !== ast.contentArgs) {\n            ast = new nodes[ast.typename](ast.extName,\n                                          ast.prop,\n                                          args,\n                                          contentArgs);\n        }\n    }\n    else {\n        var props = ast.fields.map(function(field) {\n            return ast[field];\n        });\n\n        var propsT = mapCOW(props, function(prop) {\n            return walk(prop, func, depthFirst);\n        });\n\n        if(propsT !== props) {\n            ast = new nodes[ast.typename](ast.lineno, ast.colno);\n\n            propsT.forEach(function(prop, i) {\n                ast[ast.fields[i]] = prop;\n            });\n        }\n    }\n\n    return depthFirst ? (func(ast) || ast) : ast;\n}\n\nfunction depthWalk(ast, func) {\n    return walk(ast, func, true);\n}\n\nfunction _liftFilters(node, asyncFilters, prop) {\n    var children = [];\n\n    var walked = depthWalk(prop ? node[prop] : node, function(node) {\n        if(node instanceof nodes.Block) {\n            return node;\n        }\n        else if((node instanceof nodes.Filter &&\n                 asyncFilters.indexOf(node.name.value) !== -1) ||\n                node instanceof nodes.CallExtensionAsync) {\n            var symbol = new nodes.Symbol(node.lineno,\n                                          node.colno,\n                                          gensym());\n\n            children.push(new nodes.FilterAsync(node.lineno,\n                                                node.colno,\n                                                node.name,\n                                                node.args,\n                                                symbol));\n            return symbol;\n        }\n    });\n\n    if(prop) {\n        node[prop] = walked;\n    }\n    else {\n        node = walked;\n    }\n\n    if(children.length) {\n        children.push(node);\n\n        return new nodes.NodeList(\n            node.lineno,\n            node.colno,\n            children\n        );\n    }\n    else {\n        return node;\n    }\n}\n\nfunction liftFilters(ast, asyncFilters) {\n    return depthWalk(ast, function(node) {\n        if(node instanceof nodes.Output) {\n            return _liftFilters(node, asyncFilters);\n        }\n        else if(node instanceof nodes.For) {\n            return _liftFilters(node, asyncFilters, 'arr');\n        }\n        else if(node instanceof nodes.If) {\n            return _liftFilters(node, asyncFilters, 'cond');\n        }\n        else if(node instanceof nodes.CallExtension) {\n            return _liftFilters(node, asyncFilters, 'args');\n        }\n    });\n}\n\nfunction liftSuper(ast) {\n    return walk(ast, function(blockNode) {\n        if(!(blockNode instanceof nodes.Block)) {\n            return;\n        }\n\n        var hasSuper = false;\n        var symbol = gensym();\n\n        blockNode.body = walk(blockNode.body, function(node) {\n            if(node instanceof nodes.FunCall &&\n               node.name.value == 'super') {\n                hasSuper = true;\n                return new nodes.Symbol(node.lineno, node.colno, symbol);\n            }\n        });\n\n        if(hasSuper) {\n            blockNode.body.children.unshift(new nodes.Super(\n                0, 0, blockNode.name, new nodes.Symbol(0, 0, symbol)\n            ));\n        }\n    });\n}\n\nfunction convertStatements(ast) {\n    return depthWalk(ast, function(node) {\n        if(!(node instanceof nodes.If) &&\n           !(node instanceof nodes.For)) {\n            return;\n        }\n\n        var async = false;\n        walk(node, function(node) {\n            if(node instanceof nodes.FilterAsync ||\n               node instanceof nodes.IfAsync ||\n               node instanceof nodes.AsyncEach ||\n               node instanceof nodes.AsyncAll ||\n               node instanceof nodes.CallExtensionAsync) {\n                async = true;\n                // Stop iterating by returning the node\n                return node;\n            }\n        });\n\n        if(async) {\n\t        if(node instanceof nodes.If) {\n                return new nodes.IfAsync(\n                    node.lineno,\n                    node.colno,\n                    node.cond,\n                    node.body,\n                    node.else_\n                );\n            }\n            else if(node instanceof nodes.For) {\n                return new nodes.AsyncEach(\n                    node.lineno,\n                    node.colno,\n                    node.arr,\n                    node.name,\n                    node.body\n                );\n            }\n        }\n    });\n}\n\nfunction cps(ast, asyncFilters) {\n    return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n}\n\nfunction transform(ast, asyncFilters, name) {\n    return cps(ast, asyncFilters || []);\n}\n\n// var parser = modules[\"parser\"];\n// var src = 'hello {% foo %}{% endfoo %} end';\n// var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n// nodes.printNodes(ast);\n\nmodules['transformer'] = {\n    transform: transform\n};\n})();\n(function() {\nvar lib = modules[\"lib\"];\nvar parser = modules[\"parser\"];\nvar transformer = modules[\"transformer\"];\nvar nodes = modules[\"nodes\"];\nvar Object = modules[\"object\"];\nvar Frame = modules[\"runtime\"].Frame;\n\n// These are all the same for now, but shouldn't be passed straight\n// through\nvar compareOps = {\n    '==': '==',\n    '!=': '!=',\n    '<': '<',\n    '>': '>',\n    '<=': '<=',\n    '>=': '>='\n};\n\n// A common pattern is to emit binary operators\nfunction binOpEmitter(str) {\n    return function(node, frame) {\n        this.compile(node.left, frame);\n        this.emit(str);\n        this.compile(node.right, frame);\n    };\n}\n\n// Generate an array of strings\nfunction quotedArray(arr) {\n    return '[' +\n        lib.map(arr, function(x) { return '\"' + x + '\"'; }) +\n        ']';\n}\n\nvar Compiler = Object.extend({\n    init: function() {\n        this.codebuf = [];\n        this.lastId = 0;\n        this.buffer = null;\n        this.bufferStack = [];\n        this.isChild = false;\n        this.scopeClosers = '';\n    },\n\n    fail: function (msg, lineno, colno) {\n        if (lineno !== undefined) lineno += 1;\n        if (colno !== undefined) colno += 1;\n\n        throw new lib.TemplateError(msg, lineno, colno);\n    },\n\n    pushBufferId: function(id) {\n        this.bufferStack.push(this.buffer);\n        this.buffer = id;\n        this.emit('var ' + this.buffer + ' = \"\";');\n    },\n\n    popBufferId: function() {\n        this.buffer = this.bufferStack.pop();\n    },\n\n    emit: function(code) {\n        this.codebuf.push(code);\n    },\n\n    emitLine: function(code) {\n        this.emit(code + \"\\n\");\n    },\n\n    emitLines: function() {\n        lib.each(lib.toArray(arguments), function(line) {\n            this.emitLine(line);\n        }, this);\n    },\n\n    emitFuncBegin: function(name) {\n        this.buffer = 'output';\n        this.scopeClosers = '';\n        this.emitLine('function ' + name + '(env, context, frame, runtime, cb) {');\n        this.emitLine('var lineno = null;');\n        this.emitLine('var colno = null;');\n        this.emitLine('var ' + this.buffer + ' = \"\";');\n        this.emitLine('try {');\n    },\n\n    emitFuncEnd: function(noReturn) {\n        if(!noReturn) {\n            this.emitLine('cb(null, ' + this.buffer +');');\n        }\n\n        this.closeScopeLevels();\n        this.emitLine('} catch (e) {');\n        this.emitLine('  cb(runtime.handleError(e, lineno, colno));');\n        this.emitLine('}');\n        this.emitLine('}');\n        this.buffer = null;\n    },\n\n    addScopeLevel: function() {\n        this.scopeClosers += '})';\n    },\n\n    closeScopeLevels: function() {\n        this.emitLine(this.scopeClosers + ';');\n        this.scopeClosers = '';\n    },\n\n    withScopedSyntax: function(func) {\n        var scopeClosers = this.scopeClosers;\n        this.scopeClosers = '';\n\n        func.call(this);\n\n        this.closeScopeLevels();\n        this.scopeClosers = scopeClosers;\n    },\n\n    makeCallback: function(res) {\n        var err = this.tmpid();\n\n        return 'function(' + err + (res ? ',' + res : '') + ') {\\n' +\n            'if(' + err + ') { cb(' + err + '); return; }';\n    },\n\n    tmpid: function() {\n        this.lastId++;\n        return 't_' + this.lastId;\n    },\n\n    _bufferAppend: function(func) {\n        this.emit(this.buffer + ' += runtime.suppressValue(');\n        func.call(this);\n        this.emit(', env.autoesc);\\n');\n    },\n\n    _compileChildren: function(node, frame) {\n        var children = node.children;\n        for(var i=0, l=children.length; i<l; i++) {\n            this.compile(children[i], frame);\n        }\n    },\n\n    _compileAggregate: function(node, frame, startChar, endChar) {\n        if(startChar) {\n            this.emit(startChar);\n        }\n\n        for(var i=0; i<node.children.length; i++) {\n            if(i > 0) {\n                this.emit(',');\n            }\n\n            this.compile(node.children[i], frame);\n        }\n\n        if(endChar) {\n            this.emit(endChar);\n        }\n    },\n\n    _compileExpression: function(node, frame) {\n        // TODO: I'm not really sure if this type check is worth it or\n        // not.\n        this.assertType(\n            node,\n            nodes.Literal,\n            nodes.Symbol,\n            nodes.Group,\n            nodes.Array,\n            nodes.Dict,\n            nodes.FunCall,\n            nodes.Filter,\n            nodes.LookupVal,\n            nodes.Compare,\n            nodes.InlineIf,\n            nodes.And,\n            nodes.Or,\n            nodes.Not,\n            nodes.Add,\n            nodes.Sub,\n            nodes.Mul,\n            nodes.Div,\n            nodes.FloorDiv,\n            nodes.Mod,\n            nodes.Pow,\n            nodes.Neg,\n            nodes.Pos,\n            nodes.Compare,\n            nodes.NodeList\n        );\n        this.compile(node, frame);\n    },\n\n    assertType: function(node /*, types */) {\n        var types = lib.toArray(arguments).slice(1);\n        var success = false;\n\n        for(var i=0; i<types.length; i++) {\n            if(node instanceof types[i]) {\n                success = true;\n            }\n        }\n\n        if(!success) {\n            this.fail(\"assertType: invalid type: \" + node.typename,\n                      node.lineno,\n                      node.colno);\n        }\n    },\n\n    compileCallExtension: function(node, frame, async) {\n        var name = node.extName;\n        var args = node.args;\n        var contentArgs = node.contentArgs;\n        var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n        var transformedArgs = [];\n\n        if(!async) {\n            this.emit(this.buffer + ' += runtime.suppressValue(');\n        }\n\n        this.emit('env.getExtension(\"' + node.extName + '\")[\"' + node.prop + '\"](');\n        this.emit('context');\n\n        if(args || contentArgs) {\n            this.emit(',');\n        }\n\n        if(args) {\n            if(!(args instanceof nodes.NodeList)) {\n                this.fail('compileCallExtension: arguments must be a NodeList, ' +\n                          'use `parser.parseSignature`');\n            }\n\n            lib.each(args.children, function(arg, i) {\n                // Tag arguments are passed normally to the call. Note\n                // that keyword arguments are turned into a single js\n                // object as the last argument, if they exist.\n                this._compileExpression(arg, frame);\n\n                if(i != args.children.length - 1 || contentArgs.length) {\n                    this.emit(',');\n                }\n            }, this);\n        }\n\n        if(contentArgs.length) {\n            lib.each(contentArgs, function(arg, i) {\n                if(i > 0) {\n                    this.emit(',');\n                }\n\n                if(arg) {\n                    var id = this.tmpid();\n\n                    this.emitLine('function(cb) {');\n                    this.emitLine('if(!cb) { cb = function(err) { if(err) { throw err; }}}');\n                    this.pushBufferId(id);\n\n                    this.withScopedSyntax(function() {\n                        this.compile(arg, frame);\n                        this.emitLine('cb(null, ' + id + ');');\n                    });\n\n                    this.popBufferId();\n                    this.emitLine('return ' + id + ';');\n                    this.emitLine('}');\n                }\n                else {\n                    this.emit('null');\n                }\n            }, this);\n        }\n\n        if(async) {\n            var res = this.tmpid();\n            this.emitLine(', ' + this.makeCallback(res));\n            this.emitLine(this.buffer + ' += runtime.suppressValue(' + res + ', ' + autoescape + ' && env.autoesc);');\n            this.addScopeLevel();\n        }\n        else {\n            this.emit(')');\n            this.emit(', ' + autoescape + ' && env.autoesc);\\n');\n        }\n    },\n\n    compileCallExtensionAsync: function(node, frame) {\n        this.compileCallExtension(node, frame, true);\n    },\n\n    compileNodeList: function(node, frame) {\n        this._compileChildren(node, frame);\n    },\n\n    compileLiteral: function(node, frame) {\n        if(typeof node.value == \"string\") {\n            var val = node.value.replace(/\\\\/g, '\\\\\\\\');\n            val = val.replace(/\"/g, '\\\\\"');\n            val = val.replace(/\\n/g, \"\\\\n\");\n            val = val.replace(/\\r/g, \"\\\\r\");\n            val = val.replace(/\\t/g, \"\\\\t\");\n            this.emit('\"' + val  + '\"');\n        }\n        else {\n            this.emit(node.value.toString());\n        }\n    },\n\n    compileSymbol: function(node, frame) {\n        var name = node.value;\n        var v;\n\n        if((v = frame.lookup(name))) {\n            this.emit(v);\n        }\n        else {\n            this.emit('runtime.contextOrFrameLookup(' +\n                      'context, frame, \"' + name + '\")');\n        }\n    },\n\n    compileGroup: function(node, frame) {\n        this._compileAggregate(node, frame, '(', ')');\n    },\n\n    compileArray: function(node, frame) {\n        this._compileAggregate(node, frame, '[', ']');\n    },\n\n    compileDict: function(node, frame) {\n        this._compileAggregate(node, frame, '{', '}');\n    },\n\n    compilePair: function(node, frame) {\n        var key = node.key;\n        var val = node.value;\n\n        if(key instanceof nodes.Symbol) {\n            key = new nodes.Literal(key.lineno, key.colno, key.value);\n        }\n        else if(!(key instanceof nodes.Literal &&\n                  typeof key.value == \"string\")) {\n            this.fail(\"compilePair: Dict keys must be strings or names\",\n                      key.lineno,\n                      key.colno);\n        }\n\n        this.compile(key, frame);\n        this.emit(': ');\n        this._compileExpression(val, frame);\n    },\n\n    compileInlineIf: function(node, frame) {\n        this.emit('(');\n        this.compile(node.cond, frame);\n        this.emit('?');\n        this.compile(node.body, frame);\n        this.emit(':');\n        if(node.else_ !== null)\n            this.compile(node.else_, frame);\n        else\n            this.emit('\"\"');\n        this.emit(')');\n    },\n\n    compileOr: binOpEmitter(' || '),\n    compileAnd: binOpEmitter(' && '),\n    compileAdd: binOpEmitter(' + '),\n    compileSub: binOpEmitter(' - '),\n    compileMul: binOpEmitter(' * '),\n    compileDiv: binOpEmitter(' / '),\n    compileMod: binOpEmitter(' % '),\n\n    compileNot: function(node, frame) {\n        this.emit('!');\n        this.compile(node.target, frame);\n    },\n\n    compileFloorDiv: function(node, frame) {\n        this.emit('Math.floor(');\n        this.compile(node.left, frame);\n        this.emit(' / ');\n        this.compile(node.right, frame);\n        this.emit(')');\n    },\n\n    compilePow: function(node, frame) {\n        this.emit('Math.pow(');\n        this.compile(node.left, frame);\n        this.emit(', ');\n        this.compile(node.right, frame);\n        this.emit(')');\n    },\n\n    compileNeg: function(node, frame) {\n        this.emit('-');\n        this.compile(node.target, frame);\n    },\n\n    compilePos: function(node, frame) {\n        this.emit('+');\n        this.compile(node.target, frame);\n    },\n\n    compileCompare: function(node, frame) {\n        this.compile(node.expr, frame);\n\n        for(var i=0; i<node.ops.length; i++) {\n            var n = node.ops[i];\n            this.emit(' ' + compareOps[n.type] + ' ');\n            this.compile(n.expr, frame);\n        }\n    },\n\n    compileLookupVal: function(node, frame) {\n        this.emit('runtime.memberLookup((');\n        this._compileExpression(node.target, frame);\n        this.emit('),');\n        this._compileExpression(node.val, frame);\n        this.emit(', env.autoesc)');\n    },\n\n    _getNodeName: function(node) {\n        switch (node.typename) {\n            case 'Symbol':\n                return node.value;\n            case 'FunCall':\n                return 'the return value of (' + this._getNodeName(node.name) + ')';\n            case 'LookupVal':\n                return this._getNodeName(node.target) + '[\"' +\n                       this._getNodeName(node.val) + '\"]';\n            case 'Literal':\n                return node.value.toString().substr(0, 10);\n            default:\n                return '--expression--';\n        }\n    },\n\n    compileFunCall: function(node, frame) {\n        // Keep track of line/col info at runtime by settings\n        // variables within an expression. An expression in javascript\n        // like (x, y, z) returns the last value, and x and y can be\n        // anything\n        this.emit('(lineno = ' + node.lineno +\n                  ', colno = ' + node.colno + ', ');\n\n        this.emit('runtime.callWrap(');\n        // Compile it as normal.\n        this._compileExpression(node.name, frame);\n\n        // Output the name of what we're calling so we can get friendly errors\n        // if the lookup fails.\n        this.emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", ');\n\n        this._compileAggregate(node.args, frame, '[', '])');\n\n        this.emit(')');\n    },\n\n    compileFilter: function(node, frame) {\n        var name = node.name;\n        this.assertType(name, nodes.Symbol);\n\n        this.emit('env.getFilter(\"' + name.value + '\").call(context, ');\n        this._compileAggregate(node.args, frame);\n        this.emit(')');\n    },\n\n    compileFilterAsync: function(node, frame) {\n        var name = node.name;\n        this.assertType(name, nodes.Symbol);\n\n        var symbol = node.symbol.value;\n        frame.set(symbol, symbol);\n\n        this.emit('env.getFilter(\"' + name.value + '\").call(context, ');\n        this._compileAggregate(node.args, frame);\n        this.emitLine(', ' + this.makeCallback(symbol));\n\n        this.addScopeLevel();\n    },\n\n    compileKeywordArgs: function(node, frame) {\n        var names = [];\n\n        lib.each(node.children, function(pair) {\n            names.push(pair.key.value);\n        });\n\n        this.emit('runtime.makeKeywordArgs(');\n        this.compileDict(node, frame);\n        this.emit(')');\n    },\n\n    compileSet: function(node, frame) {\n        var ids = [];\n\n        // Lookup the variable names for each identifier and create\n        // new ones if necessary\n        lib.each(node.targets, function(target) {\n            var name = target.value;\n            var id = frame.lookup(name);\n\n            if (id == null) {\n                id = this.tmpid();\n\n                // Note: This relies on js allowing scope across\n                // blocks, in case this is created inside an `if`\n                this.emitLine('var ' + id + ';');\n            }\n\n            ids.push(id);\n        }, this);\n\n        this.emit(ids.join(' = ') + ' = ');\n        this._compileExpression(node.value, frame);\n        this.emitLine(';');\n\n        lib.each(node.targets, function(target, i) {\n            var id = ids[i];\n            var name = target.value;\n\n            this.emitLine('frame.set(\"' + name + '\", ' + id + ', true);'); \n\n            // We are running this for every var, but it's very\n            // uncommon to assign to multiple vars anyway\n            this.emitLine('if(!frame.parent) {');\n            this.emitLine('context.setVariable(\"' + name + '\", ' + id + ');');\n            if(name.charAt(0) != '_') {\n                this.emitLine('context.addExport(\"' + name + '\");');\n            }\n            this.emitLine('}');\n        }, this);\n    },\n\n    compileIf: function(node, frame, async) {\n        this.emit('if(');\n        this._compileExpression(node.cond, frame);\n        this.emitLine(') {');\n\n        this.withScopedSyntax(function() {\n            this.compile(node.body, frame);\n\n            if(async) {\n                this.emit('cb()');\n            }\n        });\n\n        if(node.else_) {\n            this.emitLine('}\\nelse {');\n\n            this.withScopedSyntax(function() {\n                this.compile(node.else_, frame);\n\n                if(async) {\n                    this.emit('cb()');\n                }\n            });\n        } else if(async) {\n            this.emitLine('}\\nelse {');\n            this.emit('cb()');\n        }\n\n        this.emitLine('}');\n    },\n\n    compileIfAsync: function(node, frame) {\n        this.emit('(function(cb) {');\n        this.compileIf(node, frame, true);\n        this.emit('})(function() {');\n        this.addScopeLevel();\n    },\n\n    scanLoop: function(node) {\n        var loopUses = {};\n\n        node.iterFields(function(field) {\n            var lookups = field.findAll(nodes.LookupVal);\n\n            lib.each(lookups, function(lookup) {\n                if (lookup.target instanceof nodes.Symbol &&\n                    lookup.target.value == 'loop' &&\n                    lookup.val instanceof nodes.Literal) {\n                    loopUses[lookup.val.value] = true;\n                }\n            });\n        });\n\n        return loopUses;\n    },\n\n    emitLoopBindings: function(node, loopUses, arr, i, len) {\n        len = len || arr + '.length';\n\n        var bindings = {\n            index: i + ' + 1',\n            index0: i,\n            revindex: len + ' - ' + i,\n            revindex0: len + ' - ' + i + ' - 1',\n            first: i + ' === 0',\n            last: i + ' === ' + len + ' - 1',\n            length: len\n        };\n\n        for(var name in bindings) {\n            if(name in loopUses) {\n                this.emitLine('frame.set(\"loop.' + name + '\", ' + bindings[name] + ');');\n            }\n        }\n    },\n\n    compileFor: function(node, frame) {\n        // Some of this code is ugly, but it keeps the generated code\n        // as fast as possible. ForAsync also shares some of this, but\n        // not much.\n\n        var i = this.tmpid();\n        var len = this.tmpid();\n        var arr = this.tmpid();\n        var loopUses = this.scanLoop(node);\n        frame = frame.push();\n\n        this.emitLine('frame = frame.push();');\n\n        this.emit('var ' + arr + ' = ');\n        this._compileExpression(node.arr, frame);\n        this.emitLine(';');\n\n        this.emit('if(' + arr + ') {');\n\n        // If multiple names are passed, we need to bind them\n        // appropriately\n        if(node.name instanceof nodes.Array) {\n            this.emitLine('var ' + i + ';');\n\n            // The object could be an arroy or object. Note that the\n            // body of the loop is duplicated for each condition, but\n            // we are optimizing for speed over size.\n            this.emitLine('if(runtime.isArray(' + arr + ')) {'); {\n                this.emitLine('for(' + i + '=0; ' + i + ' < ' + arr + '.length; '\n                              + i + '++) {');\n\n                // Bind each declared var\n                for (var u=0; u < node.name.children.length; u++) {\n                    var tid = this.tmpid();\n                    this.emitLine('var ' + tid + ' = ' + arr + '[' + i + '][' + u + ']');\n                    this.emitLine('frame.set(\"' + node.name.children[u].value\n                                  + '\", ' + arr + '[' + i + '][' + u + ']' + ');');\n                    frame.set(node.name.children[u].value, tid);\n                }\n\n                this.emitLoopBindings(node, loopUses, arr, i);\n                this.withScopedSyntax(function() {\n                    this.compile(node.body, frame);\n                });\n                this.emitLine('}');\n            }\n\n            this.emitLine('} else {'); {\n                // Iterate over the key/values of an object\n                var key = node.name.children[0];\n                var val = node.name.children[1];\n                var k = this.tmpid();\n                var v = this.tmpid();\n                frame.set(key.value, k);\n                frame.set(val.value, v);\n\n                this.emitLine(i + ' = -1;');\n\n                if(loopUses['revindex'] || loopUses['revindex0'] ||\n                   loopUses['last'] || loopUses['length']) {\n                    this.emitLine('var ' + len + ' = runtime.keys(' + arr + ').length;');\n                }\n\n                this.emitLine('for(var ' + k + ' in ' + arr + ') {');\n                this.emitLine(i + '++;');\n                this.emitLine('var ' + v + ' = ' + arr + '[' + k + '];');\n                this.emitLine('frame.set(\"' + key.value + '\", ' + k + ');');\n                this.emitLine('frame.set(\"' + val.value + '\", ' + v + ');');\n\n                this.emitLoopBindings(node, loopUses, arr, i, len);\n                this.withScopedSyntax(function() {\n                    this.compile(node.body, frame);\n                });\n                this.emitLine('}');\n            }\n\n            this.emitLine('}');\n        }\n        else {\n            // Generate a typical array iteration\n            var v = this.tmpid();\n            frame.set(node.name.value, v);\n\n            this.emitLine('for(var ' + i + '=0; ' + i + ' < ' + arr + '.length; ' +\n                          i + '++) {');\n            this.emitLine('var ' + v + ' = ' + arr + '[' + i + '];');\n            this.emitLine('frame.set(\"' + node.name.value + '\", ' + v + ');');\n\n            this.emitLoopBindings(node, loopUses, arr, i);\n\n            this.withScopedSyntax(function() {\n                this.compile(node.body, frame);\n            });\n\n            this.emitLine('}');\n        }\n\n        this.emitLine('}');\n        this.emitLine('frame = frame.pop();');\n    },\n\n    _compileAsyncLoop: function(node, frame, parallel) {\n        // This shares some code with the For tag, but not enough to\n        // worry about. This iterates across an object asynchronously,\n        // but not in parallel.\n\n        var i = this.tmpid();\n        var len = this.tmpid();\n        var arr = this.tmpid();\n        var loopUses = this.scanLoop(node);\n        var asyncMethod = parallel ? 'asyncAll' : 'asyncEach';\n        frame = frame.push();\n\n        this.emitLine('frame = frame.push();');\n\n        this.emit('var ' + arr + ' = ');\n        this._compileExpression(node.arr, frame);\n        this.emitLine(';');\n\n        if(node.name instanceof nodes.Array) {\n            this.emit('runtime.' + asyncMethod + '(' + arr + ', ' +\n                      node.name.children.length + ', function(');\n\n            lib.each(node.name.children, function(name) {\n                this.emit(name.value + ',');\n            }, this);\n\n            this.emit(i + ',' + len + ',next) {');\n\n            lib.each(node.name.children, function(name) {\n                var id = name.value;\n                frame.set(id, id);\n                this.emitLine('frame.set(\"' + id + '\", ' + id + ');');\n            }, this);\n        }\n        else {\n            var id = node.name.value;\n            this.emitLine('runtime.' + asyncMethod + '(' + arr + ', 1, function(' + id + ', ' + i + ', ' + len + ',next) {');\n            this.emitLine('frame.set(\"' + id + '\", ' + id + ');');\n            frame.set(id, id);\n        }\n\n        this.emitLoopBindings(node, loopUses, arr, i, len);\n\n        this.withScopedSyntax(function() {\n            var buf;\n            if(parallel) {\n                buf = this.tmpid();\n                this.pushBufferId(buf);\n            }\n\n            this.compile(node.body, frame);\n            this.emitLine('next(' + i + (buf ? ',' + buf : '') + ');');\n\n            if(parallel) {\n                this.popBufferId();\n            }\n        });\n\n        var output = this.tmpid();\n        this.emitLine('}, ' + this.makeCallback(output));\n        this.addScopeLevel();\n\n        if(parallel) {\n            this.emitLine(this.buffer + ' += ' + output + ';');\n        }\n\n        this.emitLine('frame = frame.pop();');\n    },\n\n    compileAsyncEach: function(node, frame) {\n        this._compileAsyncLoop(node, frame);\n    },\n\n    compileAsyncAll: function(node, frame) {\n        this._compileAsyncLoop(node, frame, true);\n    },\n\n    _emitMacroBegin: function(node, frame) {\n        var args = [];\n        var kwargs = null;\n        var funcId = 'macro_' + this.tmpid();\n\n        // Type check the definition of the args\n        lib.each(node.args.children, function(arg, i) {\n            if(i === node.args.children.length - 1 &&\n               arg instanceof nodes.Dict) {\n                kwargs = arg;\n            }\n            else {\n                this.assertType(arg, nodes.Symbol);\n                args.push(arg);\n            }\n        }, this);\n\n        var realNames = lib.map(args, function(n) { return 'l_' + n.value; });\n        realNames.push('kwargs');\n\n        // Quoted argument names\n        var argNames = lib.map(args, function(n) { return '\"' + n.value + '\"'; });\n        var kwargNames = lib.map((kwargs && kwargs.children) || [],\n                                 function(n) { return '\"' + n.key.value + '\"'; });\n\n        // We pass a function to makeMacro which destructures the\n        // arguments so support setting positional args with keywords\n        // args and passing keyword args as positional args\n        // (essentially default values). See runtime.js.\n        this.emitLines(\n            'var ' + funcId + ' = runtime.makeMacro(',\n            '[' + argNames.join(', ') + '], ',\n            '[' + kwargNames.join(', ') + '], ',\n            'function (' + realNames.join(', ') + ') {',\n            'frame = frame.push();',\n            'kwargs = kwargs || {};'\n        );\n\n        // Expose the arguments to the template. Don't need to use\n        // random names because the function\n        // will create a new run-time scope for us\n        lib.each(args, function(arg) {\n            this.emitLine('frame.set(\"' + arg.value + '\", ' +\n                          'l_' + arg.value + ');');\n            frame.set(arg.value, 'l_' + arg.value);\n        }, this);\n\n        // Expose the keyword arguments\n        if(kwargs) {\n            lib.each(kwargs.children, function(pair) {\n                var name = pair.key.value;\n                this.emit('frame.set(\"' + name + '\", ' +\n                          'kwargs.hasOwnProperty(\"' + name + '\") ? ' +\n                          'kwargs[\"' + name + '\"] : ');\n                this._compileExpression(pair.value, frame);\n                this.emitLine(');');\n            }, this);\n        }\n\n        return funcId;\n    },\n\n    _emitMacroEnd: function(bufferId) {\n        this.emitLine('frame = frame.pop();');\n        this.emitLine('return new runtime.SafeString(' + bufferId + ');');\n        this.emitLine('});');\n    },\n\n    compileMacro: function(node, frame) {\n        frame = frame.push();\n        var funcId = this._emitMacroBegin(node, frame);\n        var id = this.tmpid();\n        this.pushBufferId(id);\n\n        this.withScopedSyntax(function() {\n            this.compile(node.body, frame);\n        });\n\n        this._emitMacroEnd(id);\n        this.popBufferId();\n\n        // Expose the macro to the templates\n        var name = node.name.value;\n        frame = frame.pop();\n        frame.set(name, funcId);\n\n        if(frame.parent) {\n            this.emitLine('frame.set(\"' + name + '\", ' + funcId + ');');\n        }\n        else {\n            if(node.name.value.charAt(0) != '_') {\n                this.emitLine('context.addExport(\"' + name + '\");');\n            }\n            this.emitLine('context.setVariable(\"' + name + '\", ' + funcId + ');');\n        }\n    },\n\n    compileImport: function(node, frame) {\n        var id = this.tmpid();\n        var target = node.target.value;\n\n        this.emit('env.getTemplate(');\n        this._compileExpression(node.template, frame);\n        this.emitLine(', ' + this.makeCallback(id));\n        this.addScopeLevel();\n\n        this.emitLine(id + '.getExported(' + this.makeCallback(id));\n        this.addScopeLevel();\n\n        frame.set(target, id);\n\n        if(frame.parent) {\n            this.emitLine('frame.set(\"' + target + '\", ' + id + ');');\n        }\n        else {\n            this.emitLine('context.setVariable(\"' + target + '\", ' + id + ');');\n        }\n    },\n\n    compileFromImport: function(node, frame) {\n        var importedId = this.tmpid();\n\n        this.emit('env.getTemplate(');\n        this._compileExpression(node.template, frame);\n        this.emitLine(', ' + this.makeCallback(importedId));\n        this.addScopeLevel();\n\n        this.emitLine(importedId + '.getExported(' + this.makeCallback(importedId));\n        this.addScopeLevel();\n\n        lib.each(node.names.children, function(nameNode) {\n            var name;\n            var alias;\n            var id = this.tmpid();\n\n            if(nameNode instanceof nodes.Pair) {\n                name = nameNode.key.value;\n                alias = nameNode.value.value;\n            }\n            else {\n                name = nameNode.value;\n                alias = name;\n            }\n\n            this.emitLine('if(' + importedId + '.hasOwnProperty(\"' + name + '\")) {');\n            this.emitLine('var ' + id + ' = ' + importedId + '.' + name + ';');\n            this.emitLine('} else {');\n            this.emitLine('cb(new Error(\"cannot import \\'' + name + '\\'\")); return;');\n            this.emitLine('}');\n\n            frame.set(alias, id);\n\n            if(frame.parent) {\n                this.emitLine('frame.set(\"' + alias + '\", ' + id + ');');\n            }\n            else {\n                this.emitLine('context.setVariable(\"' + alias + '\", ' + id + ');');\n            }\n        }, this);\n    },\n\n    compileBlock: function(node, frame) {\n        if(!this.isChild) {\n            var id = this.tmpid();\n\n            this.emitLine('context.getBlock(\"' + node.name.value + '\")' +\n                          '(env, context, frame, runtime, ' + this.makeCallback(id));\n            this.emitLine(this.buffer + ' += ' + id + ';');\n            this.addScopeLevel();\n        }\n    },\n\n    compileSuper: function(node, frame) {\n        var name = node.blockName.value;\n        var id = node.symbol.value;\n\n        this.emitLine('context.getSuper(env, ' +\n                      '\"' + name + '\", ' +\n                      'b_' + name + ', ' +\n                      'frame, runtime, '+\n                      this.makeCallback(id));\n        this.emitLine(id + ' = runtime.markSafe(' + id + ');');\n        this.addScopeLevel();\n        frame.set(id, id);\n    },\n\n    compileExtends: function(node, frame) {\n        if(this.isChild) {\n            this.fail('compileExtends: cannot extend multiple times',\n                      node.template.lineno,\n                      node.template.colno);\n        }\n\n        var k = this.tmpid();\n\n        this.emit('env.getTemplate(');\n        this._compileExpression(node.template, frame);\n        this.emitLine(', true, ' + this.makeCallback('parentTemplate'));\n\n        this.emitLine('for(var ' + k + ' in parentTemplate.blocks) {');\n        this.emitLine('context.addBlock(' + k +\n                      ', parentTemplate.blocks[' + k + ']);');\n        this.emitLine('}');\n\n        this.addScopeLevel();\n        this.isChild = true;\n    },\n\n    compileInclude: function(node, frame) {\n        var id = this.tmpid();\n        var id2 = this.tmpid();\n\n        this.emit('env.getTemplate(');\n        this._compileExpression(node.template, frame);\n        this.emitLine(', ' + this.makeCallback(id));\n        this.addScopeLevel();\n\n        this.emitLine(id + '.render(' +\n                      'context.getVariables(), frame.push(), ' + this.makeCallback(id2));\n        this.emitLine(this.buffer + ' += ' + id2);\n        this.addScopeLevel();\n    },\n\n    compileTemplateData: function(node, frame) {\n        this.compileLiteral(node, frame);\n    },\n\n    compileOutput: function(node, frame) {\n        var children = node.children;\n        for(var i=0, l=children.length; i<l; i++) {\n            // TemplateData is a special case because it is never\n            // autoescaped, so simply output it for optimization\n            if(children[i] instanceof nodes.TemplateData) {\n                if(children[i].value) {\n                    this.emit(this.buffer + ' += ');\n                    this.compileLiteral(children[i], frame);\n                    this.emitLine(';');\n                }\n            }\n            else {\n                this.emit(this.buffer + ' += runtime.suppressValue(');\n                this.compile(children[i], frame);\n                this.emit(', env.autoesc);\\n');\n            }\n        }\n    },\n\n    compileRoot: function(node, frame) {\n        if(frame) {\n            this.fail(\"compileRoot: root node can't have frame\");\n        }\n\n        frame = new Frame();\n\n        this.emitFuncBegin('root');\n        this._compileChildren(node, frame);\n        if(this.isChild) {\n            this.emitLine('parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);');\n        }\n        this.emitFuncEnd(this.isChild);\n\n        // When compiling the blocks, they should all act as top-level code\n        this.isChild = false;\n\n        var blocks = node.findAll(nodes.Block);\n        for(var i=0; i<blocks.length; i++) {\n            var block = blocks[i];\n            var name = block.name.value;\n\n            this.emitFuncBegin('b_' + name);\n\n            var tmpFrame = new Frame();\n            this.compile(block.body, tmpFrame);\n            this.emitFuncEnd();\n        }\n\n        this.emitLine('return {');\n        for(var i=0; i<blocks.length; i++) {\n            var block = blocks[i];\n            var name = 'b_' + block.name.value;\n            this.emitLine(name + ': ' + name + ',');\n        }\n        this.emitLine('root: root\\n};');\n    },\n\n    compile: function (node, frame) {\n        var _compile = this[\"compile\" + node.typename];\n        if(_compile) {\n            _compile.call(this, node, frame);\n        }\n        else {\n            this.fail(\"compile: Cannot compile node: \" + node.typename,\n                      node.lineno,\n                      node.colno);\n        }\n    },\n\n    getCode: function() {\n        return this.codebuf.join('');\n    }\n});\n\n// var c = new Compiler();\n// var src = '{% macro foo() %}{% include \"include.html\" %}{% endmacro %} This is my template {{ foo() }}';\n// var ast = transformer.transform(parser.parse(src));\n//nodes.printNodes(ast);\n// c.compile(ast);\n// var tmpl = c.getCode();\n// console.log(tmpl);\n\nmodules['compiler'] = {\n    compile: function(src, asyncFilters, extensions, name) {\n        var c = new Compiler();\n\n        // Run the extension preprocessors against the source.\n        if(extensions && extensions.length) {\n            for(var i=0; i<extensions.length; i++) {\n                if('preprocess' in extensions[i]) {\n                    src = extensions[i].preprocess(src, name);\n                }\n            }\n        }\n\n        c.compile(transformer.transform(parser.parse(src, extensions),\n                                        asyncFilters,\n                                        name));\n        return c.getCode();\n    },\n\n    Compiler: Compiler\n};\n})();\n(function() {\nvar lib = modules[\"lib\"];\nvar r = modules[\"runtime\"];\n\nvar filters = {\n    abs: function(n) {\n        return Math.abs(n);\n    },\n\n    batch: function(arr, linecount, fill_with) {\n        var res = [];\n        var tmp = [];\n\n        for(var i=0; i<arr.length; i++) {\n            if(i % linecount === 0 && tmp.length) {\n                res.push(tmp);\n                tmp = [];\n            }\n\n            tmp.push(arr[i]);\n        }\n\n        if(tmp.length) {\n            if(fill_with) {\n                for(var i=tmp.length; i<linecount; i++) {\n                    tmp.push(fill_with);\n                }\n            }\n\n            res.push(tmp);\n        }\n\n        return res;\n    },\n\n    capitalize: function(str) {\n        var ret = str.toLowerCase();\n        return r.copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n    },\n\n    center: function(str, width) {\n        width = width || 80;\n\n        if(str.length >= width) {\n            return str;\n        }\n\n        var spaces = width - str.length;\n        var pre = lib.repeat(\" \", spaces/2 - spaces % 2);\n        var post = lib.repeat(\" \", spaces/2);\n        return r.copySafeness(str, pre + str + post);\n    },\n\n    'default': function(val, def) {\n        return val ? val : def;\n    },\n\n    dictsort: function(val, case_sensitive, by) {\n        if (!lib.isObject(val)) {\n            throw new lib.TemplateError(\"dictsort filter: val must be an object\");\n        }\n\n        var array = [];\n        for (var k in val) {\n            // deliberately include properties from the object's prototype\n            array.push([k,val[k]]);\n        }\n\n        var si;\n        if (by === undefined || by === \"key\") {\n            si = 0;\n        } else if (by === \"value\") {\n            si = 1;\n        } else {\n            throw new lib.TemplateError(\n                \"dictsort filter: You can only sort by either key or value\");\n        }\n\n        array.sort(function(t1, t2) {\n            var a = t1[si];\n            var b = t2[si];\n\n            if (!case_sensitive) {\n                if (lib.isString(a)) {\n                    a = a.toUpperCase();\n                }\n                if (lib.isString(b)) {\n                    b = b.toUpperCase();\n                }\n            }\n\n            return a > b ? 1 : (a == b ? 0 : -1);\n        });\n\n        return array;\n    },\n\n    escape: function(str) {\n        if(typeof str == 'string' ||\n           str instanceof r.SafeString) {\n            return lib.escape(str);\n        }\n        return str;\n    },\n\n    safe: function(str) {\n        return r.markSafe(str);\n    },\n\n    first: function(arr) {\n        return arr[0];\n    },\n\n    groupby: function(arr, attr) {\n        return lib.groupBy(arr, attr);\n    },\n\n    indent: function(str, width, indentfirst) {\n        width = width || 4;\n        var res = '';\n        var lines = str.split('\\n');\n        var sp = lib.repeat(' ', width);\n\n        for(var i=0; i<lines.length; i++) {\n            if(i == 0 && !indentfirst) {\n                res += lines[i] + '\\n';\n            }\n            else {\n                res += sp + lines[i] + '\\n';\n            }\n        }\n\n        return r.copySafeness(str, res);\n    },\n\n    join: function(arr, del, attr) {\n        del = del || '';\n\n        if(attr) {\n            arr = lib.map(arr, function(v) {\n                return v[attr];\n            });\n        }\n\n        return arr.join(del);\n    },\n\n    last: function(arr) {\n        return arr[arr.length-1];\n    },\n\n    length: function(arr) {\n        return arr !== undefined ? arr.length : 0;\n    },\n\n    list: function(val) {\n        if(lib.isString(val)) {\n            return val.split('');\n        }\n        else if(lib.isObject(val)) {\n            var keys = [];\n\n            if(Object.keys) {\n                keys = Object.keys(val);\n            }\n            else {\n                for(var k in val) {\n                    keys.push(k);\n                }\n            }\n\n            return lib.map(keys, function(k) {\n                return { key: k,\n                         value: val[k] };\n            });\n        }\n        else {\n            throw new lib.TemplateError(\"list filter: type not iterable\");\n        }\n    },\n\n    lower: function(str) {\n        return str.toLowerCase();\n    },\n\n    random: function(arr) {\n        return arr[Math.floor(Math.random() * arr.length)];\n    },\n\n    replace: function(str, old, new_, maxCount) {\n        var res = str;\n        var last = res;\n        var count = 1;\n        res = res.replace(old, new_);\n\n        while(last != res) {\n            if(count >= maxCount) {\n                break;\n            }\n\n            last = res;\n            res = res.replace(old, new_);\n            count++;\n        }\n\n        return r.copySafeness(str, res);\n    },\n\n    reverse: function(val) {\n        var arr;\n        if(lib.isString(val)) {\n            arr = filters.list(val);\n        }\n        else {\n            // Copy it\n            arr = lib.map(val, function(v) { return v; });\n        }\n\n        arr.reverse();\n\n        if(lib.isString(val)) {\n            return r.copySafeness(val, arr.join(''));\n        }\n        return arr;\n    },\n\n    round: function(val, precision, method) {\n        precision = precision || 0;\n        var factor = Math.pow(10, precision);\n        var rounder;\n\n        if(method == 'ceil') {\n            rounder = Math.ceil;\n        }\n        else if(method == 'floor') {\n            rounder = Math.floor;\n        }\n        else {\n            rounder = Math.round;\n        }\n\n        return rounder(val * factor) / factor;\n    },\n\n    slice: function(arr, slices, fillWith) {\n        var sliceLength = Math.floor(arr.length / slices);\n        var extra = arr.length % slices;\n        var offset = 0;\n        var res = [];\n\n        for(var i=0; i<slices; i++) {\n            var start = offset + i * sliceLength;\n            if(i < extra) {\n                offset++;\n            }\n            var end = offset + (i + 1) * sliceLength;\n\n            var slice = arr.slice(start, end);\n            if(fillWith && i >= extra) {\n                slice.push(fillWith);\n            }\n            res.push(slice);\n        }\n\n        return res;\n    },\n\n    sort: function(arr, reverse, caseSens, attr) {\n        // Copy it\n        arr = lib.map(arr, function(v) { return v; });\n\n        arr.sort(function(a, b) {\n            var x, y;\n\n            if(attr) {\n                x = a[attr];\n                y = b[attr];\n            }\n            else {\n                x = a;\n                y = b;\n            }\n\n            if(!caseSens && lib.isString(x) && lib.isString(y)) {\n                x = x.toLowerCase();\n                y = y.toLowerCase();\n            }\n\n            if(x < y) {\n                return reverse ? 1 : -1;\n            }\n            else if(x > y) {\n                return reverse ? -1: 1;\n            }\n            else {\n                return 0;\n            }\n        });\n\n        return arr;\n    },\n\n    string: function(obj) {\n        return r.copySafeness(obj, obj);\n    },\n\n    title: function(str) {\n        var words = str.split(' ');\n        for(var i = 0; i < words.length; i++) {\n            words[i] = filters.capitalize(words[i]);\n        }\n        return r.copySafeness(str, words.join(' '));\n    },\n\n    trim: function(str) {\n        return r.copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n    },\n\n    truncate: function(input, length, killwords, end) {\n        var orig = input;\n        length = length || 255;\n\n        if (input.length <= length)\n            return input;\n\n        if (killwords) {\n            input = input.substring(0, length);\n        } else {\n            var idx = input.lastIndexOf(' ', length);\n            if(idx === -1) {\n                idx = length;\n            }\n\n            input = input.substring(0, idx);\n        }\n\n        input += (end !== undefined && end !== null) ? end : '...';\n        return r.copySafeness(orig, input);\n    },\n\n    upper: function(str) {\n        return str.toUpperCase();\n    },\n\n    urlencode: function(obj) {\n        var enc = encodeURIComponent;\n        if (lib.isString(obj)) {\n            return enc(obj);\n        } else {\n            var parts;\n            if (lib.isArray(obj)) {\n                parts = obj.map(function(item) {\n                    return enc(item[0]) + '=' + enc(item[1]);\n                })\n            } else {\n                parts = [];\n                for (var k in obj) {\n                    if (obj.hasOwnProperty(k)) {\n                        parts.push(enc(k) + '=' + enc(obj[k]));\n                    }\n                }\n            }\n            return parts.join('&');\n        }\n    },\n\n    urlize: function(str, length, nofollow) {\n        if (isNaN(length)) length = Infinity;\n\n        var noFollowAttr = (nofollow === true ? ' rel=\"nofollow\"' : '');\n\n        // For the jinja regexp, see\n        // https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\n        var puncRE = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n        // from http://blog.gerv.net/2011/05/html5_email_address_regexp/\n        var emailRE = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\n        var httpHttpsRE = /^https?:\\/\\/.*$/;\n        var wwwRE = /^www\\./;\n        var tldRE = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\n\n        var words = str.split(/\\s+/).filter(function(word) {\n          // If the word has no length, bail. This can happen for str with\n          // trailing whitespace.\n          return word && word.length;\n        }).map(function(word) {\n          var matches = word.match(puncRE);\n\n          var possibleUrl = matches && matches[1] || word;\n\n          // url that starts with http or https\n          if (httpHttpsRE.test(possibleUrl))\n            return '<a href=\"' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          // url that starts with www.\n          if (wwwRE.test(possibleUrl))\n            return '<a href=\"http://' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          // an email address of the form username@domain.tld\n          if (emailRE.test(possibleUrl))\n            return '<a href=\"mailto:' + possibleUrl + '\">' + possibleUrl + '</a>';\n\n          // url that ends in .com, .org or .net that is not an email address\n          if (tldRE.test(possibleUrl))\n            return '<a href=\"http://' + possibleUrl + '\"' + noFollowAttr + '>' + possibleUrl.substr(0, length) + '</a>';\n\n          return possibleUrl;\n\n        });\n\n        return words.join(' ');\n    },\n\n    wordcount: function(str) {\n        var words = (str) ? str.match(/\\w+/g) : null;\n        return (words) ? words.length : null;\n    },\n\n    'float': function(val, def) {\n        var res = parseFloat(val);\n        return isNaN(res) ? def : res;\n    },\n\n    'int': function(val, def) {\n        var res = parseInt(val, 10);\n        return isNaN(res) ? def : res;\n    }\n};\n\n// Aliases\nfilters.d = filters['default'];\nfilters.e = filters.escape;\n\nmodules['filters'] = filters;\n})();\n(function() {\n\nfunction cycler(items) {\n    var index = -1;\n    var current = null;\n\n    return {\n        reset: function() {\n            index = -1;\n            current = null;\n        },\n\n        next: function() {\n            index++;\n            if(index >= items.length) {\n                index = 0;\n            }\n\n            current = items[index];\n            return current;\n        }\n    };\n\n}\n\nfunction joiner(sep) {\n    sep = sep || ',';\n    var first = true;\n\n    return function() {\n        var val = first ? '' : sep;\n        first = false;\n        return val;\n    };\n}\n\nvar globals = {\n    range: function(start, stop, step) {\n        if(!stop) {\n            stop = start;\n            start = 0;\n            step = 1;\n        }\n        else if(!step) {\n            step = 1;\n        }\n\n        var arr = [];\n        for(var i=start; i<stop; i+=step) {\n            arr.push(i);\n        }\n        return arr;\n    },\n\n    // lipsum: function(n, html, min, max) {\n    // },\n\n    cycler: function() {\n        return cycler(Array.prototype.slice.call(arguments));\n    },\n\n    joiner: function(sep) {\n        return joiner(sep);\n    }\n}\n\nmodules['globals'] = globals;\n})();\n(function() {\nvar Obj = modules[\"object\"];\nvar lib = modules[\"lib\"];\n\nvar Loader = Obj.extend({\n    on: function(name, func) {\n        this.listeners = this.listeners || {};\n        this.listeners[name] = this.listeners[name] || [];\n        this.listeners[name].push(func);\n    },\n\n    emit: function(name /*, arg1, arg2, ...*/) {\n        var args = Array.prototype.slice.call(arguments, 1);\n\n        if(this.listeners && this.listeners[name]) {\n            lib.each(this.listeners[name], function(listener) {\n                listener.apply(null, args);\n            });\n        }\n    }\n});\n\nmodules['loader'] = Loader;\n})();\n(function() {\nvar Loader = modules[\"loader\"];\n\nvar WebLoader = Loader.extend({\n    init: function(baseURL, neverUpdate) {\n        // It's easy to use precompiled templates: just include them\n        // before you configure nunjucks and this will automatically\n        // pick it up and use it\n        this.precompiled = window.nunjucksPrecompiled || {};\n\n        this.baseURL = baseURL || '';\n        this.neverUpdate = neverUpdate;\n    },\n\n    getSource: function(name) {\n        if(this.precompiled[name]) {\n            return {\n                src: { type: \"code\",\n                       obj: this.precompiled[name] },\n                path: name\n            };\n        }\n        else {\n            var src = this.fetch(this.baseURL + '/' + name);\n            if(!src) {\n                return null;\n            }\n\n            return { src: src,\n                     path: name,\n                     noCache: !this.neverUpdate };\n        }\n    },\n\n    fetch: function(url, callback) {\n        // Only in the browser please\n        var ajax;\n        var loading = true;\n        var src;\n\n        if(window.XMLHttpRequest) { // Mozilla, Safari, ...\n            ajax = new XMLHttpRequest();\n        }\n        else if(window.ActiveXObject) { // IE 8 and older\n            ajax = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n\n        ajax.onreadystatechange = function() {\n            if(ajax.readyState === 4 && (ajax.status === 0 || ajax.status === 200) && loading) {\n                loading = false;\n                src = ajax.responseText;\n            }\n        };\n\n        url += (url.indexOf('?') === -1 ? '?' : '&') + 's=' +\n               (new Date().getTime());\n\n        // Synchronous because this API shouldn't be used in\n        // production (pre-load compiled templates instead)\n        ajax.open('GET', url, false);\n        ajax.send();\n\n        return src;\n    }\n});\n\nmodules['web-loaders'] = {\n    WebLoader: WebLoader\n};\n})();\n(function() {\nif(typeof window === 'undefined' || window !== this) {\n    modules['loaders'] = modules[\"node-loaders\"];\n}\nelse {\n    modules['loaders'] = modules[\"web-loaders\"];\n}\n})();\n(function() {\nvar path = modules[\"path\"];\nvar lib = modules[\"lib\"];\nvar Obj = modules[\"object\"];\nvar lexer = modules[\"lexer\"];\nvar compiler = modules[\"compiler\"];\nvar builtin_filters = modules[\"filters\"];\nvar builtin_loaders = modules[\"loaders\"];\nvar runtime = modules[\"runtime\"];\nvar globals = modules[\"globals\"];\nvar Frame = runtime.Frame;\n\nvar Environment = Obj.extend({\n    init: function(loaders, opts) {\n        // The dev flag determines the trace that'll be shown on errors.\n        // If set to true, returns the full trace from the error point,\n        // otherwise will return trace starting from Template.render\n        // (the full trace from within nunjucks may confuse developers using\n        //  the library)\n        // defaults to false\n        opts = opts || {};\n        this.dev = !!opts.dev;\n\n        // The autoescape flag sets global autoescaping. If true,\n        // every string variable will be escaped by default.\n        // If false, strings can be manually escaped using the `escape` filter.\n        // defaults to false\n        this.autoesc = !!opts.autoescape;\n\n        if(!loaders) {\n            // The filesystem loader is only available client-side\n            if(builtin_loaders.FileSystemLoader) {\n                this.loaders = [new builtin_loaders.FileSystemLoader('views')];\n            }\n            else {\n                this.loaders = [new builtin_loaders.WebLoader('/views')];\n            }\n        }\n        else {\n            this.loaders = lib.isArray(loaders) ? loaders : [loaders];\n        }\n\n        this.initCache();\n        this.filters = {};\n        this.asyncFilters = [];\n        this.extensions = {};\n        this.extensionsList = [];\n\n        if(opts.tags) {\n            lexer.setTags(opts.tags);\n        }\n\n        for(var name in builtin_filters) {\n            this.addFilter(name, builtin_filters[name]);\n        }\n    },\n\n    initCache: function() {\n        // Caching and cache busting\n        var cache = {};\n\n        lib.each(this.loaders, function(loader) {\n            if(typeof loader.on === 'function'){\n                loader.on('update', function(template) {\n                    cache[template] = null;\n                });\n            }\n        });\n\n        this.cache = cache;\n    },\n\n    addExtension: function(name, extension) {\n        extension._name = name;\n        this.extensions[name] = extension;\n        this.extensionsList.push(extension);\n    },\n\n    getExtension: function(name) {\n        return this.extensions[name];\n    },\n\n    addGlobal: function(name, value) {\n        globals[name] = value;\n    },\n\n    addFilter: function(name, func, async) {\n        var wrapped = func;\n\n        if(async) {\n            this.asyncFilters.push(name);\n        }\n        this.filters[name] = wrapped;\n    },\n\n    getFilter: function(name) {\n        if(!this.filters[name]) {\n            throw new Error('filter not found: ' + name);\n        }\n        return this.filters[name];\n    },\n\n    getTemplate: function(name, eagerCompile, cb) {\n        if(name && name.raw) {\n            // this fixes autoescape for templates referenced in symbols\n            name = name.raw;\n        }\n\n        if(lib.isFunction(eagerCompile)) {\n            cb = eagerCompile;\n            eagerCompile = false;\n        }\n\n        if(typeof name !== 'string') {\n            throw new Error('template names must be a string: ' + name);\n        }\n\n        var tmpl = this.cache[name];\n\n        if(tmpl) {\n            if(eagerCompile) {\n                tmpl.compile();\n            }\n\n            if(cb) {\n                cb(null, tmpl);\n            }\n            else {\n                return tmpl;\n            }\n        } else {\n            var syncResult;\n\n            lib.asyncIter(this.loaders, function(loader, i, next, done) {\n                function handle(src) {\n                    if(src) {\n                        done(src);\n                    }\n                    else {\n                        next();\n                    }\n                }\n\n                if(loader.async) {\n                    loader.getSource(name, function(err, src) {\n                        if(err) { throw err; }\n                        handle(src);\n                    });\n                }\n                else {\n                    handle(loader.getSource(name));\n                }\n            }, function(info) {\n                if(!info) {\n                    var err = new Error('template not found: ' + name);\n                    if(cb) {\n                        cb(err);\n                    }\n                    else {\n                        throw err;\n                    }\n                }\n                else {\n                    var tmpl = new Template(info.src, this,\n                                            info.path, eagerCompile);\n\n                    if(!info.noCache) {\n                        this.cache[name] = tmpl;\n                    }\n\n                    if(cb) {\n                        cb(null, tmpl);\n                    }\n                    else {\n                        syncResult = tmpl;\n                    }\n                }\n            }.bind(this));\n\n            return syncResult;\n        }\n    },\n\n    express: function(app) {\n        var env = this;\n\n        function NunjucksView(name, opts) {\n            this.name          = name;\n            this.path          = name;\n            this.defaultEngine = opts.defaultEngine;\n            this.ext           = path.extname(name);\n            if (!this.ext && !this.defaultEngine) throw new Error('No default engine was specified and no extension was provided.');\n            if (!this.ext) this.name += (this.ext = ('.' !== this.defaultEngine[0] ? '.' : '') + this.defaultEngine);\n        }\n\n        NunjucksView.prototype.render = function(opts, cb) {\n          env.render(this.name, opts, cb);\n        };\n\n        app.set('view', NunjucksView);\n    },\n\n    render: function(name, ctx, cb) {\n        if(lib.isFunction(ctx)) {\n            cb = ctx;\n            ctx = null;\n        }\n\n        // We support a synchronous API to make it easier to migrate\n        // existing code to async. This works because if you don't do\n        // anything async work, the whole thing is actually run\n        // synchronously.\n        var syncResult = null;\n\n        this.getTemplate(name, function(err, tmpl) {\n            if(err && cb) {\n                cb(err);\n            }\n            else if(err) {\n                throw err;\n            }\n            else {\n                tmpl.render(ctx, cb || function(err, res) {\n                    if(err) { throw err; }\n                    syncResult = res;\n                });\n            }\n        });\n\n        return syncResult;\n    },\n\n    renderString: function(src, ctx, cb) {\n        var tmpl = new Template(src, this);\n        return tmpl.render(ctx, cb);\n    }\n});\n\nvar Context = Obj.extend({\n    init: function(ctx, blocks) {\n        this.ctx = ctx;\n        this.blocks = {};\n        this.exported = [];\n\n        for(var name in blocks) {\n            this.addBlock(name, blocks[name]);\n        }\n    },\n\n    lookup: function(name) {\n        // This is one of the most called functions, so optimize for\n        // the typical case where the name isn't in the globals\n        if(name in globals && !(name in this.ctx)) {\n            return globals[name];\n        }\n        else {\n            return this.ctx[name];\n        }\n    },\n\n    setVariable: function(name, val) {\n        this.ctx[name] = val;\n    },\n\n    getVariables: function() {\n        return this.ctx;\n    },\n\n    addBlock: function(name, block) {\n        this.blocks[name] = this.blocks[name] || [];\n        this.blocks[name].push(block);\n    },\n\n    getBlock: function(name) {\n        if(!this.blocks[name]) {\n            throw new Error('unknown block \"' + name + '\"');\n        }\n\n        return this.blocks[name][0];\n    },\n\n    getSuper: function(env, name, block, frame, runtime, cb) {\n        var idx = (this.blocks[name] || []).indexOf(block);\n        var blk = this.blocks[name][idx + 1];\n        var context = this;\n\n        if(idx == -1 || !blk) {\n            throw new Error('no super block available for \"' + name + '\"');\n        }\n\n        blk(env, context, frame, runtime, cb);\n    },\n\n    addExport: function(name) {\n        this.exported.push(name);\n    },\n\n    getExported: function() {\n        var exported = {};\n        for(var i=0; i<this.exported.length; i++) {\n            var name = this.exported[i];\n            exported[name] = this.ctx[name];\n        }\n        return exported;\n    }\n});\n\nvar Template = Obj.extend({\n    init: function (src, env, path, eagerCompile) {\n        this.env = env || new Environment();\n\n        if(lib.isObject(src)) {\n            switch(src.type) {\n            case 'code': this.tmplProps = src.obj; break;\n            case 'string': this.tmplStr = src.obj; break;\n            }\n        }\n        else if(lib.isString(src)) {\n            this.tmplStr = src;\n        }\n        else {\n            throw new Error(\"src must be a string or an object describing \" +\n                            \"the source\");\n        }\n\n        this.path = path;\n\n        if(eagerCompile) {\n            lib.withPrettyErrors(this.path,\n                                 this.env.dev,\n                                 this._compile.bind(this));\n        }\n        else {\n            this.compiled = false;\n        }\n    },\n\n    render: function(ctx, frame, cb) {\n        if (typeof ctx === 'function') {\n            cb = ctx;\n            ctx = {};\n        }\n        else if (typeof frame === 'function') {\n            cb = frame;\n            frame = null;\n        }\n\n        return lib.withPrettyErrors(this.path, this.env.dev, function() {\n            this.compile();\n\n            var context = new Context(ctx || {}, this.blocks);\n            var syncResult = null;\n\n            this.rootRenderFunc(this.env,\n                                context,\n                                frame || new Frame(),\n                                runtime,\n                                cb || function(err, res) {\n                                    if(err) { throw err; }\n                                    syncResult = res;\n                                });\n\n            return syncResult;\n        }.bind(this));\n    },\n\n    getExported: function(cb) {\n        this.compile();\n\n        // Run the rootRenderFunc to populate the context with exported vars\n        var context = new Context({}, this.blocks);\n        this.rootRenderFunc(this.env,\n                            context,\n                            new Frame(),\n                            runtime,\n                            function() {\n                                cb(null, context.getExported());\n                            });\n    },\n\n    compile: function() {\n        if(!this.compiled) {\n            this._compile();\n        }\n    },\n\n    _compile: function() {\n        var props;\n\n        if(this.tmplProps) {\n            props = this.tmplProps;\n        }\n        else {\n            var source = compiler.compile(this.tmplStr,\n                                          this.env.asyncFilters,\n                                          this.env.extensionsList,\n                                          this.path);\n            var func = new Function(source);\n            props = func();\n        }\n\n        this.blocks = this._getBlocks(props);\n        this.rootRenderFunc = props.root;\n        this.compiled = true;\n    },\n\n    _getBlocks: function(props) {\n        var blocks = {};\n\n        for(var k in props) {\n            if(k.slice(0, 2) == 'b_') {\n                blocks[k.slice(2)] = props[k];\n            }\n        }\n\n        return blocks;\n    }\n});\n\n// test code\n// var src = '{% macro foo() %}{% include \"include.html\" %}{% endmacro %}{{ foo() }}';\n// var env = new Environment(new builtin_loaders.FileSystemLoader('../tests/templates', true), { dev: true });\n// console.log(env.renderString(src, { name: 'poop' }));\n\nmodules['environment'] = {\n    Environment: Environment,\n    Template: Template\n};\n})();\nvar nunjucks;\n\nvar lib = modules[\"lib\"];\nvar env = modules[\"environment\"];\nvar compiler = modules[\"compiler\"];\nvar parser = modules[\"parser\"];\nvar lexer = modules[\"lexer\"];\nvar runtime = modules[\"runtime\"];\nvar Loader = modules[\"loader\"];\nvar loaders = modules[\"loaders\"];\nvar precompile = modules[\"precompile\"];\n\nnunjucks = {};\nnunjucks.Environment = env.Environment;\nnunjucks.Template = env.Template;\n\nnunjucks.Loader = Loader;\nnunjucks.FileSystemLoader = loaders.FileSystemLoader;\nnunjucks.WebLoader = loaders.WebLoader;\n\nnunjucks.compiler = compiler;\nnunjucks.parser = parser;\nnunjucks.lexer = lexer;\nnunjucks.runtime = runtime;\n\n// A single instance of an environment, since this is so commonly used\n\nvar e;\nnunjucks.configure = function(templatesPath, opts) {\n    opts = opts || {};\n    if(lib.isObject(templatesPath)) {\n        opts = templatesPath;\n        templatesPath = null;\n    }\n\n    var noWatch = 'watch' in opts ? !opts.watch : false;\n    var loader = loaders.FileSystemLoader || loaders.WebLoader;\n    e = new env.Environment(new loader(templatesPath, noWatch), opts);\n\n    if(opts && opts.express) {\n        e.express(opts.express);\n    }\n\n    return e;\n};\n\nnunjucks.compile = function(src, env, path, eagerCompile) {\n    if(!e) {\n        nunjucks.configure();\n    }\n    return new nunjucks.Template(src, env, path, eagerCompile);\n};\n\nnunjucks.render = function(name, ctx, cb) {\n    if(!e) {\n        nunjucks.configure();\n    }\n\n    return e.render(name, ctx, cb);\n};\n\nnunjucks.renderString = function(src, ctx, cb) {\n    if(!e) {\n        nunjucks.configure();\n    }\n\n    return e.renderString(src, ctx, cb);\n};\n\nif(precompile) {\n    nunjucks.precompile = precompile.precompile;\n    nunjucks.precompileString = precompile.precompileString;\n}\n\nnunjucks.require = function(name) { return modules[name]; };\n\nif(typeof define === 'function' && define.amd) {\n    define(function() { return nunjucks; });\n}\nelse {\n    window.nunjucks = nunjucks;\n    if(typeof module !== 'undefined') module.exports = nunjucks;\n}\n\n})();\n",
    "(function(global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  }\n  else if (typeof module === \"object\" && module && typeof module.exports === \"object\") {\n    module.exports = factory();\n  } else {\n    global.analytics = factory();\n  }\n}(this, function() {\n\n  // Make sure _gaq is on the global so we don't die trying to access it\n  if(!this._gaq) {\n    this._gaq = [];\n  }\n\n  // Make sure optimizely is on the global so we don't die trying to access it\n  if(!this.optimizely) {\n    this.optimizely = [];\n  }\n\n  // Use hostname for GA Category\n  var _category = location.hostname,\n      _redacted = \"REDACTED (Potential Email Address)\";\n\n  /**\n   * To Title Case 2.1 - http://individed.com/code/to-title-case/\n   * Copyright 2008-2013 David Gouch. Licensed under the MIT License.\n   * https://github.com/gouch/to-title-case\n   */\n  function toTitleCase(s){\n    var smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\\.?|via)$/i;\n    s = trim(s);\n\n    return s.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, function(match, index, title){\n      if (index > 0 &&\n          index + match.length !== title.length &&\n          match.search(smallWords) > -1 &&\n          title.charAt(index - 2) !== \":\" &&\n          (title.charAt(index + match.length) !== '-' || title.charAt(index - 1) === '-') &&\n          title.charAt(index - 1).search(/[^\\s-]/) < 0) {\n        return match.toLowerCase();\n      }\n\n      if (match.substr(1).search(/[A-Z]|\\../) > -1) {\n        return match;\n      }\n\n      return match.charAt(0).toUpperCase() + match.substr(1);\n    });\n  }\n\n  // GA strings need to have leading/trailing whitespace trimmed, and not all\n  // browsers have String.prototoype.trim().\n  function trim(s) {\n    return s.replace(/^\\s+|\\s+$/g, '');\n  }\n\n  // See if s could be an email address. We don't want to send personal data like email.\n  function mightBeEmail(s) {\n    // There's no point trying to validate rfc822 fully, just look for ...@...\n    return (/[^@]+@[^@]+/).test(s);\n  }\n\n  function warn(msg) {\n    console.warn(\"[analytics] \" + msg);\n  }\n\n  // Support both types of Google Analytics Event Tracking, see:\n  // ga.js - https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide\n  // analytics.js - https://developers.google.com/analytics/devguides/collection/analyticsjs/events\n  function _gaEvent(options) {\n    // If the new analytics.js API is present, fire this event using ga().\n    if(typeof ga === \"function\") {\n      // Transform the argument array to match the expected call signature for ga(), see:\n      // https://developers.google.com/analytics/devguides/collection/analyticsjs/events#overview\n      var fieldObject = {\n        'hitType': 'event',\n        'eventCategory': _category,\n        'eventAction': options.action\n      };\n      if(options.label) {\n        fieldObject['eventLabel'] = options.label;\n      }\n      if(options.value || options.value === 0) {\n        fieldObject['eventValue'] = options.value;\n      }\n      if(options.nonInteraction === true) {\n        fieldObject['nonInteraction'] = 1;\n      }\n      ga('send', fieldObject);\n    }\n\n    // Also support the old API. Google suggests firing data at both to be the right thing.\n    var eventArgs = ['_trackEvent', _category, options.action];\n    if(options.label) {\n      eventArgs[3] = options.label;\n    }\n    if(options.value || options.value === 0) {\n      eventArgs[4] = options.value;\n    }\n    if(options.nonInteraction === true) {\n      eventArgs[5] = true;\n    }\n    _gaq.push(eventArgs);\n  }\n\n  function event(action, options) {\n    options = options || {};\n    var eventOptions = {},\n        label = options.label,\n        value = options.value,\n        // Support both forms to deal with typos between the 2 APIs\n        nonInteraction = options.noninteraction || options.nonInteraction;\n\n    if(!action) {\n      warn(\"Expected `action` arg.\");\n      return;\n    }\n    if(mightBeEmail(action)) {\n      warn(\"`action` arg looks like an email address, redacting.\");\n      action = _redacted;\n    }\n    eventOptions.action = toTitleCase(action);\n\n    // label: An optional string to provide additional dimensions to the event data.\n    if(label) {\n      if(typeof label !== \"string\") {\n        warn(\"Expected `label` arg to be a String.\");\n      } else {\n        if(mightBeEmail(label)) {\n          warn(\"`label` arg looks like an email address, redacting.\");\n          label = _redacted;\n        }\n        eventOptions.label = trim(label);\n      }\n    }\n\n    // value: An optional integer that you can use to provide numerical data about\n    // the user event.\n    if(value || value === 0) {\n      if(typeof value !== \"number\") {\n        warn(\"Expected `value` arg to be a Number.\");\n      } else {\n        // Force value to int\n        eventOptions.value = value|0;\n      }\n    }\n\n    // noninteraction: An optional boolean that when set to true, indicates that\n    // the event hit will not be used in bounce-rate calculation.\n    if(nonInteraction) {\n      if(typeof nonInteraction !== \"boolean\") {\n        warn(\"Expected `noninteraction` arg to be a Boolean.\");\n      } else {\n        eventOptions.nonInteraction = nonInteraction === true;\n      }\n    }\n\n    _gaEvent(eventOptions);\n  }\n\n  // Use a consistent prefix and check if arg starts with a forward slash\n  function prefixVirtualPageview(s) {\n    // Bail if s is already prefixed.\n    if(/^\\/virtual\\//.test(s)) {\n      return s;\n    }\n    // Make sure s has a leading / then add prefix and return\n    s = s.replace(/^[/]?/, '/');\n    return '/virtual' + s;\n  }\n\n  // Support both types of Google Analytics Tracking, see:\n  // ga.js - https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiBasicConfiguration#_gat.GA_Tracker_._trackPageview\n  // analytics.js - https://developers.google.com/analytics/devguides/collection/analyticsjs/pages\n  function _gaVirtualPageView(options) {\n    // If the new analytics.js API is present, fire this event using ga().\n    if(typeof ga === \"function\") {\n      // Transform the argument array to match the expected call signature for ga():\n      // https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference\n      var fieldObject = {\n        'hitType': 'pageview',\n        'page': options.virtualPagePath\n      };\n      ga('send', fieldObject);\n    }\n\n    // Also support the old API. Google suggests firing data at both to be the right thing.\n    var eventArgs = ['_trackPageview', options.virtualPagePath];\n    _gaq.push(eventArgs);\n  }\n\n  function virtualPageview(virtualPagePath) {\n    if(!virtualPagePath) {\n      warn(\"Expected `virtualPagePath` arg.\");\n      return;\n    }\n    virtualPagePath = trim(virtualPagePath);\n\n    var eventOptions = {};\n    eventOptions.virtualPagePath = prefixVirtualPageview(virtualPagePath);\n\n    _gaVirtualPageView(eventOptions);\n  }\n\n\n  function _optimizely(options) {\n    var eventArgs = ['trackEvent', options.action];\n\n    // check if we are giving this conversion financial value\n    if (options.revenue) {\n      var args = {\n        revenue: options.revenue\n      };\n      eventArgs[2] = args;\n    }\n\n    optimizely.push(eventArgs);\n  }\n\n  function conversionGoal(action, options) {\n    options = options || {};\n    var eventOptions = {},\n        valueInCents = options.valueInCents;\n\n    if(!action) {\n      warn(\"Expected `action` arg.\");\n      return;\n    }\n    eventOptions.action = trim(action);\n\n    // valueInCents: An optional integer to track revenue - for example from fundraising appeal.\n    if(valueInCents) {\n      if((typeof valueInCents === 'number') && (valueInCents % 1 === 0)) {\n        eventOptions.revenue = valueInCents;\n      } else {\n        warn(\"Expected `valueInCents` arg to be an integer.\");\n      }\n    }\n\n    _optimizely(eventOptions);\n  }\n\n  return {\n    event: event,\n    virtualPageview: virtualPageview,\n    conversionGoal: conversionGoal\n  };\n\n}));\n",
    "var expressions = require('angular-expressions');\nvar EventEmitter = require('events').EventEmitter;\n\nvar nunjucks = require('nunjucks');\nvar url = require('url');\nvar util = require('util');\nvar wmLoginCore = require('../core');\n\nfunction _each(baseEl, selector, cb) {\n  if (!baseEl) {\n    return;\n  }\n  var els = baseEl.querySelectorAll(selector);\n  if (!els) {\n    return;\n  }\n\n  for (var i = 0; i < els.length; i++) {\n    cb(i, els[i]);\n  }\n}\n\nvar lang_data = {\n  'en-US': require('../../locale/en_US/webmaker-login.json')\n};\nvar template = new nunjucks.Environment();\ntemplate.addFilter('i18n', function (key) {\n  return lang_data['en-US'][key].message;\n});\nvar template_options = {\n  lang: 'en-US'\n};\nexpressions.filters.i18n = function (key) {\n  return lang_data['en-US'][key].message;\n};\n\nvar ui = {\n  create: template.renderString(\"<div class=\\\"modal-header\\\">\\n  <button ng-click=\\\"close()\\\" ng-hide=\\\"\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">&times;</button>\\n  <h3 class=\\\"modal-title\\\" ng-hide=\\\"currentState === MODALSTATE.welcome\\\">\\n    <a href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-left\\\">{{ 'Cancel' | i18n }}</a>\\n    <span class=\\\"modal-title-center\\\">{{ 'webmakerAuthCreateWelcome' | i18n }}</span>\\n    <button\\n      ng-show=\\\"currentState === MODALSTATE.inputEmail\\\"\\n      href=\\\"#\\\" ng-click=\\\"submitEmail()\\\" ng-disabled=\\\"!user.email || form.user.$error.accountExists || form.user.$error.invalidEmail\\\" tabindex=\\\"3\\\" class=\\\"btn-link modal-title-right\\\">{{ 'Next' | i18n }}</button>\\n    <button\\n      ng-show=\\\"currentState === MODALSTATE.inputUsername\\\"\\n      ng-disabled=\\\"!user.username || form.user.$error.invalidUsername || form.user.$error.usernameTaken || sendingRequest\\\" ng-click=\\\"submitUser()\\\" class=\\\"btn-link create-user modal-title-right\\\" tabindex=\\\"5\\\">{{ 'Sign up' | i18n }}</button>\\n  </h3>\\n  <h3 class=\\\"modal-title\\\" ng-show=\\\"currentState === MODALSTATE.welcome\\\">\\n    <a href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-left\\\">{{ 'Cancel' | i18n }}</a>\\n    <span>{{ 'webmakerAuthWelcome' | i18n }}</span>\\n    <a href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-right\\\">{{ 'Done' | i18n }}</a>\\n  </h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n  <form class=\\\"form\\\" name=\\\"form.user\\\" novalidate>\\n    <div ng-show=\\\"currentState === MODALSTATE.inputEmail\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"webmaker-login-email\\\">{{ 'Email' | i18n }}</label>\\n        <input id=\\\"webmaker-login-email\\\" ng-model=\\\"user.email\\\" ng-keyup=\\\"validateEmail();\\\" type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"email\\\" autocomplete=\\\"off\\\" autofocus tabindex=\\\"1\\\" required focus-on=\\\"create-user-email\\\">\\n      </div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.agreeToTerms\\\" ng-bind-html=\\\"'webmakerAuthAgreeError' | i18n\\\"></div>\\n      <div class=\\\"alert alert-warning\\\" ng-show=\\\"form.user.$error.accountExists\\\" bind-trusted-html=\\\"'WebmakerAccountExists' | i18n\\\"></div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.invalidEmail\\\" ng-bind-html=\\\"'NotAnEmail' | i18n\\\"></div>\\n      <div class=\\\"terms-checkbox checkbox\\\">\\n        <input id=\\\"agree-to-terms\\\" ng-model=\\\"user.agree\\\" type=\\\"checkbox\\\" ng-disabled=\\\"form.user.$error.accountExists\\\" ng-change=\\\"agreeToTermsChanged();\\\" name=\\\"agree\\\" tabindex=\\\"2\\\">\\n        <label for=\\\"agree-to-terms\\\" tabindex=\\\"2\\\">\\n          <div><span></span></div>\\n          <span ng-bind-html=\\\"'webmakerAuthAgreeToTerms' | i18n\\\"></span>\\n        </label>\\n      </div>\\n      <div class=\\\"mailing-list-checkbox checkbox\\\">\\n        <input id=\\\"subscribe-to-list\\\" ng-model=\\\"user.subscribeToList\\\" type=\\\"checkbox\\\" ng-disabled=\\\"form.user.$error.accountExists\\\" name=\\\"subscribeToList\\\" tabindex=\\\"2\\\">\\n        <label for=\\\"subscribe-to-list\\\" tabindex=\\\"2\\\">\\n          <div><span></span></div>\\n          <span ng-bind-html=\\\"'webmakerAuthMailingList' | i18n\\\"></span>\\n        </label>\\n      </div>\\n      <div class=\\\"cta-links clearfix\\\">\\n        <button ng-click=\\\"submitEmail()\\\" ng-disabled=\\\"!user.email || form.user.$error.accountExists || form.user.$error.invalidEmail\\\" class=\\\"create-user btn btn-primary hidden-xs-login\\\" type=\\\"button\\\" tabindex=\\\"3\\\">{{ 'Sign up' | i18n }}</button>\\n      </div>\\n    </div>\\n\\n    <div ng-show=\\\"currentState === MODALSTATE.inputUsername\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"pre-username\\\">{{ 'webmakerAuthChooseUsername' | i18n }}</label>\\n        <label for=\\\"username\\\" class=\\\"hidden-xs-login\\\">webmaker.org/user/</label>\\n        <input ng-model=\\\"user.username\\\" name=\\\"username\\\" ng-change=\\\"validateUsername()\\\" class=\\\"form-control username\\\" autocomplete=\\\"off\\\" required autofocus tabindex=\\\"4\\\" focus-on=\\\"create-user-username\\\" maxlength=\\\"20\\\" minlength=\\\"1\\\">\\n        <div class=\\\"visible-xs help-block text-center\\\">webmaker.org/user/<strong class=\\\"username-with-url\\\">{{user.username}}</strong></div>\\n      </div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.invalidUsername\\\" ng-bind-html=\\\"'webmakerAuthUsernameInvalid' | i18n\\\"></div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.serverError\\\" ng-bind-html=\\\"'webmakerAuthServerError' | i18n\\\"></div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.usernameTaken\\\" ng-bind-html=\\\"'webmakerAuthTakenError' | i18n\\\"></div>\\n      <button ng-disabled=\\\"!user.username || form.user.$error.invalidUsername || form.user.$error.usernameTaken || sendingRequest\\\" ng-click=\\\"submitUser()\\\" class=\\\"create-user btn btn-primary hidden-xs-login\\\" type=\\\"button\\\" tabindex=\\\"5\\\">{{ 'webmakerAuthCreateAccount' | i18n }}</button>\\n    </div>\\n\\n    <div ng-show=\\\"currentState === MODALSTATE.welcome\\\" class=\\\"welcome\\\">\\n      <p class=\\\"subheadline\\\">{{ 'aboutWebmaker' | i18n }}</p>\\n\\n        <!-- Goggles -->\\n        <div class=\\\"tool-desc\\\" ng-show=\\\"welcomeModalIdx === 0\\\">\\n          <div class=\\\"icon\\\">\\n            <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n            <svg width=\\\"276px\\\" height=\\\"210px\\\" viewBox=\\\"0 0 276 210\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n              <title>Goggles</title>\\n              <desc>XRay Goggles.</desc>\\n              <defs></defs>\\n              <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n                <g id=\\\"Artboard-27\\\" sketch:type=\\\"MSArtboardGroup\\\" transform=\\\"translate(-8.000000, -25.000000)\\\">\\n                  <g id=\\\"goggles\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(8.000000, 25.000000)\\\">\\n                    <path d=\\\"M256.460878,100.757257 C254.300432,98.595 248.740338,93.6349115 244.461405,91.3416372 L87.2010811,2.31836283 C82.0372703,-0.216504425 74.6962297,-1.41238938 69.0606081,4.21300885 C63.4091351,9.83747788 64.2679054,16.7711947 66.8740541,21.7935398 L156.207608,178.545531 C158.362459,181.89531 163.757514,188.816947 165.933811,190.960619 C190.938851,215.872566 231.455838,215.88 256.460878,190.960619 C281.469649,166.057965 281.469649,125.658982 256.460878,100.757257\\\" id=\\\"Fill-1\\\" fill=\\\"#ECA5C0\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M206.411635,4.22137168 C200.776946,-1.41238938 193.033095,-0.216504425 188.474432,2.21336283 L32.3423514,90.5518142 C27.5645676,93.5884513 21.1746081,98.595 19.0113649,100.757257 C-5.99367568,125.658982 -5.99367568,166.057965 19.0113649,190.960619 C44.015473,215.872566 84.5389865,215.872566 109.525378,190.960619 C111.700743,188.816947 116.493446,182.464912 118.293041,180.08708 L208.316595,22.2302655 C211.235108,17.7031858 212.050986,9.83747788 206.411635,4.22137168\\\" id=\\\"Fill-2\\\" fill=\\\"#59B3D7\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M137.699757,146.04292 L187.347122,58.9867699 L137.736122,30.9025221 L88.0896892,58.9923451 L137.699757,146.04292\\\" id=\\\"Fill-3\\\" fill=\\\"#4E72A7\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M19.0113649,190.960619 C-5.99367568,166.057965 -5.99367568,125.658982 19.0113649,100.757257 C44.015473,75.8360177 84.5389865,75.8360177 109.525378,100.757257 C134.526689,125.658982 134.526689,166.057965 109.525378,190.960619 C84.5389865,215.872566 44.015473,215.872566 19.0113649,190.960619\\\" id=\\\"Fill-4\\\" fill=\\\"#369ECD\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M256.526149,190.960619 C231.520176,215.88 191.001324,215.872566 165.995351,190.960619 C140.994041,166.057965 140.994041,125.667345 165.995351,100.747965 C191.001324,75.8360177 231.520176,75.8360177 256.526149,100.757257 C281.532122,125.658982 281.532122,166.057965 256.526149,190.960619\\\" id=\\\"Fill-5\\\" fill=\\\"#E36D9E\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M235.671365,172.371903 C222.429892,185.550796 200.976486,185.550796 187.746203,172.371903 C174.501,159.16885 174.501,137.799027 187.746203,124.595044 C200.976486,111.409646 222.429892,111.409646 235.671365,124.612699 C248.903514,137.799027 248.903514,159.16885 235.671365,172.371903\\\" id=\\\"Fill-6\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M211.686405,130.685973 C197.874284,130.685973 186.669243,142.526814 186.669243,147.321504 C186.669243,148.542478 187.402135,149.697478 188.704743,150.735398 C189.952338,148.202389 191.521622,145.792035 193.651297,143.673451 C195.952541,141.379248 198.579203,139.622124 201.369041,138.337035 C195.774446,143.999602 195.790297,153.095575 201.451095,158.720973 C207.112824,164.37146 216.304743,164.37146 221.987919,158.720973 C227.658041,153.061195 227.658041,143.897389 221.987919,138.246903 C221.513311,137.773938 220.980892,137.392035 220.455,137.00177 C224.543716,138.231106 228.400257,140.452832 231.635797,143.673451 C233.390635,145.410133 234.738,147.370752 235.893284,149.405708 C236.381878,148.741327 236.7045,148.044425 236.7045,147.321504 C236.7045,142.526814 225.511581,130.685973 211.686405,130.685973 L211.686405,130.685973 Z M220.613514,144.661195 C220.613514,146.779779 218.886649,148.491372 216.75977,148.491372 C214.626365,148.491372 212.908824,146.779779 212.908824,144.661195 C212.908824,142.542611 214.626365,140.822655 216.75977,140.822655 C218.886649,140.822655 220.613514,142.542611 220.613514,144.661195 L220.613514,144.661195 Z\\\" id=\\\"Fill-7\\\" fill=\\\"#E36D9E\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M86.2761081,172.371903 C73.0467568,185.550796 51.5765676,185.550796 38.3490811,172.371903 C25.1048108,159.16885 25.1048108,137.799027 38.3490811,124.595044 C51.5765676,111.409646 73.0467568,111.409646 86.2761081,124.612699 C99.5073243,137.799027 99.5073243,159.16885 86.2761081,172.371903\\\" id=\\\"Fill-8\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M62.3051351,130.685973 C48.479027,130.685973 37.2861081,142.526814 37.2861081,147.321504 C37.2861081,148.542478 38.0031486,149.697478 39.2871081,150.735398 C40.5552162,148.202389 42.1384865,145.792035 44.2373919,143.673451 C46.5367703,141.38854 49.1615676,139.630487 51.9476757,138.347257 C46.3754595,144.014469 46.3978378,153.095575 52.0334595,158.720973 C57.7026486,164.37146 66.9085541,164.37146 72.5768108,158.720973 C78.2599865,153.061195 78.2599865,143.897389 72.5768108,138.246903 C72.0938108,137.765575 71.553,137.383673 71.0233784,136.984115 C75.134473,138.214381 79.0087297,140.440752 82.254527,143.673451 C83.9897838,145.410133 85.3362162,147.370752 86.5138784,149.405708 C86.981027,148.741327 87.3111081,148.044425 87.3111081,147.321504 C87.3111081,142.526814 76.1107297,130.685973 62.3051351,130.685973 L62.3051351,130.685973 Z M71.2163919,144.661195 C71.2163919,146.779779 69.4913919,148.491372 67.3645135,148.491372 C65.2478919,148.491372 63.5089054,146.779779 63.5089054,144.661195 C63.5089054,142.542611 65.2478919,140.822655 67.3645135,140.822655 C69.4913919,140.822655 71.2163919,142.542611 71.2163919,144.661195 L71.2163919,144.661195 Z\\\" id=\\\"Fill-9\\\" fill=\\\"#369ECD\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                  </g>\\n                </g>\\n              </g>\\n            </svg>\\n          </div>\\n          <h4>{{ 'XRay-Goggles' | i18n }}</h4>\\n          <p>{{ 'AboutGoggles' | i18n }}</p>\\n          <div class=\\\"clearfix\\\">\\n            <a class=\\\"create-user btn btn-primary\\\" type=\\\"button\\\" href=\\\"https://goggles.webmaker.org\\\" autofocus>{{'TryGoggles' | i18n }}</a>\\n            <a href=\\\"https://webmaker.org/explore\\\" class=\\\"explore-link\\\">{{ 'ExploreWebmaker' | i18n }}</a>\\n          </div>\\n        </div>\\n\\n        <!-- Resources -->\\n        <div class=\\\"tool-desc\\\" ng-show=\\\"welcomeModalIdx === 1\\\">\\n          <div class=\\\"icon\\\">\\n            <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n            <svg width=\\\"269px\\\" height=\\\"212px\\\" viewBox=\\\"0 0 269 212\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n                <title>Webmaker Resources</title>\\n                <desc></desc>\\n                <defs></defs>\\n                <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n                  <g id=\\\"resources-illustration\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(1.000000, 1.000000)\\\">\\n                      <path d=\\\"M156.358,204.482 C156.358,208.067 153.453,210.974 149.867,210.974 L6.357,210.974 C2.773,210.974 -0.133,208.067 -0.133,204.482 L-0.133,27.567 C-0.133,23.981 2.773,21.074 6.357,21.074 L149.867,21.074 C153.453,21.074 156.358,23.981 156.358,27.567 L156.358,204.482\\\" id=\\\"Fill-1\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M3,45.473 L152,45.473 L152,91.473 L3,91.473 L3,45.473 Z\\\" id=\\\"Fill-2\\\" fill=\\\"#739AB1\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M4,24.473 L154,24.473 L154,45.473 L4,45.473 L4,24.473 Z\\\" id=\\\"Fill-3\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M6.021,30.993 C6.021,29.197 7.477,27.741 9.273,27.741 C11.068,27.741 12.523,29.197 12.523,30.993 C12.523,32.789 11.068,34.244 9.273,34.244 C7.477,34.244 6.021,32.789 6.021,30.993\\\" id=\\\"Fill-4\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M14.395,30.993 C14.395,29.197 15.852,27.741 17.647,27.741 C19.443,27.741 20.898,29.197 20.898,30.993 C20.898,32.789 19.443,34.244 17.647,34.244 C15.852,34.244 14.395,32.789 14.395,30.993\\\" id=\\\"Fill-5\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M22.769,30.993 C22.769,29.197 24.225,27.741 26.02,27.741 C27.816,27.741 29.272,29.197 29.272,30.993 C29.272,32.789 27.816,34.244 26.02,34.244 C24.225,34.244 22.769,32.789 22.769,30.993\\\" id=\\\"Fill-6\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M49.98,118.367 L137.896,118.367 M49.98,133.901 L137.896,133.901\\\" id=\\\"Stroke-7\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M22.239,115.145 C22.239,111.583 25.125,108.697 28.687,108.697 C32.248,108.697 35.133,111.583 35.133,115.145 C35.133,118.706 32.248,121.592 28.687,121.592 C25.125,121.592 22.239,118.706 22.239,115.145\\\" id=\\\"Fill-8\\\" fill=\\\"#739AB1\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M28.687,131.554 C25.125,131.554 22.239,134.44 22.239,138.001 C22.239,141.563 25.125,144.449 28.687,144.449 C32.248,144.449 35.133,141.563 35.133,138.001 C35.133,134.44 32.248,131.554 28.687,131.554 L28.687,131.554 Z M28.687,133.313 C31.271,133.313 33.375,135.415 33.375,138.001 C33.375,140.587 31.271,142.691 28.687,142.691 C26.101,142.691 23.998,140.587 23.998,138.001 C23.998,135.415 26.101,133.313 28.687,133.313 L28.687,133.313 Z\\\" id=\\\"Fill-9\\\" fill=\\\"#739AB1\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M28.685,132.472 L28.685,118.076\\\" id=\\\"Stroke-10\\\" stroke=\\\"#739AB1\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M49.98,162.908 L137.896,162.908 M49.98,178.442 L137.896,178.442\\\" id=\\\"Stroke-11\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M22.239,159.685 C22.239,156.124 25.125,153.238 28.687,153.238 C32.248,153.238 35.133,156.124 35.133,159.685 C35.133,163.246 32.248,166.133 28.687,166.133 C25.125,166.133 22.239,163.246 22.239,159.685\\\" id=\\\"Fill-13\\\" fill=\\\"#739AB1\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M28.687,176.094 C25.125,176.094 22.239,178.981 22.239,182.542 C22.239,186.103 25.125,188.989 28.687,188.989 C32.248,188.989 35.133,186.103 35.133,182.542 C35.133,178.981 32.248,176.094 28.687,176.094 L28.687,176.094 Z M28.687,177.853 C31.271,177.853 33.375,179.956 33.375,182.542 C33.375,185.128 31.271,187.231 28.687,187.231 C26.101,187.231 23.998,185.128 23.998,182.542 C23.998,179.956 26.101,177.853 28.687,177.853 L28.687,177.853 Z\\\" id=\\\"Fill-14\\\" fill=\\\"#739AB1\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M28.685,177.013 L28.685,162.616\\\" id=\\\"Stroke-15\\\" stroke=\\\"#739AB1\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M150.202,32.43 C150.202,34.696 148.365,36.533 146.101,36.533 L64.628,36.533 C62.363,36.533 60.526,34.696 60.526,32.43 L60.526,31.844 C60.526,29.579 62.363,27.741 64.628,27.741 L146.101,27.741 C148.365,27.741 150.202,29.579 150.202,31.844 L150.202,32.43\\\" id=\\\"Fill-16\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M149.867,21.074 L6.357,21.074 C2.773,21.074 -0.133,23.981 -0.133,27.567 L-0.133,204.482 C-0.133,208.067 2.773,210.974 6.357,210.974 L149.867,210.974 C153.453,210.974 156.358,208.067 156.358,204.482 L156.358,27.567 C156.358,23.981 153.453,21.074 149.867,21.074 L149.867,21.074 Z M149.867,26.349 C150.538,26.349 151.083,26.895 151.083,27.567 L151.083,204.482 C151.083,205.153 150.538,205.698 149.867,205.698 L6.357,205.698 C5.687,205.698 5.142,205.153 5.142,204.482 L5.142,27.567 C5.142,26.895 5.687,26.349 6.357,26.349 L149.867,26.349 L149.867,26.349 Z\\\" id=\\\"Fill-17\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M212.625,183.381 C212.625,186.967 209.72,189.874 206.135,189.874 L62.624,189.874 C59.04,189.874 56.133,186.967 56.133,183.381 L56.133,6.466 C56.133,2.881 59.04,-0.026 62.624,-0.026 L206.135,-0.026 C209.72,-0.026 212.625,2.881 212.625,6.466 L212.625,183.381\\\" id=\\\"Fill-18\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M59,24.473 L208,24.473 L208,70.473 L59,70.473 L59,24.473 Z\\\" id=\\\"Fill-19\\\" fill=\\\"#FF6969\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M61,3.473 L210,3.473 L210,24.473 L61,24.473 L61,3.473 Z\\\" id=\\\"Fill-20\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M62.288,9.893 C62.288,8.098 63.744,6.641 65.54,6.641 C67.335,6.641 68.79,8.098 68.79,9.893 C68.79,11.689 67.335,13.144 65.54,13.144 C63.744,13.144 62.288,11.689 62.288,9.893\\\" id=\\\"Fill-21\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M70.662,9.893 C70.662,8.098 72.118,6.641 73.914,6.641 C75.709,6.641 77.165,8.098 77.165,9.893 C77.165,11.689 75.709,13.144 73.914,13.144 C72.118,13.144 70.662,11.689 70.662,9.893\\\" id=\\\"Fill-22\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M79.036,9.893 C79.036,8.098 80.492,6.641 82.287,6.641 C84.083,6.641 85.539,8.098 85.539,9.893 C85.539,11.689 84.083,13.144 82.287,13.144 C80.492,13.144 79.036,11.689 79.036,9.893\\\" id=\\\"Fill-23\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M106.246,97.268 L194.162,97.268 M106.246,112.801 L194.162,112.801\\\" id=\\\"Stroke-24\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M78.506,94.045 C78.506,90.484 81.392,87.598 84.954,87.598 C88.515,87.598 91.399,90.484 91.399,94.045 C91.399,97.606 88.515,100.492 84.954,100.492 C81.392,100.492 78.506,97.606 78.506,94.045\\\" id=\\\"Fill-25\\\" fill=\\\"#FF6969\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M84.954,110.453 C81.392,110.453 78.506,113.34 78.506,116.902 C78.506,120.463 81.392,123.349 84.954,123.349 C88.515,123.349 91.399,120.463 91.399,116.902 C91.399,113.34 88.515,110.453 84.954,110.453 L84.954,110.453 Z M84.954,112.212 C87.538,112.212 89.641,114.316 89.641,116.902 C89.641,119.488 87.538,121.59 84.954,121.59 C82.368,121.59 80.264,119.488 80.264,116.902 C80.264,114.316 82.368,112.212 84.954,112.212 L84.954,112.212 Z\\\" id=\\\"Fill-26\\\" fill=\\\"#FF6969\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M84.952,111.372 L84.952,96.976\\\" id=\\\"Stroke-27\\\" stroke=\\\"#FF6969\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M106.246,141.808 L194.162,141.808 M106.246,157.341 L194.162,157.341\\\" id=\\\"Stroke-28\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M78.506,138.585 C78.506,135.024 81.392,132.137 84.954,132.137 C88.515,132.137 91.399,135.024 91.399,138.585 C91.399,142.147 88.515,145.033 84.954,145.033 C81.392,145.033 78.506,142.147 78.506,138.585\\\" id=\\\"Fill-29\\\" fill=\\\"#FF6969\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M84.954,154.994 C81.392,154.994 78.506,157.88 78.506,161.442 C78.506,165.003 81.392,167.89 84.954,167.89 C88.515,167.89 91.399,165.003 91.399,161.442 C91.399,157.88 88.515,154.994 84.954,154.994 L84.954,154.994 Z M84.954,156.753 C87.538,156.753 89.641,158.856 89.641,161.442 C89.641,164.028 87.538,166.131 84.954,166.131 C82.368,166.131 80.264,164.028 80.264,161.442 C80.264,158.856 82.368,156.753 84.954,156.753 L84.954,156.753 Z\\\" id=\\\"Fill-30\\\" fill=\\\"#FF6969\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M84.952,155.912 L84.952,141.516\\\" id=\\\"Stroke-31\\\" stroke=\\\"#FF6969\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M206.469,11.33 C206.469,13.596 204.632,15.433 202.367,15.433 L120.895,15.433 C118.63,15.433 116.792,13.596 116.792,11.33 L116.792,10.744 C116.792,8.479 118.63,6.641 120.895,6.641 L202.367,6.641 C204.632,6.641 206.469,8.479 206.469,10.744 L206.469,11.33\\\" id=\\\"Fill-32\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M206.135,-0.026 L62.624,-0.026 C59.04,-0.026 56.133,2.881 56.133,6.466 L56.133,183.381 C56.133,186.967 59.04,189.874 62.624,189.874 L206.135,189.874 C209.72,189.874 212.625,186.967 212.625,183.381 L212.625,6.466 C212.625,2.881 209.72,-0.026 206.135,-0.026 L206.135,-0.026 Z M206.135,5.249 C206.805,5.249 207.35,5.795 207.35,6.466 L207.35,183.381 C207.35,184.053 206.805,184.599 206.135,184.599 L62.624,184.599 C61.954,184.599 61.408,184.053 61.408,183.381 L61.408,6.466 C61.408,5.795 61.954,5.249 62.624,5.249 L206.135,5.249 L206.135,5.249 Z\\\" id=\\\"Fill-33\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M267.134,204.482 C267.134,208.067 264.229,210.974 260.643,210.974 L117.132,210.974 C113.548,210.974 110.642,208.067 110.642,204.482 L110.642,27.567 C110.642,23.981 113.548,21.074 117.132,21.074 L260.643,21.074 C264.229,21.074 267.134,23.981 267.134,27.567 L267.134,204.482\\\" id=\\\"Fill-34\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M113,45.473 L263,45.473 L263,91.473 L113,91.473 L113,45.473 Z\\\" id=\\\"Fill-35\\\" fill=\\\"#00CEB8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M115,24.473 L264,24.473 L264,45.473 L115,45.473 L115,24.473 Z\\\" id=\\\"Fill-36\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M116.796,30.993 C116.796,29.197 118.252,27.741 120.048,27.741 C121.843,27.741 123.299,29.197 123.299,30.993 C123.299,32.789 121.843,34.244 120.048,34.244 C118.252,34.244 116.796,32.789 116.796,30.993\\\" id=\\\"Fill-37\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M125.17,30.993 C125.17,29.197 126.626,27.741 128.422,27.741 C130.218,27.741 131.673,29.197 131.673,30.993 C131.673,32.789 130.218,34.244 128.422,34.244 C126.626,34.244 125.17,32.789 125.17,30.993\\\" id=\\\"Fill-38\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M133.544,30.993 C133.544,29.197 135,27.741 136.795,27.741 C138.592,27.741 140.048,29.197 140.048,30.993 C140.048,32.789 138.592,34.244 136.795,34.244 C135,34.244 133.544,32.789 133.544,30.993\\\" id=\\\"Fill-39\\\" fill=\\\"#C4C4C4\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M160.754,118.367 L248.671,118.367 M160.754,133.901 L248.671,133.901\\\" id=\\\"Stroke-40\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M133.014,115.145 C133.014,111.583 135.9,108.697 139.462,108.697 C143.023,108.697 145.908,111.583 145.908,115.145 C145.908,118.706 143.023,121.592 139.462,121.592 C135.9,121.592 133.014,118.706 133.014,115.145\\\" id=\\\"Fill-41\\\" fill=\\\"#00CEB8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M139.462,131.554 C135.9,131.554 133.014,134.44 133.014,138.001 C133.014,141.563 135.9,144.449 139.462,144.449 C143.023,144.449 145.908,141.563 145.908,138.001 C145.908,134.44 143.023,131.554 139.462,131.554 L139.462,131.554 Z M139.462,133.313 C142.047,133.313 144.149,135.415 144.149,138.001 C144.149,140.587 142.047,142.691 139.462,142.691 C136.876,142.691 134.772,140.587 134.772,138.001 C134.772,135.415 136.876,133.313 139.462,133.313 L139.462,133.313 Z\\\" id=\\\"Fill-42\\\" fill=\\\"#00CEB8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M139.46,132.472 L139.46,118.076\\\" id=\\\"Stroke-43\\\" stroke=\\\"#00CEB8\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M160.754,162.908 L248.671,162.908 M160.754,178.442 L248.671,178.442\\\" id=\\\"Stroke-44\\\" stroke=\\\"#D6D6D6\\\" stroke-width=\\\"7.033\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M133.014,159.685 C133.014,156.124 135.9,153.238 139.462,153.238 C143.023,153.238 145.908,156.124 145.908,159.685 C145.908,163.246 143.023,166.133 139.462,166.133 C135.9,166.133 133.014,163.246 133.014,159.685\\\" id=\\\"Fill-46\\\" fill=\\\"#00CEB8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M139.462,176.094 C135.9,176.094 133.014,178.981 133.014,182.542 C133.014,186.103 135.9,188.989 139.462,188.989 C143.023,188.989 145.908,186.103 145.908,182.542 C145.908,178.981 143.023,176.094 139.462,176.094 L139.462,176.094 Z M139.462,177.853 C142.047,177.853 144.149,179.956 144.149,182.542 C144.149,185.128 142.047,187.231 139.462,187.231 C136.876,187.231 134.772,185.128 134.772,182.542 C134.772,179.956 136.876,177.853 139.462,177.853 L139.462,177.853 Z\\\" id=\\\"Fill-47\\\" fill=\\\"#00CEB8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M139.46,177.013 L139.46,162.616\\\" id=\\\"Stroke-48\\\" stroke=\\\"#00CEB8\\\" stroke-width=\\\"2.638\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M260.978,32.43 C260.978,34.696 259.141,36.533 256.875,36.533 L175.403,36.533 C173.138,36.533 171.301,34.696 171.301,32.43 L171.301,31.844 C171.301,29.579 173.138,27.741 175.403,27.741 L256.875,27.741 C259.141,27.741 260.978,29.579 260.978,31.844 L260.978,32.43\\\" id=\\\"Fill-49\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      <path d=\\\"M260.643,21.074 L117.132,21.074 C113.548,21.074 110.642,23.981 110.642,27.567 L110.642,204.482 C110.642,208.067 113.548,210.974 117.132,210.974 L260.643,210.974 C264.229,210.974 267.134,208.067 267.134,204.482 L267.134,27.567 C267.134,23.981 264.229,21.074 260.643,21.074 L260.643,21.074 Z M260.643,26.349 C261.313,26.349 261.858,26.895 261.858,27.567 L261.858,204.482 C261.858,205.153 261.313,205.698 260.643,205.698 L117.132,205.698 C116.462,205.698 115.917,205.153 115.917,204.482 L115.917,27.567 C115.917,26.895 116.462,26.349 117.132,26.349 L260.643,26.349 L260.643,26.349 Z\\\" id=\\\"Fill-50\\\" fill=\\\"#D6D6D6\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                  </g>\\n                </g>\\n            </svg>\\n          </div>\\n          <h4>{{ 'Resources' | i18n }}</h4>\\n          <p>{{ 'AboutResources' | i18n }}</p>\\n          <div class=\\\"clearfix\\\">\\n            <a class=\\\"create-user btn btn-primary\\\" type=\\\"button\\\" href=\\\"https://webmaker.org/resources\\\" autofocus>{{'VisitResources' | i18n }}</a>\\n            <a href=\\\"https://webmaker.org/explore\\\" class=\\\"explore-link\\\">{{ 'ExploreWebmaker' | i18n }}</a>\\n          </div>\\n        </div>\\n\\n        <!-- simplified CTA -->\\n        <div class=\\\"tool-desc\\\" ng-show=\\\"simpleCTA\\\">\\n          <div class=\\\"clearfix\\\">\\n            <button class=\\\"create-user btn btn-primary\\\" type=\\\"button\\\" href=\\\"#\\\" ng-click=\\\"close()\\\">{{ 'Lets Go!' | i18n }}</button>\\n            <a href=\\\"https://webmaker.org/explore\\\" class=\\\"explore-link\\\">{{ 'ExploreWebmaker' | i18n }}</a>\\n          </div>\\n        </div>\\n    </div>\\n  </form>\\n</div>\\n\", template_options),\n  login: template.renderString(\"<div class=\\\"modal-header\\\">\\n  <button ng-click=\\\"close()\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">&times;</button>\\n  <h3 class=\\\"modal-title\\\" ng-show=\\\"currentState === MODALSTATE.enterUid || currentState === MODALSTATE.enterPassword\\\">\\n    <button href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-left btn-link\\\">{{ 'Cancel' | i18n }}</button>\\n    <span class=\\\"modal-title-center\\\">{{ 'Sign in to Webmaker' | i18n }}</span>\\n    <button ng-show=\\\"currentState === MODALSTATE.enterUid\\\"\\n      ng-disabled=\\\"sendingRequest\\\"\\n      ng-click=\\\"submitUid()\\\"\\n      class=\\\"modal-title-right btn-link\\\">{{ 'Next' | i18n }}</button>\\n    <button ng-show=\\\"currentState === MODALSTATE.enterPassword\\\"\\n      class=\\\"modal-title-right btn-link\\\"\\n      ng-disabled=\\\"sendingRequest\\\"\\n      ng-click=\\\"user.password && submitPassword()\\\" tabindex=\\\"9\\\">{{ 'Submit' | i18n }}</button>\\n  </h3>\\n  <h3 class=\\\"modal-title\\\" ng-show=\\\"currentState === MODALSTATE.checkEmail || currentState === MODALSTATE.resetRequestSent || currentState === MODALSTATE.enterKey\\\">\\n    <a href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-left\\\">{{ 'Cancel' | i18n }}</a>\\n    <span class=\\\"modal-title-center\\\">{{ 'checkEmail' | i18n }}</span>\\n    <button\\n      ng-show=\\\"currentState === MODALSTATE.enterKey\\\"\\n      ng-disabled=\\\"sendingRequest\\\"\\n      ng-click=\\\"user.key && submitKey()\\\"\\n      tabindex=\\\"7\\\"\\n      class=\\\"submit-userid modal-title-right btn-link\\\">{{ 'Next' | i18n }}</button>\\n    <a\\n      class=\\\"modal-title-right\\\"\\n      ng-show=\\\"currentState === MODALSTATE.checkEmail\\\"\\n      ng-click=\\\"enterKey()\\\"\\n      tabindex=\\\"4\\\">{{ 'Next' | i18n }}</a>\\n    <a href=\\\"#\\\"\\n      ng-show=\\\"currentState === MODALSTATE.resetRequestSent\\\"\\n      ng-click=\\\"close()\\\" class=\\\"modal-title-right\\\">{{ 'Done' | i18n }}</a>\\n  </h3>\\n</div>\\n<div class=\\\"modal-body\\\">\\n  <form class=\\\"form\\\" name=\\\"form.user\\\" novalidate>\\n    <div class=\\\"alert alert-success\\\" ng-show=\\\"passwordWasReset && currentState === MODALSTATE.enterUid\\\" ng-bind-html=\\\"'Password Reset Success' | i18n\\\"></div>\\n    <div class=\\\"alert alert-danger\\\" ng-show=\\\"expiredLoginLink && currentState === MODALSTATE.enterUid\\\" ng-bind-html=\\\"'Expired Login Link' | i18n\\\"></div>\\n    <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.resetRequestFailed\\\" ng-bind-html=\\\"'resetRequestFailed' | i18n\\\"></div>\\n\\n    <!-- Enter uid -->\\n    <div ng-show=\\\"currentState === MODALSTATE.enterUid;\\\">\\n      <div class=\\\"form-group\\\">\\n        <label for=\\\"uid\\\">{{ 'EmailOrUsername' | i18n }}</label>\\n        <input name=\\\"uid\\\" class=\\\"form-control\\\" ng-model=\\\"user.uid\\\" autocomplete=\\\"on\\\" required tabindex=\\\"1\\\" autofocus=\\\"true\\\" focus-on=\\\"login-uid\\\" ng-keyup=\\\"$event.keyCode === 13 && !sendingRequest && submitUid()\\\">\\n      </div>\\n      <div class=\\\"alert alert-warning\\\" ng-show=\\\"form.user.$error.noAccount\\\" bind-trusted-html=\\\"'No account found for your uid' | i18n\\\"></div>\\n      <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.invalidUid\\\" ng-bind-html=\\\"'That does not look like an email address or username' | i18n\\\"></div>\\n      <div class=\\\"cta-links clearfix\\\">\\n        <button class=\\\"submit-userid btn btn-primary hidden-xs-login\\\" type=\\\"button\\\" ng-disabled=\\\"sendingRequest\\\" ng-click=\\\"submitUid()\\\" tabindex=\\\"2\\\">{{ 'Sign in' | i18n }}</button>\\n        <div ng-hide=\\\"disablePersona\\\">\\n          <p class=\\\"align-left\\\">{{ 'or' | i18n }}</p>\\n          <button type=\\\"button\\\" wm-persona-login class=\\\"btn btn-link\\\" ng-disabled=\\\"sendingRequest\\\" ng-click=\\\"usePersona();\\\" tabindex=\\\"3\\\">{{ 'log in with Persona' | i18n }}</button>\\n        </div>\\n      </div>\\n    </div>\\n    <!-- end enter uid -->\\n\\n    <!-- checkEmail begins -->\\n    <div class=\\\"checkEmail\\\" ng-show=\\\"currentState === MODALSTATE.checkEmail\\\">\\n      <div class=\\\"mailIcon clearfix\\\">\\n        <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n        <svg width=\\\"94px\\\" height=\\\"94px\\\" viewBox=\\\"0 0 94 94\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n            <title>Mail Icon</title>\\n            <desc></desc>\\n            <defs></defs>\\n            <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n              <g id=\\\"AC4\\\" sketch:type=\\\"MSArtboardGroup\\\" transform=\\\"translate(-126.000000, -92.000000)\\\">\\n                <g id=\\\"Mail-Icon\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(126.000000, 92.000000)\\\">\\n                    <circle id=\\\"Oval-1\\\" fill=\\\"#3FB58E\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"47\\\" cy=\\\"47\\\" r=\\\"47\\\"></circle>\\n                    <rect id=\\\"Rectangle-1\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\" x=\\\"18\\\" y=\\\"27\\\" width=\\\"59\\\" height=\\\"41\\\" rx=\\\"3\\\"></rect>\\n                    <path d=\\\"M21.0069321,27 C19.3462494,27 17.9900756,28.3368135 17.9778938,29.9953973 C17.9778938,29.9953973 17.9712616,30.8538058 17.9707031,31.0256348 C17.9688241,31.6037734 44.3277476,50.7739169 44.3277476,50.7739169 C45.6547338,51.7409595 47.981989,52.0459954 49.4771883,51.3411914 C49.4771883,51.3411914 52.3180561,50.8603167 59.4023438,44.0800781 C61.1871084,42.3719134 77.0395508,31.2178814 77.0395508,30.1010742 C77.0395508,29.644898 77.0391066,29.9910722 77.0391066,29.9910722 C77.0175086,28.3391486 75.6568485,27 73.9930679,27 L21.0069321,27 Z\\\" id=\\\"Rectangle-95\\\" fill=\\\"#F3F3F3\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M17.7634277,31.0032813 L46.7917565,50.276875 L75.0556641,31.3201563 L46.5782176,55.1035938 L17.7634277,31.0032813 Z\\\" id=\\\"Path-1\\\" fill=\\\"#D8D8D8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                </g>\\n              </g>\\n            </g>\\n        </svg>\\n        <p>{{ 'tokenMessage' | i18n }}</p>\\n      </div>\\n      <div class=\\\"enter-key hidden-xs-login\\\">\\n        <a ng-click=\\\"enterKey()\\\" tabindex=\\\"4\\\" ng-bind-html=\\\"'Enter key' | i18n\\\"></a>\\n      </div>\\n      <hr>\\n      <footer class=\\\"help-footer\\\">\\n        <p ng-bind-html=\\\"'trouble with email' | i18n\\\"></p>\\n      </footer>\\n    </div>\\n    <!-- checkEmail ends -->\\n\\n    <!-- enterToken begins -->\\n    <div class=\\\"enterToken\\\" ng-show=\\\"currentState === MODALSTATE.enterKey\\\">\\n      <div class=\\\"email-container\\\">\\n        <div class=\\\"mailIcon text-center\\\">\\n          <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n          <svg width=\\\"94px\\\" height=\\\"94px\\\" viewBox=\\\"0 0 94 94\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n              <title>Mail Icon</title>\\n              <desc></desc>\\n              <defs></defs>\\n              <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n                  <g id=\\\"AC4\\\" sketch:type=\\\"MSArtboardGroup\\\" transform=\\\"translate(-126.000000, -92.000000)\\\">\\n                      <g id=\\\"Mail-Icon\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(126.000000, 92.000000)\\\">\\n                          <circle id=\\\"Oval-1\\\" fill=\\\"#3FB58E\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"47\\\" cy=\\\"47\\\" r=\\\"47\\\"></circle>\\n                          <rect id=\\\"Rectangle-1\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\" x=\\\"18\\\" y=\\\"27\\\" width=\\\"59\\\" height=\\\"41\\\" rx=\\\"3\\\"></rect>\\n                          <path d=\\\"M21.0069321,27 C19.3462494,27 17.9900756,28.3368135 17.9778938,29.9953973 C17.9778938,29.9953973 17.9712616,30.8538058 17.9707031,31.0256348 C17.9688241,31.6037734 44.3277476,50.7739169 44.3277476,50.7739169 C45.6547338,51.7409595 47.981989,52.0459954 49.4771883,51.3411914 C49.4771883,51.3411914 52.3180561,50.8603167 59.4023438,44.0800781 C61.1871084,42.3719134 77.0395508,31.2178814 77.0395508,30.1010742 C77.0395508,29.644898 77.0391066,29.9910722 77.0391066,29.9910722 C77.0175086,28.3391486 75.6568485,27 73.9930679,27 L21.0069321,27 Z\\\" id=\\\"Rectangle-95\\\" fill=\\\"#F3F3F3\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                          <path d=\\\"M17.7634277,31.0032813 L46.7917565,50.276875 L75.0556641,31.3201563 L46.5782176,55.1035938 L17.7634277,31.0032813 Z\\\" id=\\\"Path-1\\\" fill=\\\"#D8D8D8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                      </g>\\n                  </g>\\n              </g>\\n          </svg>\\n        </div>\\n        <div class=\\\"key-group\\\">\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"key\\\" ng-show=\\\"!verified\\\">{{ 'Visit Email' | i18n }}</label>\\n            <label for=\\\"key\\\" ng-show=\\\"verified\\\">{{ 'Verified Visit Email' | i18n }}</label>\\n            <input ng-model=\\\"user.key\\\" name=\\\"key\\\" class=\\\"form-control\\\" type=\\\"text\\\" required tabindex=\\\"6\\\" focus-on=\\\"enter-key\\\" ng-keyup=\\\"$event.keyCode === 13 && user.key && !sendingRequest && submitKey()\\\">\\n          </div>\\n          <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.tokenSendFailed\\\" ng-bind-html=\\\"'problem sending token' | i18n\\\"></div>\\n          <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.invalidKey\\\" ng-bind-html=\\\"'incorrectToken' | i18n\\\"></div>\\n          <div class=\\\"remember-me-token checkbox\\\">\\n            <input id=\\\"remember-me-token\\\" ng-model=\\\"user.rememberMe\\\" type=\\\"checkbox\\\" name=\\\"rememberMe\\\" tabindex=\\\"7\\\">\\n            <label for=\\\"remember-me-token\\\" tabindex=\\\"7\\\">\\n              <div><span></span></div>\\n              <span ng-bind-html=\\\"'Remember me for one year' | i18n\\\"></span>\\n            </label>\\n          </div>\\n          <button type=\\\"button\\\" class=\\\"hidden-xs-login submit-userid btn btn-primary\\\" type=\\\"button\\\" ng-disabled=\\\"sendingRequest\\\" ng-click=\\\"user.key && submitKey()\\\" tabindex=\\\"8\\\">{{ 'Submit' | i18n }}</button>\\n        </div>\\n      </div>\\n      <hr>\\n      <footer class=\\\"help-footer\\\">\\n        <p ng-bind-html=\\\"'trouble with email' | i18n\\\"></p>\\n      </footer>\\n    </div>\\n    <!-- enterToken ends -->\\n\\n    <div class=\\\"enterPassword\\\" ng-show=\\\"currentState === MODALSTATE.enterPassword\\\">\\n      <div class=\\\"password-container\\\">\\n        <div class=\\\"form-group\\\">\\n          <label for=\\\"password\\\">{{ 'Password' | i18n }}</label>\\n          <input type=\\\"password\\\" class=\\\"form-control\\\" required name=\\\"password\\\" ng-model=\\\"user.password\\\" tabindex=\\\"9\\\" focus-on=\\\"enter-password\\\" ng-keyup=\\\"$event.keyCode === 13 && user.password && !sendingRequest && submitPassword()\\\">\\n        </div>\\n        <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.user.$error.passwordSigninFailed\\\" ng-bind-html=\\\"'passLoginFailed' | i18n\\\"></div>\\n        <div class=\\\"remember-me-password checkbox\\\">\\n          <input id=\\\"remember-me-password\\\" ng-model=\\\"user.rememberMe\\\" type=\\\"checkbox\\\" name=\\\"rememberMe\\\" tabindex=\\\"10\\\">\\n          <label for=\\\"remember-me-password\\\" tabindex=\\\"10\\\">\\n            <div><span></span></div>\\n            <span ng-bind-html=\\\"'Remember me for one year' | i18n\\\"></span>\\n          </label>\\n        </div>\\n        <div class=\\\"cta-links clearfix\\\">\\n          <button type=\\\"button\\\" class=\\\"submit-password btn btn-primary hidden-xs-login\\\" type=\\\"button\\\" ng-disabled=\\\"sendingRequest\\\" ng-click=\\\"user.password && submitPassword()\\\" tabindex=\\\"11\\\">{{ 'Submit' | i18n }}</button>\\n          <p><a ng-click=\\\"requestReset()\\\">{{ 'Forgot your password?' | i18n }}</a></p>\\n        </div>\\n      </div>\\n      <hr>\\n      <footer class=\\\"help-footer\\\">\\n        <p class=\\\"switch-back\\\">{{ 'you can switch to webmaker login' | i18n }}</p>\\n      </footer>\\n    </div>\\n\\n    <div class=\\\"resetRequestSent\\\" ng-show=\\\"currentState === MODALSTATE.resetRequestSent\\\">\\n      <div class=\\\"mailIcon clearfix\\\">\\n        <?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n        <svg width=\\\"94px\\\" height=\\\"94px\\\" viewBox=\\\"0 0 94 94\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n            <title>Mail Icon</title>\\n            <desc></desc>\\n            <defs></defs>\\n            <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n              <g id=\\\"AC4\\\" sketch:type=\\\"MSArtboardGroup\\\" transform=\\\"translate(-126.000000, -92.000000)\\\">\\n                <g id=\\\"Mail-Icon\\\" sketch:type=\\\"MSLayerGroup\\\" transform=\\\"translate(126.000000, 92.000000)\\\">\\n                    <circle id=\\\"Oval-1\\\" fill=\\\"#3FB58E\\\" sketch:type=\\\"MSShapeGroup\\\" cx=\\\"47\\\" cy=\\\"47\\\" r=\\\"47\\\"></circle>\\n                    <rect id=\\\"Rectangle-1\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\" x=\\\"18\\\" y=\\\"27\\\" width=\\\"59\\\" height=\\\"41\\\" rx=\\\"3\\\"></rect>\\n                    <path d=\\\"M21.0069321,27 C19.3462494,27 17.9900756,28.3368135 17.9778938,29.9953973 C17.9778938,29.9953973 17.9712616,30.8538058 17.9707031,31.0256348 C17.9688241,31.6037734 44.3277476,50.7739169 44.3277476,50.7739169 C45.6547338,51.7409595 47.981989,52.0459954 49.4771883,51.3411914 C49.4771883,51.3411914 52.3180561,50.8603167 59.4023438,44.0800781 C61.1871084,42.3719134 77.0395508,31.2178814 77.0395508,30.1010742 C77.0395508,29.644898 77.0391066,29.9910722 77.0391066,29.9910722 C77.0175086,28.3391486 75.6568485,27 73.9930679,27 L21.0069321,27 Z\\\" id=\\\"Rectangle-95\\\" fill=\\\"#F3F3F3\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                    <path d=\\\"M17.7634277,31.0032813 L46.7917565,50.276875 L75.0556641,31.3201563 L46.5782176,55.1035938 L17.7634277,31.0032813 Z\\\" id=\\\"Path-1\\\" fill=\\\"#D8D8D8\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n                </g>\\n              </g>\\n            </g>\\n        </svg>\\n        <p>{{ 'resetMessage' | i18n }}</p>\\n      </div>\\n      <hr>\\n        <footer class=\\\"help-footer\\\">\\n          <p class=\\\"switch-back\\\">{{ 'you can switch to webmaker login' | i18n }}</p>\\n        </footer>\\n    </div>\\n  </form>\\n</div>\\n\", template_options),\n  reset: template.renderString(\"<div class=\\\"modal-header\\\">\\n  <button ng-click=\\\"close()\\\" type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-hidden=\\\"true\\\">&times;</button>\\n  <h3 class=\\\"modal-title\\\">\\n    <a href=\\\"#\\\" ng-click=\\\"close()\\\" class=\\\"modal-title-left\\\">{{ 'Cancel' | i18n }}</a>\\n    <span class=\\\"modal-title-center\\\">{{ 'Reset Password' | i18n }}</span>\\n    <button ng-click=\\\"submitResetRequest()\\\" ng-disabled=\\\"sendingRequest || !password.value || !password.confirmValue || !passwordsMatch || form.password.$error.passwordsMustMatch\\\" class=\\\"modal-title-right btn-link\\\" type=\\\"button\\\" tabindex=\\\"3\\\">{{ 'Submit' | i18n }}</button>\\n  </h3>\\n</div>\\n<div class=\\\"modal-body clearfix\\\">\\n  <form class=\\\"form\\\" name=\\\"form.password\\\" novalidate>\\n\\n    <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.password.$error.passwordsMustMatch\\\" ng-bind-html=\\\"'passwords do not match' | i18n\\\"></div>\\n    <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.password.$error.weakPassword\\\" ng-bind-html=\\\"'Password too weak' | i18n\\\"></div>\\n    <div class=\\\"alert alert-danger\\\" ng-show=\\\"form.password.$error.serverError\\\" ng-bind-html=\\\"'error setting password' | i18n\\\"></div>\\n\\n    <div>\\n      <div class=\\\"form-group\\\">\\n        <p class=\\\"password-label\\\">{{ 'Minimum password requirements' | i18n }}</p>\\n        <ul class=\\\"list-unstyled password-strength\\\">\\n          <li id=\\\"eight-chars\\\" ng-class=\\\"{valid: eightCharsState === 'valid', invalid: eightCharsState === 'invalid', 'default': eightCharsState === 'default'}\\\">{{ 'At least 8 characters' | i18n }}</li>\\n          <li id=\\\"one-each-case\\\" ng-class=\\\"{valid: oneEachCaseState === 'valid', invalid: oneEachCaseState === 'invalid', 'default': oneEachCaseState === 'default'}\\\">{{ 'At least 1 upper and lower case character' | i18n }}</li>\\n          <li id=\\\"one-number\\\" ng-class=\\\"{valid: oneNumberState === 'valid', invalid: oneNumberState === 'invalid', 'default': oneNumberState === 'default'}\\\">{{ 'At least 1 number' | i18n }}</li>\\n        </ul>\\n      </div>\\n      <div class=\\\"form-group half-width\\\">\\n        <label for=\\\"value\\\">{{ 'Set a Password' | i18n }}</label>\\n        <input ng-model=\\\"password.value\\\" ng-change=\\\"checkPasswordStrength(); checkPasswordsMatch(false);\\\" ng-blur=\\\"checkPasswordStrength(true); checkPasswordsMatch(true);\\\" type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"value\\\" autocomplete=\\\"off\\\" autofocus=\\\"true\\\" tabindex=\\\"1\\\" required>\\n      </div>\\n      <div class=\\\"form-group half-width\\\">\\n        <label for=\\\"confirmValue\\\">{{ 'Confirm your password' | i18n }}</label>\\n        <input ng-model=\\\"password.confirmValue\\\" ng-change=\\\"checkPasswordsMatch(false)\\\" ng-blur=\\\"checkPasswordsMatch(true)\\\"  type=\\\"password\\\" class=\\\"form-control\\\" name=\\\"confirmValue\\\" autocomplete=\\\"off\\\" tabindex=\\\"2\\\" required>\\n      </div>\\n      <div class=\\\"cta-links clearfix\\\">\\n        <button ng-click=\\\"submitResetRequest()\\\" ng-disabled=\\\"sendingRequest || !password.value || !password.confirmValue || !passwordsMatch || form.password.$error.passwordsMustMatch\\\" class=\\\"reset-password btn btn-primary hidden-xs-login\\\" type=\\\"button\\\" tabindex=\\\"3\\\">{{ 'Submit' | i18n }}</button>\\n      </div>\\n    </div>\\n  </form>\\n</div>\\n\", template_options),\n  wrapper: \"<div class=\\\"modal-backdrop fade in\\\"></div>\\n<div class=\\\"modal fade in\\\" style=\\\"display: block\\\">\\n  <div class=\\\"modal-dialog\\\">\\n    <div class=\\\"modal-content\\\"></div>\\n  </div>\\n</div>\\n\"\n};\n\nvar _create_modal_fragment = function (template) {\n  var range = document.createRange();\n  range.selectNode(document.body);\n  var modal_fragment = range.createContextualFragment(ui.wrapper);\n  modal_fragment.querySelector('.modal-content').appendChild(range.createContextualFragment(template));\n\n  return modal_fragment;\n};\n\nvar _translate_ng_html_expressions = function (modal_fragment) {\n  var elements = modal_fragment.querySelectorAll('[ng-bind-html]');\n  var i = 0;\n  for (i = 0; i < elements.length; i++) {\n    elements[i].innerHTML = expressions.compile(elements[i].getAttribute('ng-bind-html'))();\n  }\n\n  elements = modal_fragment.querySelectorAll('[bind-trusted-html]');\n  for (i = 0; i < elements.length; i++) {\n    elements[i].innerHTML = expressions.compile(elements[i].getAttribute('bind-trusted-html'))();\n  }\n};\n\nvar _run_expressions = function (modal, scope) {\n  var elements = modal.querySelectorAll('[ng-hide],[ng-show],[ng-disabled],[ng-class]');\n  var ng_class;\n\n  for (var i = 0; i < elements.length; i++) {\n    if (elements[i].getAttribute('ng-disabled')) {\n      if (expressions.compile(elements[i].getAttribute('ng-disabled'))(scope)) {\n        elements[i].setAttribute('disabled', true);\n      } else {\n        elements[i].removeAttribute('disabled');\n      }\n    }\n\n    if (elements[i].getAttribute('ng-hide')) {\n      if (expressions.compile(elements[i].getAttribute('ng-hide'))(scope)) {\n        elements[i].classList.add('hide');\n      } else {\n        elements[i].classList.remove('hide');\n      }\n    }\n\n    if (elements[i].getAttribute('ng-show')) {\n      if (expressions.compile(elements[i].getAttribute('ng-show'))(scope)) {\n        elements[i].classList.remove('hide');\n      } else {\n        elements[i].classList.add('hide');\n      }\n    }\n\n    if (elements[i].getAttribute('ng-class')) {\n      ng_class = expressions.compile(elements[i].getAttribute('ng-class'))(scope);\n      /*jshint -W083 */\n      Object.keys(ng_class).forEach(function (klass) {\n        if (ng_class[klass]) {\n          elements[i].classList.add(klass);\n        } else {\n          elements[i].classList.remove(klass);\n        }\n      });\n      /*jshint +W083 */\n    }\n  }\n};\n\nvar _open_modal = function (modal_fragment) {\n  document.body.appendChild(modal_fragment);\n};\n\nvar _close_modal = function () {\n  document.body.removeChild(document.querySelector('body > div.modal-backdrop'));\n  document.body.removeChild(document.querySelector('body > div.modal'));\n};\n\nvar _attach_close = function (modal) {\n  _each(modal, \"[ng-click='close()']\", function (i, el) {\n    el.addEventListener('click', function (event) {\n      event.preventDefault();\n      _close_modal();\n    }, false);\n  });\n};\n\nvar WebmakerLogin = function WebmakerLogin(options) {\n  var wmLogin = this.wmLogin = new wmLoginCore(options);\n  this.showCTA = !! options.showCTA;\n  this.disablePersona = !! options.disablePersona;\n  EventEmitter.call(this);\n\n  var query = url.parse(window.location.href, true).query;\n  if (query.uid && query.resetCode) {\n    this.request_password_reset(query.uid, query.resetCode);\n  } else if (query.uid && query.token) {\n    wmLogin.instantLogin(query.uid, query.token, query.validFor);\n    wmLogin.on('signedIn', function (user) {\n      this.emit('login', user);\n    }.bind(this));\n    wmLogin.on('signinFailed', function (uid) {\n      console.log(\"Instant signin failed for uid %s\", uid);\n      this.login(uid, {\n        expired: true\n      });\n    }.bind(this));\n  }\n\n  wmLogin.on('verified', function (user) {\n    this.emit('verified', user);\n  }.bind(this));\n\n  wmLogin.on('error', function (err) {\n    this.emit('error', err);\n  }.bind(this));\n\n  wmLogin.verify();\n};\n\nutil.inherits(WebmakerLogin, EventEmitter);\n\nWebmakerLogin.prototype.create = function (email_hint, username_hint) {\n  var controller = this.wmLogin.joinWebmaker(this.showCTA);\n  var scope = {\n    MODALSTATE: {\n      inputEmail: 0,\n      inputUsername: 1,\n      welcome: 2\n    },\n    currentState: -1,\n    form: {\n      user: {\n        $error: {}\n      }\n    },\n    user: {},\n    sendingRequest: false,\n    welcomeModalIdx: -1\n  };\n\n  var modal_fragment = _create_modal_fragment(ui.create);\n  _translate_ng_html_expressions(modal_fragment);\n\n  var usernameWithUrl = modal_fragment.querySelector('.username-with-url');\n\n  if (email_hint) {\n    scope.user.email = email_hint;\n    modal_fragment.querySelector('input[name=\"email\"]').value = email_hint;\n    controller.validateEmail(scope.user.email);\n  }\n  if (username_hint) {\n    scope.user.username = username_hint;\n    modal_fragment.querySelector('input[name=\"username\"]').value = username_hint;\n    controller.validateUsername(scope.user.username);\n    usernameWithUrl.textContent = scope.user.username;\n  }\n\n  controller.on('sendingRequest', function (state) {\n    scope.sendingRequest = state;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('displayEmailInput', function () {\n    scope.currentState = scope.MODALSTATE.inputEmail;\n    _run_expressions(modal, scope);\n    modal.querySelector('input[focus-on=\"create-user-email\"]').focus();\n  });\n\n  controller.on('displayUsernameInput', function () {\n    scope.currentState = scope.MODALSTATE.inputUsername;\n    _run_expressions(modal, scope);\n    modal.querySelector('input[focus-on=\"create-user-username\"]').focus();\n  });\n\n  controller.on('displayWelcome', function (user, showCTA) {\n    this.emit('login', user);\n    if (showCTA) {\n      scope.welcomeModalIdx = Math.floor(Math.random() * 2);\n    } else {\n      scope.simpleCTA = true;\n    }\n    scope.currentState = scope.MODALSTATE.welcome;\n    _run_expressions(modal, scope);\n  }.bind(this));\n\n  controller.on('displayAlert', function (alertId) {\n    scope.form.user.$error[alertId] = true;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('hideAlert', function (alertId) {\n    scope.form.user.$error[alertId] = false;\n    _run_expressions(modal, scope);\n  });\n\n  modal_fragment.querySelector('a[ng-click=\"switchToSignin();\"]').addEventListener('click', function (event) {\n    event.preventDefault();\n    _close_modal();\n    setTimeout(function () {\n      this.login(scope.user.email);\n    }.bind(this), 0);\n  }.bind(this));\n\n  modal_fragment.querySelector('input[name=\"email\"]').addEventListener('keyup', function (e) {\n    scope.user.email = e.target.value;\n\n    if (e.target.value) {\n      controller.validateEmail(scope.user.email);\n    }\n  });\n\n  modal_fragment.querySelector('input[name=\"agree\"]').addEventListener('change', function (e) {\n    scope.user.agree = e.target.checked;\n    controller.agreeToTermsChanged(scope.user.agree);\n    _run_expressions(modal, scope);\n  });\n\n  modal_fragment.querySelector('input[name=\"subscribeToList\"]').addEventListener('change', function (e) {\n    scope.user.subscribeToList = e.target.checked;\n  });\n\n  _each(modal_fragment, 'button[ng-click=\"submitEmail()\"]', function (i, el) {\n    el.addEventListener('click', function (e) {\n      controller.submitEmail(scope.user.agree);\n    });\n  });\n\n  modal_fragment.querySelector('input[name=\"username\"]').addEventListener('input', function (e) {\n    scope.user.username = e.target.value;\n    controller.validateUsername(scope.user.username);\n    usernameWithUrl.textContent = scope.user.username;\n  });\n\n  _each(modal_fragment, 'button[ng-click=\"submitUser()\"]', function (i, el) {\n    el.addEventListener('click', function () {\n      controller.submitUser(scope.user);\n    });\n  });\n\n  _run_expressions(modal_fragment, scope);\n  _open_modal(modal_fragment);\n\n  var modal = document.querySelector('body > div.modal');\n  _attach_close(modal);\n  document.querySelector('body > div.modal > .modal-dialog').addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n  });\n  document.querySelector('body > div.modal').addEventListener(\"click\", function () {\n    _close_modal();\n  });\n\n  controller.start();\n};\n\nWebmakerLogin.prototype.login = function (uid_hint, options) {\n  options = options || {};\n  var controller = this.wmLogin.signIn();\n  var scope = {\n    MODALSTATE: {\n      enterUid: 0,\n      checkEmail: 1,\n      enterKey: 2,\n      enterPassword: 3,\n      resetRequestSent: 4\n    },\n    currentState: 0,\n    form: {\n      user: {\n        $error: {}\n      }\n    },\n    user: {},\n    passwordWasReset: !! options.password_was_reset,\n    expiredLoginLink: !! options.expired,\n    sendingRequest: false,\n    disablePersona: this.disablePersona\n  };\n\n  var modal_fragment = _create_modal_fragment(ui.login);\n  _translate_ng_html_expressions(modal_fragment);\n\n  if (uid_hint) {\n    scope.user.uid = uid_hint;\n    modal_fragment.querySelector('input[name=\"uid\"]').value = uid_hint;\n  }\n\n  controller.on('sendingRequest', function (state) {\n    scope.sendingRequest = state;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('displayEnterUid', function () {\n    scope.currentState = scope.MODALSTATE.enterUid;\n    _run_expressions(modal, scope);\n    modal.querySelector('input[focus-on=\"login-uid\"]').focus();\n  });\n\n  controller.on('displayEnterPassword', function () {\n    scope.currentState = scope.MODALSTATE.enterPassword;\n    _run_expressions(modal, scope);\n    modal.querySelector('input[focus-on=\"enter-password\"]').focus();\n  });\n\n  controller.on('displayEnterKey', function (verified) {\n    scope.verified = verified;\n    scope.currentState = scope.MODALSTATE.enterKey;\n    _run_expressions(modal, scope);\n    modal.querySelector('input[focus-on=\"enter-key\"]').focus();\n  });\n\n  controller.on('displayCheckEmail', function () {\n    scope.currentState = scope.MODALSTATE.checkEmail;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('displayResetSent', function () {\n    scope.currentState = scope.MODALSTATE.resetRequestSent;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('displayAlert', function (alertId) {\n    scope.form.user.$error[alertId] = true;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('hideAlert', function (alertId) {\n    scope.form.user.$error[alertId] = false;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('signedIn', function (user) {\n    this.emit('login', user);\n    _close_modal();\n  }.bind(this));\n\n  modal_fragment.querySelector('input[name=\"uid\"]').addEventListener('input', function (e) {\n    scope.user.uid = e.target.value;\n    _run_expressions(modal, scope);\n  });\n\n  _each(modal_fragment, 'input[name=\"rememberMe\"]', function (i, el) {\n    el.addEventListener('change', function (e) {\n      scope.user.rememberMe = e.target.checked;\n      _run_expressions(modal, scope);\n    });\n  });\n\n  _each(modal_fragment, 'button[ng-click=\"submitUid()\"]', function (i, el) {\n    el.addEventListener('click', function () {\n      controller.submitUid(scope.user.uid, window.location.pathname);\n    });\n  });\n  _each(modal_fragment, 'input[name=\"key\"]', function (i, el) {\n    el.addEventListener('input', function (e) {\n      scope.user.key = e.target.value;\n      _run_expressions(modal, scope);\n    });\n  });\n  _each(modal_fragment, 'a[ng-click=\"enterKey()\"]', function (i, el) {\n    el.addEventListener('click', function (event) {\n      event.preventDefault();\n      controller.displayEnterKey();\n    });\n  });\n\n  _each(modal_fragment, 'button[ng-click=\"user.key && submitKey()\"]', function (i, el) {\n    el.addEventListener('click', function () {\n      controller.verifyKey(scope.user.uid, scope.user.key, scope.user.rememberMe);\n    });\n  });\n\n  modal_fragment.querySelector('input[name=\"password\"]').addEventListener('input', function (e) {\n    scope.user.password = e.target.value;\n    _run_expressions(modal, scope);\n  });\n\n  _each(modal_fragment, 'button[ng-click=\"user.password && submitPassword()\"]', function (i, el) {\n    el.addEventListener('click', function () {\n      controller.verifyPassword(scope.user.uid, scope.user.password, scope.user.rememberMe);\n    });\n  });\n\n  modal_fragment.querySelector('a[ng-click=\"requestReset()\"]').addEventListener('click', function (event) {\n    event.preventDefault();\n    controller.requestReset(scope.user.uid);\n  });\n\n  modal_fragment.querySelector('a[ng-click=\"switchToSignup();\"]').addEventListener('click', function (event) {\n    event.preventDefault();\n    _close_modal();\n    setTimeout(function () {\n      var uid = scope.user.uid;\n      var type = controller.getUidType(uid);\n      var email = type === 'email' ? uid : '';\n      var username = type === 'username' ? uid : '';\n\n      this.create(email, username);\n    }.bind(this), 0);\n  }.bind(this));\n\n  modal_fragment.querySelector('button[ng-click=\"usePersona();\"]').addEventListener('click', function (event) {\n    event.preventDefault();\n    _close_modal();\n    setTimeout(function () {\n      this._persona_login();\n    }.bind(this), 0);\n  }.bind(this));\n\n  modal_fragment.querySelector('input[ng-keyup=\"$event.keyCode === 13 && !sendingRequest && submitUid()\"]').addEventListener('keyup', function (event) {\n    if (event.keyCode === 13 && !scope.sendingRequest) {\n      controller.submitUid(scope.user.uid, window.location.pathname);\n    }\n  }.bind(this));\n\n  modal_fragment.querySelector('input[ng-keyup=\"$event.keyCode === 13 && user.key && !sendingRequest && submitKey()\"]').addEventListener('keyup', function (event) {\n    if (event.keyCode === 13 && scope.user.key && !scope.sendingRequest) {\n      controller.verifyKey(scope.user.uid, scope.user.key, scope.user.rememberMe);\n    }\n  }.bind(this));\n\n  modal_fragment.querySelector('input[ng-keyup=\"$event.keyCode === 13 && user.password && !sendingRequest && submitPassword()\"]').addEventListener('keyup', function (event) {\n    if (event.keyCode === 13 && scope.user.password && !scope.sendingRequest) {\n      controller.verifyPassword(scope.user.uid, scope.user.password, scope.user.rememberMe);\n    }\n  }.bind(this));\n\n  _run_expressions(modal_fragment, scope);\n  _open_modal(modal_fragment);\n  var modal = document.querySelector('body > div.modal');\n  _attach_close(modal);\n  document.querySelector('body > div.modal > .modal-dialog').addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n  });\n  document.querySelector('body > div.modal').addEventListener(\"click\", function () {\n    _close_modal();\n  });\n\n  controller.start();\n};\n\nWebmakerLogin.prototype._persona_login = function () {\n  var controller = this.wmLogin.personaLogin();\n\n  controller.on('signedIn', function (user) {\n    this.emit('login', user);\n  }.bind(this));\n\n  controller.on('newUser', function (email) {\n    this.create(email);\n  }.bind(this));\n\n  controller.authenticate();\n};\n\nWebmakerLogin.prototype.request_password_reset = function (uid, token) {\n  var controller = this.wmLogin.resetPassword();\n  var scope = {\n    form: {\n      password: {\n        $error: {}\n      }\n    },\n    password: {},\n    sendingRequest: false\n  };\n\n  var modal_fragment = _create_modal_fragment(ui.reset);\n  _translate_ng_html_expressions(modal_fragment);\n\n  controller.on('sendingRequest', function (state) {\n    scope.sendingRequest = state;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('displayAlert', function (alertId) {\n    scope.form.password.$error[alertId] = true;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('hideAlert', function (alertId) {\n    scope.form.password.$error[alertId] = false;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('checkConfirmPassword', function (status) {\n    scope.passwordsMatch = status;\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('passwordCheckResult', function (result, blur) {\n    if (!result) {\n      scope.eightCharsState = scope.oneEachCaseState = scope.oneNumberState = 'default';\n      scope.isValidPassword = false;\n      return;\n    }\n\n    scope.eightCharsState = !result.lengthValid ? 'invalid' : blur ? 'valid' : '';\n    scope.oneEachCaseState = !result.caseValid ? 'invalid' : blur ? 'valid' : '';\n    scope.oneNumberState = !result.digitValid ? 'invalid' : blur ? 'valid' : '';\n    scope.isValidPassword = result.lengthValid && result.caseValid && result.digitValid;\n\n    _run_expressions(modal, scope);\n  });\n\n  controller.on('resetSucceeded', function () {\n    _close_modal();\n    setTimeout(function () {\n      this.login(uid, {\n        password_was_reset: true\n      });\n    }.bind(this), 0);\n  }.bind(this));\n\n  modal_fragment.querySelector('input[name=\"value\"]').addEventListener('input', function (e) {\n    scope.password.value = e.target.value;\n    controller.checkPasswordStrength(scope.password.value, false);\n  });\n\n  modal_fragment.querySelector('input[name=\"value\"]').addEventListener('blur', function (e) {\n    scope.password.value = e.target.value;\n    controller.checkPasswordStrength(scope.password.value, true);\n  });\n\n  modal_fragment.querySelector('input[name=\"confirmValue\"]').addEventListener('input', function (e) {\n    scope.password.confirmValue = e.target.value;\n    controller.passwordsMatch(scope.password.value, scope.password.confirmValue, false);\n  });\n\n  modal_fragment.querySelector('input[name=\"confirmValue\"]').addEventListener('blur', function (e) {\n    scope.password.confirmValue = e.target.value;\n    controller.passwordsMatch(scope.password.value, scope.password.confirmValue, true);\n  });\n\n  modal_fragment.querySelector('button[ng-click=\"submitResetRequest()\"]').addEventListener('click', function (e) {\n    controller.submitResetRequest(uid, token, scope.password.value);\n  });\n\n  _run_expressions(modal_fragment, scope);\n  _open_modal(modal_fragment);\n  var modal = document.querySelector('body > div.modal');\n  _attach_close(modal);\n  document.querySelector('body > div.modal > .modal-dialog').addEventListener(\"click\", function (e) {\n    e.stopPropagation();\n  });\n  document.querySelector('body > div.modal').addEventListener(\"click\", function () {\n    _close_modal();\n  });\n};\n\nWebmakerLogin.prototype.logout = function () {\n  var controller = this.wmLogin.logout();\n\n  controller.on('loggedOut', function () {\n    this.emit('logout');\n  }.bind(this));\n\n  controller.logout();\n};\n\nwindow.WebmakerLogin = WebmakerLogin;\nmodule.exports = WebmakerLogin;\n",
    "var state = require('./state');\nvar LoginAPI = require('./loginAPI');\nvar Emitter = require('./state/emitter');\n\nmodule.exports = function WebmakerLoginCore(options) {\n  var loginAPI = new LoginAPI(options);\n  var emitter = new Emitter();\n\n  function verify() {\n    loginAPI.verify(function (err, resp, body) {\n      if (err) {\n        return emitter.emit('error', err);\n      }\n\n      try {\n        body = JSON.parse(body);\n      } catch (ex) {\n        return emitter.emit('error', 'could not parse json from verify route');\n      }\n\n      emitter.emit('verified', body.user);\n    });\n  }\n\n  window.addEventListener('focus', verify);\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      emitter.off(event, listener);\n    },\n    joinWebmaker: function (showCTA) {\n      return new state.JoinController(loginAPI, !! showCTA);\n    },\n    signIn: function () {\n      return new state.SignInController(loginAPI);\n    },\n    resetPassword: function () {\n      return new state.ResetController(loginAPI);\n    },\n    personaLogin: function () {\n      return new state.PersonaController(loginAPI);\n    },\n    logout: function () {\n      return new state.LogoutController(loginAPI);\n    },\n    instantLogin: function (uid, password, validFor) {\n      loginAPI.verifyKey(uid, password, validFor, function (err, resp, body) {\n        if (err || resp.status !== 200 || !body.user) {\n          return emitter.emit('signinFailed', uid);\n        }\n\n        emitter.emit('signedIn', body.user);\n      });\n    },\n    verify: verify\n  };\n};\n",
    "var request = require('browser-request');\n\nmodule.exports = function LoginAPI(options) {\n  options = options || {};\n  options.paths = options.paths || {};\n\n  var refferals = require('./referrals.js')();\n  var loginUrls = require('./loginUrls.js')(options);\n\n  var withCredentials = options.withCredentials === false ? false : true;\n  var timeout = (options.timeout || 10) * 1000;\n  var headers = {\n    'X-CSRF-Token': options.csrfToken\n  };\n  var audience = options.audience || (window.location.protocol + '//' + window.location.host);\n\n  function doRequest(uri, payload, callback) {\n    request({\n      method: 'post',\n      uri: uri,\n      timeout: timeout,\n      withCredentials: withCredentials,\n      headers: headers,\n      json: payload\n    }, callback);\n  }\n\n  function uidExists(uid, callback) {\n    doRequest(loginUrls.uidExists, {\n      uid: uid\n    }, callback);\n  }\n\n  function checkUsername(username, callback) {\n    doRequest(loginUrls.checkUsername, {\n      username: username\n    }, callback);\n  }\n\n  function createUser(user, callback) {\n    user.referrer = refferals.refValue();\n    doRequest(loginUrls.createUser, {\n      user: user,\n      audience: audience\n    }, function () {\n      refferals.clearReferrerCookie();\n      callback.apply(null, arguments);\n    });\n  }\n\n  function sendLoginKey(uid, path, callback) {\n    doRequest(loginUrls.request, {\n      uid: uid,\n      path: path\n    }, callback);\n  }\n\n  function verifyKey(uid, key, validFor, callback) {\n    doRequest(loginUrls.authenticateToken, {\n      uid: uid,\n      token: key,\n      validFor: validFor,\n      user: {\n        referrer: refferals.refValue()\n      }\n    }, function () {\n      refferals.clearReferrerCookie();\n      callback.apply(null, arguments);\n    });\n  }\n\n  function verifyPassword(uid, password, validFor, callback) {\n    doRequest(loginUrls.verifyPassword, {\n      uid: uid,\n      password: password,\n      validFor: validFor,\n      user: {\n        referrer: refferals.refValue()\n      }\n    }, function () {\n      refferals.clearReferrerCookie();\n      callback.apply(null, arguments);\n    });\n  }\n\n  function requestReset(uid, callback) {\n    doRequest(loginUrls.requestResetCode, {\n      uid: uid\n    }, callback);\n  }\n\n  function resetPassword(uid, resetCode, password, callback) {\n    doRequest(loginUrls.resetPassword, {\n      uid: uid,\n      resetCode: resetCode,\n      newPassword: password\n    }, callback);\n  }\n\n  function personaLogin(assertion, callback) {\n    doRequest(loginUrls.authenticate, {\n      assertion: assertion,\n      audience: audience,\n      user: {\n        referrer: refferals.refValue()\n      }\n    }, callback);\n  }\n\n  function logout(callback) {\n    doRequest(loginUrls.logout, null, callback);\n  }\n\n  function verify(callback) {\n    doRequest(loginUrls.verify, null, callback);\n  }\n\n  return {\n    uidExists: uidExists,\n    checkUsername: checkUsername,\n    createUser: createUser,\n    sendLoginKey: sendLoginKey,\n    verifyKey: verifyKey,\n    verifyPassword: verifyPassword,\n    requestReset: requestReset,\n    resetPassword: resetPassword,\n    personaLogin: personaLogin,\n    logout: logout,\n    verify: verify\n  };\n};\n",
    "module.exports = function (options) {\n\n  var paths = {},\n    host = options.host || '';\n\n  paths = options.paths || {};\n  paths.authenticate = options.paths.authenticate || '/authenticate';\n  paths.legacyCreate = options.paths.legacyCreate || '/create';\n  paths.verify = options.paths.verify || '/verify';\n  paths.logout = options.paths.logout || '/logout';\n  paths.checkUsername = options.paths.checkUsername || '/check-username';\n  paths.request = options.paths.request || '/auth/v2/request';\n  paths.uidExists = options.paths.uidExists || '/auth/v2/uid-exists';\n  paths.createUser = options.paths.createUser || '/auth/v2/create';\n  paths.authenticateToken = options.paths.authenticateToken || '/auth/v2/authenticateToken';\n  paths.verifyPassword = options.paths.verifyPassword || '/auth/v2/verify-password';\n  paths.requestResetCode = options.paths.requestResetCode || '/auth/v2/request-reset-code';\n  paths.removePassword = options.paths.removePassword || '/auth/v2/remove-password';\n  paths.enablePasswords = options.paths.enablePasswords || '/auth/v2/enable-passwords';\n  paths.resetPassword = options.paths.resetPassword || '/auth/v2/reset-password';\n\n  return {\n    request: host + paths.request,\n    authenticateToken: host + paths.authenticateToken,\n    authenticate: host + paths.authenticate,\n    legacyCreate: host + paths.legacyCreate,\n    createUser: host + paths.createUser,\n    verify: host + paths.verify,\n    logout: host + paths.logout,\n    uidExists: host + paths.uidExists,\n    checkUsername: host + paths.checkUsername,\n    verifyPassword: host + paths.verifyPassword,\n    requestResetCode: host + paths.requestResetCode,\n    removePassword: host + paths.removePassword,\n    enablePasswords: host + paths.enablePasswords,\n    resetPassword: host + paths.resetPassword\n  };\n};\n",
    "var cookiejs = require('cookie-js');\n\nmodule.exports = function referrals() {\n  var referralCookieSettings = {\n    // grab only the first two parts of the hostname\n    domain: location.hostname.split('.').slice(-2).join('.'),\n    path: '/',\n    // secure cookie if connection uses TLS\n    secure: location.protocol === 'https:',\n    // expire in one week\n    expires: new Date((Date.now() + 60 * 1000 * 60 * 24 * 7))\n  };\n  var refValue = /ref=((?:\\w|-)+)/.exec(window.location.search);\n  var cookieRefValue = cookiejs.parse(document.cookie).webmakerReferral;\n\n  if (refValue) {\n    refValue = refValue[1];\n    if (cookieRefValue !== refValue) {\n      document.cookie = cookiejs.serialize('webmakerReferral', refValue, referralCookieSettings);\n      cookieRefValue = refValue;\n    }\n  }\n\n  return {\n    clearReferrerCookie: function () {\n      referralCookieSettings.expires = new Date((Date.now() - 10000));\n      document.cookie = cookiejs.serialize('webmakerReferral', 'expire', referralCookieSettings);\n      referralCookieSettings.expires = new Date((Date.now() + 60 * 1000 * 60 * 24 * 7));\n    },\n    refValue: function () {\n      return cookieRefValue;\n    }\n  };\n};\n",
    "var EventEmitter = require('events').EventEmitter;\n\nmodule.exports = function Emitter() {\n\n  var emitter = new EventEmitter();\n\n  return {\n    on: function (event, listener) {\n      emitter.addListener(event, listener);\n    },\n    off: function (event, listener) {\n      if (!listener) {\n        emitter.removeAllListeners(event);\n        return;\n      }\n      emitter.removeListener(event, listener);\n    },\n    emit: function () {\n      emitter.emit.apply(emitter, arguments);\n    }\n  };\n};\n",
    "module.exports = {\n  JoinController: require('./join.js'),\n  SignInController: require('./signin.js'),\n  ResetController: require('./reset.js'),\n  PersonaController: require('./persona.js'),\n  LogoutController: require('./logout.js')\n};\n",
    "var Emitter = require('./emitter.js');\nvar validation = require('../validation');\nvar analytics = require('webmaker-analytics');\n\nmodule.exports = function JoinController(loginApi, showCTA) {\n\n  var emitter = new Emitter();\n\n  var JOIN_ALERTS = {\n    agreeToTerms: 'agreeToTerms',\n    accountExists: 'accountExists',\n    invalidEmail: 'invalidEmail',\n    invalidUsername: 'invalidUsername',\n    usernameTaken: 'usernameTaken',\n    serverError: 'serverError'\n  };\n\n  var JOIN_EVENTS = {\n    sendingRequest: 'sendingRequest',\n    displayAlert: 'displayAlert',\n    hideAlert: 'hideAlert',\n    displayUsernameInput: 'displayUsernameInput',\n    displayEmailInput: 'displayEmailInput',\n    displayWelcome: 'displayWelcome'\n  };\n\n  function emit() {\n    emitter.emit.apply(emitter, arguments);\n  }\n\n  function setRequestState(state) {\n    emit(JOIN_EVENTS.sendingRequest, state, !state ? true : false);\n  }\n\n  function displayAlert(alertId, forceUpdate) {\n    emit(JOIN_EVENTS.displayAlert, alertId, forceUpdate);\n  }\n\n  function clearAlerts(alerts) {\n    alerts = Array.isArray(alerts) ? alerts : [alerts];\n    alerts.forEach(function (alert) {\n      emit(JOIN_EVENTS.hideAlert, alert);\n    });\n  }\n\n  function validateEmailCallback(err, resp, body) {\n    setRequestState(false);\n    if (err || resp.status !== 200) {\n      return displayAlert(JOIN_ALERTS.serverError, true);\n    }\n\n    if (body.exists) {\n      return displayAlert(JOIN_ALERTS.accountExists, true);\n    }\n  }\n\n  function usernameExistsCallback(err, resp, body) {\n    setRequestState(false);\n\n    if (err || resp.status !== 200) {\n      return displayAlert(JOIN_ALERTS.serverError, true);\n    }\n\n    if (body.exists) {\n      return displayAlert(JOIN_ALERTS.usernameTaken, true);\n    }\n\n    emit(JOIN_EVENTS.displayUsernameInput);\n\n  }\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      if (!listener) {\n        return emitter.off(event);\n      }\n      emitter.removeListener(event, listener);\n    },\n    start: function () {\n      emit(JOIN_EVENTS.displayEmailInput);\n    },\n    validateEmail: function (email) {\n      clearAlerts([\n        JOIN_ALERTS.invalidEmail,\n        JOIN_ALERTS.accountExists,\n        JOIN_ALERTS.serverError\n      ]);\n\n      var valid = validation.isEmail(email);\n\n      if (!valid) {\n        return displayAlert(JOIN_ALERTS.invalidEmail);\n      }\n\n      setRequestState(true);\n\n      loginApi.uidExists(email, validateEmailCallback);\n    },\n    submitEmail: function (agreeToTerms) {\n      if (!agreeToTerms) {\n        return displayAlert(JOIN_ALERTS.agreeToTerms);\n      }\n      emit(JOIN_EVENTS.displayUsernameInput);\n    },\n    agreeToTermsChanged: function (agree) {\n      if (agree) {\n        emit(JOIN_EVENTS.hideAlert, JOIN_ALERTS.agreeToTerms);\n      }\n    },\n    validateUsername: function (username) {\n      clearAlerts([\n        JOIN_ALERTS.invalidUsername,\n        JOIN_ALERTS.usernameTaken,\n        JOIN_ALERTS.serverError\n      ]);\n\n      if (!username) {\n        return;\n      }\n\n      var valid = validation.isUsername(username);\n\n      if (!valid) {\n        return displayAlert(JOIN_ALERTS.invalidUsername);\n      }\n\n      setRequestState(true);\n\n      loginApi.uidExists(username, usernameExistsCallback);\n    },\n    submitUser: function (formData) {\n      clearAlerts([\n        JOIN_ALERTS.agreeToTerms,\n        JOIN_ALERTS.serverError,\n      ]);\n\n      var lang = 'en-US';\n      var html = document.querySelector('html');\n\n      if (html.lang) {\n        lang = html.lang;\n      }\n\n      setRequestState(true);\n      loginApi.createUser({\n        email: formData.email,\n        username: formData.username,\n        mailingList: formData.subscribeToList,\n        prefLocale: lang\n      }, function (err, resp, body) {\n        setRequestState(false);\n        if (err || resp.status !== 200) {\n          return displayAlert(JOIN_ALERTS.serverError);\n        }\n        analytics.event('Webmaker New User Created', {\n          nonInteraction: true\n        });\n        analytics.conversionGoal('WebmakerNewUserCreated');\n        emit(JOIN_EVENTS.displayWelcome, body.user, showCTA);\n      });\n    }\n  };\n};\n",
    "var Emitter = require('./emitter.js');\nvar analytics = require('webmaker-analytics');\n\nmodule.exports = function (loginAPI) {\n  var emitter = new Emitter();\n\n  function emit() {\n    emitter.emit.apply(emitter, arguments);\n  }\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      emitter.off(event, listener);\n    },\n    logout: function () {\n      loginAPI.logout(function (err, resp, body) {\n        if (err || resp.status !== 200) {\n          return emit('logoutFailed');\n        }\n        analytics.event('Webmaker Logout Clicked');\n        emit('loggedOut');\n      });\n    }\n  };\n};\n",
    "var Emitter = require('./emitter.js');\nvar analytics = require('webmaker-analytics');\n\nmodule.exports = function PersonaController(loginApi) {\n  var emitter = new Emitter();\n\n  var PERSONA_EVENTS = {\n    signedIn: 'signedIn',\n    newUser: 'newUser'\n  };\n\n  var analyticsLabel = {\n    label: 'persona'\n  };\n\n  function emit() {\n    emitter.emit.apply(emitter, arguments);\n  }\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      emitter.off(event, listener);\n    },\n    authenticate: function () {\n      if (!window.navigator.id) {\n        return console.error('No persona found. Did you load include.js?');\n      }\n\n      analytics.event('Persona Login Clicked');\n\n      window.navigator.id.get(function (assertion) {\n        if (!assertion) {\n          analytics.event('Webmaker Login Cancelled', analyticsLabel);\n          return;\n        }\n\n        loginApi.personaLogin(assertion, function (err, resp, body) {\n          if (err || resp.status !== 200) {\n            analytics.event('Webmaker Login Failed', analyticsLabel);\n            return;\n          }\n\n          analytics.event('Webmaker Login Succeeded', analyticsLabel);\n\n          if (body.user) {\n            emit(PERSONA_EVENTS.signedIn, body.user);\n          } else if (body.email) {\n            analytics.event('Webmaker New User Started', analyticsLabel);\n            emit(PERSONA_EVENTS.newUser, body.email);\n          }\n        });\n      });\n    }\n  };\n};\n",
    "var Emitter = require('./emitter.js');\nvar validation = require('../validation');\nvar analytics = require('webmaker-analytics');\n\nmodule.exports = function ResetController(loginApi) {\n  var emitter = new Emitter();\n\n  var RESET_ALERTS = {\n    passwordsMustMatch: 'passwordsMustMatch',\n    weakPassword: 'weakPassword',\n    serverError: 'serverError'\n  };\n\n  var RESET_EVENTS = {\n    sendingRequest: 'sendingRequest',\n    displayAlert: 'displayAlert',\n    hideAlert: 'hideAlert',\n    resetSucceeded: 'resetSucceeded',\n    passwordCheckResult: 'passwordCheckResult',\n    checkConfirmPassword: 'checkConfirmPassword'\n  };\n\n  function emit() {\n    emitter.emit.apply(emitter, arguments);\n  }\n\n  function setRequestState(state) {\n    emit(RESET_EVENTS.sendingRequest, state);\n  }\n\n  function displayAlert(alertId) {\n    emit(RESET_EVENTS.displayAlert, alertId);\n  }\n\n  function hideAlert(alertId) {\n    emit(RESET_EVENTS.hideAlert, alertId);\n  }\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      emitter.off(event, listener);\n    },\n    passwordsMatch: function (password, confimValue, blur) {\n      if (validation.passwordsMatch(password, confimValue)) {\n        hideAlert(RESET_ALERTS.passwordsMustMatch);\n        emit(RESET_EVENTS.checkConfirmPassword, true);\n      } else {\n        if (blur) {\n          displayAlert(RESET_ALERTS.passwordsMustMatch);\n        }\n        emit(RESET_EVENTS.checkConfirmPassword, false);\n      }\n    },\n    checkPasswordStrength: function (password, blur) {\n      emit(RESET_EVENTS.passwordCheckResult, validation.checkPasswordStrength(password), blur);\n    },\n    submitResetRequest: function (uid, resetCode, password) {\n      hideAlert(RESET_ALERTS.serverError);\n      hideAlert(RESET_ALERTS.weakPassword);\n      setRequestState(true);\n      loginApi.resetPassword(uid, resetCode, password, function (err, resp, body) {\n        setRequestState(false);\n        if (err || resp.status !== 200) {\n          if (resp.status === 400) {\n            return displayAlert(RESET_ALERTS.weakPassword);\n          }\n          return displayAlert(RESET_ALERTS.serverError);\n        }\n\n        analytics.event('Webmaker Password Reset Succeeded');\n\n        emit(RESET_EVENTS.resetSucceeded);\n      });\n    }\n  };\n};\n",
    "var Emitter = require('./emitter.js');\nvar validation = require('../validation');\nvar analytics = require('webmaker-analytics');\n\nmodule.exports = function SignInController(loginApi) {\n\n  var emitter = new Emitter();\n\n  var SIGNIN_ALERTS = {\n    paswordReset: 'paswordReset',\n    noAccount: 'noAccount',\n    invalidUid: 'invalidUid',\n    serverError: 'serverError',\n    invalidKey: 'invalidKey',\n    passwordSigninFailed: 'passwordSigninFailed',\n    resetRequestFailed: 'resetRequestFailed'\n  };\n\n  var SIGNIN_EVENTS = {\n    sendingRequest: 'sendingRequest',\n    displayAlert: 'displayAlert',\n    hideAlert: 'hideAlert',\n    displayEnterUid: 'displayEnterUid',\n    displayEnterPassword: 'displayEnterPassword',\n    displayEnterKey: 'displayEnterKey',\n    displayCheckEmail: 'displayCheckEmail',\n    displayResetSent: 'displayResetSent',\n    signedIn: 'signedIn'\n  };\n\n  function emit() {\n    emitter.emit.apply(emitter, arguments);\n  }\n\n  function setRequestState(state) {\n    emit(SIGNIN_EVENTS.sendingRequest, state);\n  }\n\n  function displayAlert(alertId) {\n    emit(SIGNIN_EVENTS.displayAlert, alertId);\n  }\n\n  function hideAlert(alertId) {\n    emit(SIGNIN_EVENTS.hideAlert, alertId);\n  }\n\n  function clearAlerts(alerts) {\n    alerts = Array.isArray(alerts) ? alerts : [alerts];\n    alerts.forEach(function (alertId) {\n      hideAlert(alertId);\n    });\n  }\n\n  return {\n    on: function (event, listener) {\n      emitter.on(event, listener);\n    },\n    off: function (event, listener) {\n      emitter.off(event, listener);\n    },\n    start: function () {\n      emit(SIGNIN_EVENTS.displayEnterUid);\n    },\n    submitUid: function (uid, path) {\n      clearAlerts([\n        SIGNIN_ALERTS.invalidUid,\n        SIGNIN_ALERTS.serverError,\n        SIGNIN_ALERTS.noAccount\n      ]);\n\n      var valid = validation.isEmail(uid) || validation.isUsername(uid);\n\n      if (!valid) {\n        return displayAlert(SIGNIN_ALERTS.invalidUid);\n      }\n\n      setRequestState(true);\n      loginApi.uidExists(uid, function uidExistsCallback(err, resp, body) {\n        setRequestState(false);\n\n        if (err || resp.status !== 200) {\n          return displayAlert(SIGNIN_ALERTS.serverError);\n        }\n\n        var isVerified = body.verified;\n\n        if (!body.exists) {\n          return displayAlert(SIGNIN_ALERTS.noAccount);\n        }\n\n        if (body.usePasswordLogin) {\n          return emit(SIGNIN_EVENTS.displayEnterPassword);\n        }\n\n        loginApi.sendLoginKey(uid, path, function sendLoginKeyCallback(err, resp, body) {\n          if (err) {\n            return displayAlert(SIGNIN_ALERTS.serverError);\n          }\n\n          if (isVerified) {\n            emit(SIGNIN_EVENTS.displayEnterKey, false);\n          } else {\n            emit(SIGNIN_EVENTS.displayCheckEmail);\n          }\n        });\n      });\n    },\n    displayEnterKey: function () {\n      emit(SIGNIN_EVENTS.displayEnterKey, true);\n    },\n    verifyKey: function (uid, key, rememberMe) {\n      clearAlerts([\n        SIGNIN_ALERTS.serverError,\n        SIGNIN_ALERTS.invalidKey\n      ]);\n\n      setRequestState(true);\n      var validFor = rememberMe ? 'one-year' : '';\n      loginApi.verifyKey(uid, key, validFor, function verifyKeyCallback(err, resp, body) {\n        setRequestState(false);\n        if (err) {\n          return displayAlert(SIGNIN_ALERTS.serverError);\n        }\n\n        if (!body.user) {\n          return displayAlert(SIGNIN_ALERTS.invalidKey);\n        }\n\n        analytics.event('Webmaker Login Succeeded', {\n          label: 'key'\n        });\n\n        emit(SIGNIN_EVENTS.signedIn, body.user);\n\n      });\n    },\n    verifyPassword: function (uid, password, rememberMe) {\n      setRequestState(true);\n      var validFor = rememberMe ? 'one-year' : '';\n      loginApi.verifyPassword(uid, password, validFor, function verifyPasswordCallback(err, resp, body) {\n        setRequestState(false);\n        if (err) {\n          return displayAlert(SIGNIN_ALERTS.serverError);\n        }\n\n        if (!body.user) {\n          return displayAlert(SIGNIN_ALERTS.passwordSigninFailed);\n        }\n\n        analytics.event('Webmaker Login Succeeded', {\n          label: 'password'\n        });\n\n        emit(SIGNIN_EVENTS.signedIn, body.user);\n      });\n    },\n    requestReset: function (uid) {\n      setRequestState(true);\n      loginApi.requestReset(uid, function requestResetCallback(err, resp, body) {\n        setRequestState(false);\n        if (err) {\n          return displayAlert(SIGNIN_ALERTS.serverError);\n        }\n\n        if (!body.status) {\n          return displayAlert(SIGNIN_ALERTS.resetRequestFailed);\n        }\n\n        analytics.event('Webmaker Password Reset Requested');\n\n        emit(SIGNIN_EVENTS.displayResetSent);\n      });\n    },\n    getUidType: function (uid) {\n      return validation.isEmail(uid) ? 'email' : validation.isUsername(uid) ? 'username' : null;\n    }\n  };\n};\n",
    "var usernameRegex = /^[a-zA-Z0-9\\-]{1,20}$/,\n  emailRegex = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/,\n  containsBothCases = /^.*(?=.*[a-z])(?=.*[A-Z]).*$/,\n  containsDigit = /\\d/;\n\nvar MIN_PASSWORD_LEN = 8;\n\nmodule.exports = {\n  isEmail: function (email) {\n    return emailRegex.test(email);\n  },\n  isUsername: function (username) {\n    return usernameRegex.test(username);\n  },\n  passwordsMatch: function (password, confirmation) {\n    return password === confirmation;\n  },\n  checkPasswordStrength: function (password) {\n    if (!password) {\n      return false;\n    }\n\n    var lengthValid = password.length >= MIN_PASSWORD_LEN,\n      caseValid = !! password.match(containsBothCases),\n      digitValid = !! password.match(containsDigit);\n\n    return {\n      lengthValid: lengthValid,\n      caseValid: caseValid,\n      digitValid: digitValid\n    };\n  }\n};\n",
    "var window = require(\"global/window\")\nvar once = require(\"once\")\nvar parseHeaders = require('parse-headers')\n\nvar messages = {\n    \"0\": \"Internal XMLHttpRequest Error\",\n    \"4\": \"4xx Client Error\",\n    \"5\": \"5xx Server Error\"\n}\n\nvar XHR = window.XMLHttpRequest || noop\nvar XDR = \"withCredentials\" in (new XHR()) ? XHR : window.XDomainRequest\n\nmodule.exports = createXHR\n\nfunction createXHR(options, callback) {\n    if (typeof options === \"string\") {\n        options = { uri: options }\n    }\n\n    options = options || {}\n    callback = once(callback)\n\n    var xhr = options.xhr || null\n\n    if (!xhr) {\n        if (options.cors || options.useXDR) {\n            xhr = new XDR()\n        }else{\n            xhr = new XHR()\n        }\n    }\n\n    var uri = xhr.url = options.uri || options.url\n    var method = xhr.method = options.method || \"GET\"\n    var body = options.body || options.data\n    var headers = xhr.headers = options.headers || {}\n    var sync = !!options.sync\n    var isJson = false\n    var key\n    var load = options.response ? loadResponse : loadXhr\n\n    if (\"json\" in options) {\n        isJson = true\n        headers[\"Accept\"] = \"application/json\"\n        if (method !== \"GET\" && method !== \"HEAD\") {\n            headers[\"Content-Type\"] = \"application/json\"\n            body = JSON.stringify(options.json)\n        }\n    }\n\n    xhr.onreadystatechange = readystatechange\n    xhr.onload = load\n    xhr.onerror = error\n    // IE9 must have onprogress be set to a unique function.\n    xhr.onprogress = function () {\n        // IE must die\n    }\n    // hate IE\n    xhr.ontimeout = noop\n    xhr.open(method, uri, !sync)\n                                    //backward compatibility\n    if (options.withCredentials || (options.cors && options.withCredentials !== false)) {\n        xhr.withCredentials = true\n    }\n\n    // Cannot set timeout with sync request\n    if (!sync) {\n        xhr.timeout = \"timeout\" in options ? options.timeout : 5000\n    }\n\n    if (xhr.setRequestHeader) {\n        for(key in headers){\n            if(headers.hasOwnProperty(key)){\n                xhr.setRequestHeader(key, headers[key])\n            }\n        }\n    } else if (options.headers) {\n        throw new Error(\"Headers cannot be set on an XDomainRequest object\")\n    }\n\n    if (\"responseType\" in options) {\n        xhr.responseType = options.responseType\n    }\n    \n    if (\"beforeSend\" in options && \n        typeof options.beforeSend === \"function\"\n    ) {\n        options.beforeSend(xhr)\n    }\n\n    xhr.send(body)\n\n    return xhr\n\n    function readystatechange() {\n        if (xhr.readyState === 4) {\n            load()\n        }\n    }\n\n    function getBody() {\n        // Chrome with requestType=blob throws errors arround when even testing access to responseText\n        var body = null\n\n        if (xhr.response) {\n            body = xhr.response\n        } else if (xhr.responseType === 'text' || !xhr.responseType) {\n            body = xhr.responseText || xhr.responseXML\n        }\n\n        if (isJson) {\n            try {\n                body = JSON.parse(body)\n            } catch (e) {}\n        }\n\n        return body\n    }\n\n    function getStatusCode() {\n        return xhr.status === 1223 ? 204 : xhr.status\n    }\n\n    // if we're getting a none-ok statusCode, build & return an error\n    function errorFromStatusCode(status) {\n        var error = null\n        if (status === 0 || (status >= 400 && status < 600)) {\n            var message = (typeof body === \"string\" ? body : false) ||\n                messages[String(status).charAt(0)]\n            error = new Error(message)\n            error.statusCode = status\n        }\n\n        return error\n    }\n\n    // will load the data & process the response in a special response object\n    function loadResponse() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n        var response = {\n            body: getBody(),\n            statusCode: status,\n            statusText: xhr.statusText,\n            raw: xhr\n        }\n        if(xhr.getAllResponseHeaders){ //remember xhr can in fact be XDR for CORS in IE\n            response.headers = parseHeaders(xhr.getAllResponseHeaders())\n        } else {\n            response.headers = {}\n        }\n\n        callback(error, response, response.body)\n    }\n\n    // will load the data and add some response properties to the source xhr\n    // and then respond with that\n    function loadXhr() {\n        var status = getStatusCode()\n        var error = errorFromStatusCode(status)\n\n        xhr.status = xhr.statusCode = status\n        xhr.body = getBody()\n        xhr.headers = parseHeaders(xhr.getAllResponseHeaders())\n\n        callback(error, xhr, xhr.body)\n    }\n\n    function error(evt) {\n        callback(evt, xhr)\n    }\n}\n\n\nfunction noop() {}\n",
    "(function (global){\nif (typeof window !== \"undefined\") {\n    module.exports = window;\n} else if (typeof global !== \"undefined\") {\n    module.exports = global;\n} else if (typeof self !== \"undefined\"){\n    module.exports = self;\n} else {\n    module.exports = {};\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "module.exports = once\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var called = false\n  return function () {\n    if (called) return\n    called = true\n    return fn.apply(this, arguments)\n  }\n}\n",
    "var isFunction = require('is-function')\n\nmodule.exports = forEach\n\nvar toString = Object.prototype.toString\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\nfunction forEach(list, iterator, context) {\n    if (!isFunction(iterator)) {\n        throw new TypeError('iterator must be a function')\n    }\n\n    if (arguments.length < 3) {\n        context = this\n    }\n    \n    if (toString.call(list) === '[object Array]')\n        forEachArray(list, iterator, context)\n    else if (typeof list === 'string')\n        forEachString(list, iterator, context)\n    else\n        forEachObject(list, iterator, context)\n}\n\nfunction forEachArray(array, iterator, context) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        if (hasOwnProperty.call(array, i)) {\n            iterator.call(context, array[i], i, array)\n        }\n    }\n}\n\nfunction forEachString(string, iterator, context) {\n    for (var i = 0, len = string.length; i < len; i++) {\n        // no such thing as a sparse string.\n        iterator.call(context, string.charAt(i), i, string)\n    }\n}\n\nfunction forEachObject(object, iterator, context) {\n    for (var k in object) {\n        if (hasOwnProperty.call(object, k)) {\n            iterator.call(context, object[k], k, object)\n        }\n    }\n}\n",
    "module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n",
    "\nexports = module.exports = trim;\n\nfunction trim(str){\n  return str.replace(/^\\s*|\\s*$/g, '');\n}\n\nexports.left = function(str){\n  return str.replace(/^\\s*/, '');\n};\n\nexports.right = function(str){\n  return str.replace(/\\s*$/, '');\n};\n",
    "var trim = require('trim')\n  , forEach = require('for-each')\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  forEach(\n      trim(headers).split('\\n')\n    , function (row) {\n        var index = row.indexOf(':')\n          , key = trim(row.slice(0, index)).toLowerCase()\n          , value = trim(row.slice(index + 1))\n\n        if (typeof(result[key]) === 'undefined') {\n          result[key] = value\n        } else if (isArray(result[key])) {\n          result[key].push(value)\n        } else {\n          result[key] = [ result[key], value ]\n        }\n      }\n  )\n\n  return result\n}",
    "module.exports = '<div class=\"header\">\\n    <button class=\"glyph back\" v-on=\"click: goBack\" class=\"back\">&lt;</button>\\n    <h1>{{ \\'Add a Brick\\' | i18n }}</h1>\\n    <div class=\"glyph spacer\"></div>\\n</div>\\n<div class=\"list-wrapper\">\\n    <ul>\\n        <li v-repeat=\"block: blocks\">\\n            <a data-block=\"{{block.type}}\" class=\"brick\" href=\"/make/{{app.type}}/edit\">\\n                <img src=\"{{block.icon}}\" alt=\"{{block.name}}\" />\\n                <p>{{ block.name | i18n }}</p>\\n            </a>\\n        </li>\\n    </ul>\\n    <ul>\\n        <li v-repeat=\"block: inputBlocks\">\\n            <a data-block=\"{{block.type}}\" class=\"brick\" href=\"/make/{{app.type}}/edit\">\\n                <img src=\"{{block.icon}}\" alt=\"{{block.name}}\" />\\n                <p>{{ block.name | i18n }}</p>\\n            </a>\\n        </li>\\n    </ul>\\n\\n</div>\\n';",
    "var view = require('../../lib/view');\nvar Blocks = require('../../lib/blocks');\nvar blocks = new Blocks();\n\nvar id = null;\nvar app = null;\n\nmodule.exports = view.extend({\n    id: 'add',\n    template: require('./index.html'),\n    data: {\n        // Provide a specific sort order\n        app: {},\n        blocks: [\n            blocks.text,\n            blocks.image,\n            blocks.sms,\n            blocks.phone\n        ],\n        inputBlocks: [\n            // Form / data blocks\n            blocks.input,\n            blocks.spinner,\n            blocks.submit\n        ],\n        goBack: function (e) {\n            e.preventDefault();\n            this.page(this.$data.back);\n        }\n    },\n    ready: function () {\n        var self = this;\n\n        // Fetch app\n        id = self.$root.$data.params.id;\n        app = self.$root.storage.getApp(id);\n\n        self.$data.back = '/make/' + id;\n\n        // Bind app\n        if (app.data) {\n            self.$root.isReady = true;\n            self.$data.app = app.data;\n        }\n        self.$on(id, function (val) {\n            self.$root.isReady = true;\n            self.$data.app = val;\n            self.title = val.name;\n        });\n        self.$data.onDone = '/make/' + id + '/share?publish=true';\n\n        // Click handler\n        function clickHandler (e) {\n            e.preventDefault();\n\n            // Attributes\n            var blockId = e.currentTarget.getAttribute('data-block');\n\n            // Add block to make\n            app.insert(blockId);\n\n            // Add to model & redirect to block edit page.\n            // Newly added block always in index 0.\n            self.page('/make/' + id + '/block/0');\n        }\n\n        // Apply click handler to each cell\n        var targets = self.$el.querySelectorAll('.brick');\n        for (var i = 0; i < targets.length; i++) {\n            targets[i].addEventListener('click', clickHandler);\n        }\n\n        // Apply click handler to parent element\n        self.$el.addEventListener('click', function (e) {\n            if (e.target.id === 'add-container') {\n                e.preventDefault();\n                self.page('/make/' + id);\n            }\n        });\n    }\n});\n",
    "module.exports = '<nav id=\"navigationBar\">\\n    <a href=\"{{back}}\" class=\"nav-btn\">{{ \\'Cancel\\' | i18n}}</a>\\n    <h1>{{title | i18n}}</h1>\\n    <button v-class=\"disabled: saveDisabled\" class=\"save-btn\" v-on=\"click: onSave\">\\n        <span class=\"fa fa-check\"></span> {{ \\'Save\\' | i18n}}\\n    </a>\\n</nav>\\n<main class=\"main-container\">\\n    <form>\\n        <div class=\"form-group\" v-repeat=\"block.attributes\" v-component=\"{{ getEditor(type) }}\"></div>\\n        <div class=\"btn-delete\">\\n          <button v-on=\"click: remove\">\\n            <span class=\"fa fa-trash\"></span>\\n            {{ \\'Delete\\' | i18n }}\\n          </button>\\n        </div>\\n    </form>\\n</main>\\n';",
    "var view = require('../../lib/view');\n\nvar editorModels = ({\"color\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/color/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/color/index.js\");return f;})(),\"data\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/data/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/data/index.js\");return f;})(),\"dropdownChoice\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/dropdownChoice/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/dropdownChoice/index.js\");return f;})(),\"font-size\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/font-size/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/font-size/index.js\");return f;})(),\"list\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/list/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/list/index.js\");return f;})(),\"number\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/number/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/number/index.js\");return f;})(),\"string\":(function () {var f = require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/string/index.js\");f[\"index\"]=require(\"/Users/k88hudson/github/webmaker-app/components/block-editors/string/index.js\");return f;})()});\nvar clone = require('clone');\nvar app = null;\nvar index = null;\nvar id = null;\n\n// Rename editor components\nfor (id in editorModels) {\n    if (editorModels.hasOwnProperty(id)) {\n        editorModels[id + '-editor'] = editorModels[id];\n        delete editorModels[id];\n    }\n}\n\nid = null;\n\nmodule.exports = view.extend({\n    id: 'block',\n    template: require('./index.html'),\n    components: editorModels,\n    data: {\n        title: 'Edit',\n        // always false now. feel free to try stuff here\n        saveDisabled: false\n    },\n    methods: {\n        remove: function (e) {\n            e.preventDefault();\n            app.remove(index);\n            this.page(this.$data.back);\n        },\n        getEditor: function (type) {\n            var editorKey = type + '-editor';\n            var defaultEditor = 'string-editor';\n            var legalComponents = this.$compiler.options.components;\n            if (legalComponents[editorKey]) {\n                return editorKey;\n            }\n            return defaultEditor;\n        },\n        onSave: function (e) {\n            e.preventDefault();\n            app.updateBlock(index, {\n                attributes: this.$data.block.attributes\n            });\n            this.page(this.$data.back);\n        }\n    },\n    created: function () {\n        var self = this;\n\n        id = self.$root.$data.params.id;\n        index = self.$root.$data.params.index;\n\n        // Navigation\n        self.$data.back = '/make/' + id;\n\n        // Fetch app\n        app = self.$root.storage.getApp(id);\n        if (app.data && app.data.blocks) {\n            self.$root.isReady = true;\n            self.$data.block = clone(app.data.blocks[index]);\n        } else {\n            self.$once(id, function (val) {\n               self.$root.isReady = true;\n               if (!val || !val.blocks) return;\n               self.$data.block = val.blocks[index];\n           });\n        }\n\n        self.$data.index = index;\n    }\n});\n",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n<div v-if=\"!app.id\" v-component=\"alert\" type=\"error\" message=\"errorAppNotFound\"></div>\\n<div v-if=\"app.id\">\\n    <header>\\n        <div class=\"app-icon\" style=\"background-color: {{app.iconColor}}\">\\n            <div class=\"app-icon-image\" style=\"background-image: url(\\'{{app.iconImage}}\\')\"></div>\\n        </div>\\n        <hgroup>\\n            <h3>{{app.name}}</h3>\\n            <p class=\"text-light\" v-bind-html=\"\\'by _\\'\" v-with=\"name: app.author.username\"></p>\\n        </hgroup>\\n    </header>\\n    <ul id=\"detail-share\" v-if=\"isTemplate\" style=\"background-color: {{app.iconColor}}\">\\n        <li><a href=\"\" class=\"disabled\">\\n            <span class=\"fa fa-2x fa-fw fa-eye\"></span><br>{{ \\'Preview\\' | i18n }}</a>\\n        </li>\\n        <li><a href=\"#\" v-on=\"click: create\">\\n            <span class=\"fa fa-2x fa-fw fa-edit\"></span><br>{{ \\'Create\\' | i18n }}</a>\\n        </li>\\n        <li><a href=\"\" class=\"disabled\">\\n            <span class=\"fa fa-2x fa-fw fa-list\"></span><br>{{ \\'Data\\' | i18n }}</a>\\n        </li>\\n    </ul>\\n    <ul id=\"detail-share\" v-if=\"!isTemplate\">\\n        <li><a href=\"/make/{{id}}/share\">\\n            <span class=\"fa fa-2x fa-fw fa-share\"></span><br>{{ \\'Share\\' | i18n }}</a>\\n        </li>\\n        <li><a href=\"/make/{{id}}?mode=play\">\\n            <span class=\"fa fa-2x fa-fw fa-eye\"></span><br>{{ \\'Open\\' | i18n }}</a>\\n        </li>\\n        <li><a href=\"/make/{{id}}?mode=data\">\\n            <span class=\"fa fa-2x fa-fw fa-list\"></span><br>{{ \\'Data\\' | i18n }}</a>\\n        </li>\\n    </ul>\\n    <p v-if=\"app.url\" class=\"text-center\">\\n        <a target=\"_blank\" href=\"{{app.url}}\">View published app</a>\\n    </p>\\n    <div class=\"preview\">\\n        <p v-if=\"app.description\" class=\"description\">{{app.description | i18n}}</p>\\n    </div>\\n</div>\\n\\n<div v-component=\"tabBar\"></div>\\n';",
    "var view = require('../../lib/view');\nvar templates = require('../../lib/templates');\nvar clone = require('clone');\n\nmodule.exports = view.extend({\n    id: 'detail',\n    template: require('./index.html'),\n    data: {\n        back: true,\n        title: 'App'\n    },\n    methods: {\n        create: function () {\n            var self = this;\n            var options = {};\n            if (self.$data.isTemplate) {\n                options.template = self.$root.params.id;\n            } else {\n                options.data = self.$data.app;\n            }\n            var app = self.$root.storage.createApp(options);\n\n            self.$data.create = false;\n            self.$root.$data.enteredEditorFrom = '/templates';\n            self.$root.isReady = false;\n            setTimeout(function () {\n                self.$root.isReady = true;\n                self.page('/make/' + app.id);\n            }, 100);\n\n        }\n    },\n    created: function () {\n        var self = this;\n        var id = self.$root.params.id;\n\n        self.$data.id = id;\n        self.$data.isTemplate = self.$root.params.template;\n        // Fetch app\n        if (self.$data.isTemplate) {\n            templates.forEach(function (template) {\n                var data;\n                if (template.id === id) {\n                    data = clone(template);\n                    data.id = id;\n                    self.$data.app = data;\n                }\n                self.$root.isReady = true;\n            });\n        } else {\n            var app = self.$root.storage.getApp(id);\n            if (app.data) {\n                self.$root.isReady = true;\n                self.$data.app = app.data;\n            }\n            self.$on(id, function (val) {\n                self.$root.isReady = true;\n                self.$data.app = val;\n            });\n        }\n\n    }\n});\n",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n\\n<div style=\"padding: 10px\">\\n    <div v-component=\"switch\" v-with=\"options: [\\'Featured\\',\\'Newest\\']\"></div>\\n</div>\\n\\n<ul class=\"list-cell\" v-show=\"mode === \\'Featured\\'\">\\n    <li v-component=\"appCell\" v-repeat=\"apps.featured\" mode=\"detail\" template=\"true\"></li>\\n</ul>\\n\\n<ul class=\"list-cell\" v-show=\"mode === \\'Newest\\'\">\\n    <li v-component=\"appCell\" v-repeat=\"apps.newest\" mode=\"detail\" template=\"true\"></li>\\n</ul>\\n\\n<div v-component=\"tabBar\"></div>\\n';",
    "var view = require('../../lib/view');\n\nvar maxAppsToShow = 10;\n\nmodule.exports = view.extend({\n    id: 'discover',\n    template: require('./index.html'),\n    ready: function () {\n        this.$on('switchValueChanged', function (event) {\n            if (event === 'Newest') {\n                this.showNewest();\n            } else if (event === 'Featured') {\n                this.showFeatured();\n            }\n        });\n\n        this.showFeatured();\n    },\n    methods: {\n        showNewest: function () {\n            var self = this;\n\n            self.mode = 'Newest';\n\n            self.$root.storage._firebase\n                .limitToLast(maxAppsToShow)\n                .on('value', function (snapshot) {\n                    self.apps.newest = snapshot.val();\n                });\n        },\n        showFeatured: function () {\n            var self = this;\n\n            self.mode = 'Featured';\n\n            self.$root.storage._firebase\n                .orderByChild('isFeatured')\n                .equalTo(true)\n                .limitToLast(maxAppsToShow)\n                .on('value', function (snapshot) {\n                    self.apps.featured = snapshot.val();\n                });\n        }\n    },\n    data: {\n        title: 'Discover',\n        apps: {\n            featured: [],\n            newest: []\n        }\n    }\n});\n",
    "module.exports = '<div v-component=\"alert\" type=\"error\" message=\"{{message}}\"></div>\\n<div v-component=\"tabBar\"></div>\\n';",
    "(function (global){\nvar view = require('../../lib/view');\n\nmodule.exports = view.extend({\n    id: 'error',\n    template: require('./index.html'),\n    computed: {\n        message: function () {\n            var code = +this.$root.params.code;\n            var message;\n            switch (code) {\n                case 404:\n                    message = 'error404';\n                    break;\n                default:\n                    message = 'defaultError';\n            }\n            return message;\n        }\n    },\n    created: function () {\n        this.$root.isReady = true;\n        console.error('Error ' +\n            this.$root.params.code +\n            ': ' +\n            global.location.pathname);\n    }\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n\\n<dl>\\n    <dt>Version</dt>\\n    <dd>{{package.version}}</dd>\\n</dl>\\n<dl v-repeat=\"config\">\\n    <dt>{{$key}}</dt>\\n    <dd>{{$value}}</dd>\\n</dl>\\n\\n';",
    "var view = require('../../lib/view');\nvar clone = require('clone');\nvar _config = require('../../config');\nvar config = clone(_config);\nvar packageJSON = clone(config.package);\ndelete config.package;\n\nmodule.exports = view.extend({\n    id: 'healthcheck',\n    template: require('./index.html'),\n    data: {\n        title: 'Developer Health Check',\n        back: '/profile',\n        config: config,\n        package: packageJSON\n    }\n});\n",
    "module.exports = '<div v-show=\"!app.id\" v-component=\"alert\" type=\"error\" message=\"errorAppNotFound\"></div>\\n<div v-show=\"app.id\">\\n\\n    <div id=\"navigationBar\">{{ >navigation }}</div>\\n\\n    <main v-class=\"edit-container: mode === \\'edit\\', settings-container: mode === \\'settings\\'\">\\n        <div v-show=\"mode === \\'settings\\'\">{{ >settings }}</div>\\n\\n        <div v-show=\"[\\'play\\', \\'edit\\'].indexOf(mode) > -1\">\\n            <a class=\"add\"\\n                href=\"/make/{{app.id}}/add\"\\n                v-class=\"off: mode === \\'play\\'\">\\n                <span class=\"fa fa-plus\"></span>\\n            </a>\\n            <ul id=\"blocks\">\\n                <li v-repeat=\"app.blocks\"\\n                    v-component=\"{{type}}\"\\n                    index=\"{{$index}}\"\\n                    v-on=\"click: goTo(\\'/make/\\' + app.id + \\'/block/\\' + $index, $event)\"\\n                    v-class=\"editable: mode === \\'edit\\'\">\\n                </li>\\n            </ul>\\n            <div class=\"btn-delete\">\\n                <button v-on=\"click: removeApp\">\\n                    <span class=\"fa fa-trash\"></span>\\n                    {{ \\'Delete\\' | i18n }}\\n                </button>\\n            </div>\\n        </div>\\n\\n        <div v-show=\"mode === \\'data\\'\"\\n            v-component=\"dataRepresentation\"\\n            v-with=\"dataSet : currentDataSets, initialDataLoaded : initialDataLoaded\">\\n        </div>\\n    </main>\\n\\n    <div v-if=\"mode !== \\'settings\\'\" v-component=\"makeBar\" v-with=\"uiMode: mode === \\'settings\\' ? \\'edit\\' : mode, onChange: changeMode\"></div>\\n\\n</div>\\n';",
    "var view = require('../../lib/view');\nvar Data = require('../../lib/data');\nvar utils = require('../../lib/utils');\nvar throttle = require('lodash.throttle');\nvar Sortable = require('sortable');\n\nvar sort;\nvar app;\nvar iconColors = utils.baseColors;\n\nvar iconImages = [\n    'activist.png',\n    'blogger.png',\n    'howto.png',\n    'journalist.png',\n    'puppy.png',\n    'safety.png',\n    'scientist.png',\n    'music.png',\n    'teacher.png',\n    'vendor.png',\n    'family.png'\n].map(function (icon) {\n    return 'images/' + icon;\n});\n\nmodule.exports = view.extend({\n    id: 'make',\n    template: require('./index.html'),\n    partials: {\n        navigation: require('./navigation.html'),\n        settings: require('./settings.html')\n    },\n    methods: {\n        goBack: function (e) {\n            e.preventDefault();\n            if (this.$data.mode === 'settings') {\n                this.$data.changeMode('edit');\n            } else {\n                this.page('/profile');\n            }\n        },\n        updateName: throttle(function (newVal) {\n            app.update({\n                name: newVal\n            });\n        }, 3000),\n        previousIconImage: function () {\n            this.selectIconImage('previous');\n        },\n        nextIconImage: function () {\n            this.selectIconImage('next');\n        },\n        selectIconImage: function (direction) {\n\n            var data = this.$data;\n            var index = data.iconImages.indexOf(data.app.iconImage) || 0;\n            var maxIndex = data.iconImages.length - 1;\n\n            direction === 'next' ? index++ : index--;\n            if (index < 0) {\n                index = maxIndex;\n            }\n            if (index > maxIndex) {\n                index = 0;\n            }\n            app.update({\n                iconImage: data.iconImages[index]\n            });\n\n            this.$data.currentIconIndex = index;\n        },\n        onSelectIconColor: function (color) {\n            app.update({\n                iconColor: color\n            });\n        },\n        removeApp: function () {\n            app.removeApp();\n            this.page('/profile');\n        }\n    },\n    created: function () {\n        var self = this;\n        var id = self.$root.$data.params.id;\n        var storage = self.$root.storage;\n        var isDragging = false;\n\n        app = storage.getApp(id);\n\n        self.$data.iconColors = iconColors;\n        self.$data.iconImages = iconImages;\n\n        var list = self.$el.querySelector('#blocks');\n\n        self.$data.onDone = '/make/' + id + '/share?publish=true';\n        self.$data.offlineUser = this.model.data.session.offline;\n\n        function getIndex(nodeList, el) {\n            for (var i = 0; i < nodeList.length; i++) {\n                if (nodeList[i] === el) {\n                    return i;\n                }\n            }\n        }\n\n        function onValue(val) {\n            console.log('onValue');\n\n            self.$root.isReady = true;\n\n            if (isDragging) return;\n\n            if (!val) return;\n            self.$data.app = val;\n\n            var blocks = val.blocks;\n\n            try {\n                if (sort) sort.destroy();\n            } catch (e) {\n                console.log('sort error', e);\n            }\n\n            sort = new Sortable(list, {\n                handle: '.draggable-handle',\n                scroll: self.$root.$el,\n                onStart: function () {\n                    isDragging = true;\n                },\n                onEnd: function (e) {\n                    isDragging = false;\n\n                    var el = e.target;\n                    var lis = list.querySelectorAll('li');\n                    var start = el.getAttribute('index');\n                    var end = getIndex(lis, el);\n\n                    isDragging = false;\n\n                    blocks.splice(end, 0, blocks.splice(start, 1)[0]);\n                    // update\n                    app.update({\n                        blocks: blocks\n                    });\n                }\n            });\n        }\n\n        if (app.data) {\n            onValue(app.data);\n        }\n\n        self.$on(id, onValue);\n\n        // Mode\n        self.$data.changeMode = function (mode) {\n            var modes = ['edit', 'play', 'data', 'settings'];\n            if (modes.indexOf(mode) === -1) {\n                console.log('warning: ' + mode + ' is not a valid mode');\n                mode = 'edit';\n            }\n            if (mode === 'settings' && self.$data.mode === 'settings') {\n                mode = 'edit';\n            }\n            self.$data.mode = mode;\n            self.$root.isEditing = self.$data.mode === 'edit';\n        };\n\n        var regex = new RegExp('[\\\\?&]mode=([^&#]*)');\n        var results = regex.exec(window.location.search);\n\n        var mode = results ? results[1] : 'edit';\n        self.$data.changeMode(mode);\n\n        self.$data.goTo = function (href, $event) {\n            if (self.$data.mode !== 'edit') return;\n            self.page(href);\n        };\n\n        // Fetch collected Data\n        var data = new Data(id);\n\n        self.currentDataSets = [];\n        data.getAllDataSets(function (currentDataSets) {\n            self.$data.initialDataLoaded = true;\n            self.currentDataSets = currentDataSets;\n        });\n\n        self.$on('dataChange', function (index, value, label) {\n            data.collect(index, value, label);\n        });\n\n        self.$on('dataSave', function () {\n            if (data.getCurrentCollectedCount() > 0) {\n                data.save();\n                self.$broadcast('dataSaveSuccess');\n            }\n        });\n\n        // listen for deletion requests\n        self.$on('dataDelete', function (firebaseId) {\n            data.delete(firebaseId);\n        });\n    }\n});\n",
    "module.exports = '<a class=\"nav-btn\" v-on=\"click: goBack\">{{ \\'Done\\' | i18n}}</a>\\n\\n<h1>\\n    <span v-if=\"mode === \\'settings\\'\">{{ \\'App Name & Icon\\' | i18n}}</span>\\n    <a class=\"edit-app-name\" v-if=\"mode === \\'edit\\'\" v-on=\"click: changeMode(\\'settings\\')\" v-if=\"mode !== \\'settings\\'\">\\n      {{app.name}}\\n      <span class=\"fa fa-pencil\"></span>\\n    </a>\\n    <span v-if=\"mode === \\'play\\'\">\\n      {{app.name}}\\n    </span>\\n</h1>\\n\\n<a v-if=\"mode !== \\'settings\\' && !offlineUser\" class=\"nav-btn\" href=\"{{onDone}}\">\\n    {{ \\'Publish\\' | i18n}}\\n</a>\\n';",
    "module.exports = '<div class=\"form-group\">\\n    <label for=\"name\">App Name</label>\\n    <input id=\"name\" type=\"text\" v-model=\"app.name\" v-on=\"keyup: updateName(app.name)\">\\n</div>\\n\\n\\n<div class=\"icon-chooser\">\\n    <div class=\"button\" v-on=\"click: previousIconImage()\">\\n        <span class=\"fa fa-chevron-left\"></span>\\n    </div>\\n    <div class=\"icon-container\">\\n        <div style=\"background: {{app.iconColor}}\"class=\"app-icon\">\\n          <div class=\"icon-image\" style=\"background-image:url(\\'{{app.iconImage}}\\')\"></div>\\n        </div>\\n    </div>\\n    <div class=\"button\" v-on=\"click: nextIconImage()\">\\n        <span class=\"fa fa-chevron-right\"></span>\\n    </div>\\n</div>\\n\\n<ul class=\"swatches\">\\n    <li v-repeat=\"color: iconColors\" style=\"background-color:{{color}};\"\\n        v-class=\"selected: selectedColor === color\"\\n    v-on=\"click: onSelectIconColor(color)\"></li>\\n</ul>\\n\\n<div class=\"form-group\" v-if=\"app.url\">\\n    <label for=\"url\">URL</label>\\n    <p id=\"url\" class=\"url\">{{app.url}}</p>\\n</div>\\n';",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n\\n<!-- <div id=\"profile-header\">\\n  <div class=\"profile-avatar\" style=\"background-image: url({{user.avatar}});\"></div>\\n  <div class=\"profile-info\" v-class=\"profile-info-padded: user.username\" >{{ user.username }}</div>\\n</div> -->\\n\\n<div class=\"profile-details\">\\n\\n   <!--  <form class=\"profile-inputs\">\\n        <div v-if=\"!editing\" v-bind-html=\"\\'name from location\\'\"></div>\\n        <div v-if=\"editing\" style=\"height: 100%;\">\\n            <input name=\"name\" placeholder=\"{{ \\'Your name\\' | i18n }}\" type=\"text\" v-model=\"name\">\\n            <input name=\"location\" placeholder=\"{{ \\'Your location\\' | i18n }}\" type=\"text\" v-model=\"location\">\\n            <button type=\"button\" v-on=\"click: save()\">Save</button><button v-on=\"click: cancel()\" type=\"button\">Cancel</button>\\n        </div>\\n    </form>\\n    <i v-if=\"!editing\" class=\"fa fa-pencil fa-2x edit-icon\" v-on=\"click: editing = true\"></i> -->\\n\\n  <ul class=\"list-cell\">\\n      <lh>{{ \"My Apps\" | i18n }}</lh>\\n      <li v-component=\"appCell\" v-repeat=\"myApps\"></li>\\n  </ul>\\n  <div class=\"no-apps\" v-show=\"myApps.length == 0\">\\n    <p>{{ \"No Apps Message\" | i18n }}</p>\\n    <a href=\"/templates\" class=\"btn btn-block btn-dark\">{{ \"Make an App\" | i18n }}</a>\\n  </div>\\n\\n  <ul class=\"menu\">\\n <!--    <li v-show=\"user.username\" class=\"form-group\">\\n      <a href=\"http://login-dev.mofodev.net/account\">{{ \"Edit my Profile\" | i18n }} ({{user.username}})</a>\\n    </li> -->\\n    <li v-show=\"!user.username\" class=\"form-group\">\\n      <a href=\"/sign-in\">{{ \"Sign In\" | i18n }}</a>\\n    </li>\\n    <li class=\"form-group\">\\n      <a href=\"#\" v-on=\"click: clean\">{{ \"Delete my Apps\" | i18n }}</a>\\n    </li>\\n    <li class=\"form-group\">\\n      <a href=\"/healthcheck\">Developer</a>\\n    </li>\\n    <li v-show=\"user.username\" class=\"form-group\">\\n      <a href=\"#\" v-on=\"click: logout\">{{ \"Sign Out\" | i18n }}</a>\\n    </li>\\n  </ul>\\n\\n</div>\\n\\n<div v-component=\"tabBar\"></div>\\n';",
    "var view = require('../../lib/view');\n\nmodule.exports = view.extend({\n    id: 'profile',\n    template: require('./index.html'),\n    data: {\n        title: 'My Profile',\n        myApps: []\n    },\n    computed: {\n        user: function () {\n            return this.model.data.session.user;\n        }\n    },\n    methods: {\n        logout: function (e) {\n            e.preventDefault();\n            this.model.auth.logout();\n        },\n        clean: function (e) {\n            var self = this;\n            self.$data.myApps.forEach(function (app) {\n                self.$root.storage.getApp(app.id).removeApp();\n            });\n            self.$data.myApps = [];\n        }\n    },\n    ready: function () {\n        var self = this;\n        var storage = self.$root.storage;\n        // ------------------\n\n        self.$data.myApps = storage.getApps();\n        self.$root.isReady = true;\n\n        function onAdded(val) {\n            self.$data.myApps.push(val);\n        }\n\n        function onChanged(val) {\n            console.log(val);\n            self.$data.myApps.forEach(function (app, i) {\n                if (app.id === val.id) {\n                    self.$data.myApps.splice(i, 1);\n                    self.$data.myApps.unshift(val);\n                }\n            });\n        }\n\n        function onRemoved(id) {\n            var index = false;\n            self.$data.myApps.forEach(function (app, i) {\n                if (app.id === id) index = i;\n            });\n            if (index !== false) self.$data.myApps.splice(index, 1);\n        }\n\n\n        self.$on('query_changed', function () {\n            self.$data.myApps = storage.getApps();\n        });\n\n        self.$on('app_added', onAdded);\n        self.$on('app_removed', onRemoved);\n        self.$on('app_changed', onChanged);\n    }\n});\n",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n\\n<main class=\"main-container\">\\n    <form>\\n        <div v-show=\"error\" v-component=\"alert\" type=\"error\" message=\"{{error}}\"></div>\\n        <div v-show=\"!error\">\\n            <div v-show=\"user.username\" class=\"form-group\">\\n                <textarea name=\"share-message\" v-model=\"shareMessage\" class=\"textarea-large\"></textarea>\\n            </div>\\n        </div>\\n    </form>\\n</main>\\n<ul class=\"list-cell\">\\n    <lh class=\"with-border-top\">Share Via</lh>\\n    <li>\\n        <div class=\"cell\">\\n            <div class=\"left\">\\n                <span class=\"title\">SMS</span>\\n            </div>\\n            <div class=\"right no-padding\">\\n                <button class=\"btn btn-cell text-small\" v-on=\"click: onSMSClick\">\\n                    Add contacts\\n                </button>\\n            </button>\\n        </div>\\n    </li>\\n    <li>\\n        <div class=\"cell\">\\n            <div class=\"left\">\\n                <span class=\"title\">Webmaker</span>\\n                <span class=\"text-small\">Show in Discover Gallery</span>\\n            </div>\\n            <div class=\"right\">\\n                <div v-component=\"toggle\" v-with=\"checked: isDiscoverable, disabled: disableDiscovery\"></div>\\n            </div>\\n        </div>\\n    </li>\\n</ul>\\n\\n<div v-component=\"tabBar\"></div>\\n\\n<div v-class=\"active: showAndroid\" v-component=\"contactPicker\" v-with=\"show: showAndroid, contacts: contacts, modeledContacts: modeledContacts\"></div>\\n';",
    "(function (global){\nvar view = require('../../lib/view');\nvar i18n = require('../../lib/i18n');\nvar publish = require('../../lib/publish');\nvar page = require('page');\nvar app;\n\nvar PUBLISH_TIMEOUT = 20000;\n\nmodule.exports = view.extend({\n    id: 'share',\n    template: require('./index.html'),\n    data: {\n        title: 'Share',\n        error: false,\n        doneDisabled: true,\n        showAndroid: false,\n        cancel: true,\n        contacts: [],\n        modeledContacts: {},\n        isDiscoverable: false,\n        disableDiscovery: true\n    },\n    methods: {\n        login: function (e) {\n            e.preventDefault();\n            this.model.auth.login();\n        },\n        onDone: function () {\n            var self = this;\n            if (!self.$data.app.url) return;\n            var sms = 'sms:?body=' +\n                encodeURIComponent(self.$data.shareMessage);\n            page('/make/' + self.$parent.$data.params.id + '/detail');\n\n            app.update({\n                isDiscoverable: self.isDiscoverable\n            });\n\n            window.location = sms;\n        },\n        onSMSClick: function (e) {\n            e.preventDefault();\n            this.$broadcast('openContactPicker');\n        }\n    },\n    created: function () {\n        this.$root.isReady = false;\n    },\n    ready: function () {\n        var self = this;\n        var id = self.$root.$data.params.id;\n\n        app = self.$root.storage.getApp(id);\n\n        self.$data.cancel = '/make/' + id;\n\n        // Bind user\n        self.$data.user = self.model.data.session.user;\n\n        // Enable discovery for non-guests (users w. email)\n        if (self.$data.user.email) {\n            self.disableDiscovery = false;\n            self.isDiscoverable = app.data.isDiscoverable || false;\n        }\n\n        var message;\n\n        var offlineError = 'We couldn\\'t reach the publishing server. Sorry!';\n\n        function startPublish() {\n            var publishUrl = global.location.search.match('publish=true');\n            if (!publishUrl && self.$data.app.url) {\n                self.$root.isReady = true;\n                return;\n            }\n\n            // Publish\n            console.log('Starting publish...');\n            self.$data.doneDisabled = true;\n\n            var syncTimeout = global.setTimeout(function () {\n                console.log('timed out');\n                self.$root.isReady = true;\n                self.$data.error = 'Oops! Your publish is taking too long';\n            }, PUBLISH_TIMEOUT);\n\n            publish(id, self.$data.user, function (err, data) {\n                global.clearTimeout(syncTimeout);\n                self.$root.isReady = true;\n                if (err) {\n                    console.error(err);\n                    if (err.status === 0) {\n                        self.$data.error = offlineError;\n                    } else {\n                        self.$data.error = (err.status || 'Error') +\n                            ': ' + err.message;\n                    }\n                    return;\n                }\n                console.log('Published!');\n                self.$data.error = false;\n                self.$data.doneDisabled = false;\n                app.update({\n                    url: data.url\n                });\n                self.$data.shareMessage = message + ': ' + data.url;\n            });\n        }\n\n        function onValue(val) {\n            self.$data.app = val;\n            // Share message\n            message = i18n\n                .get('share_message')\n                .replace('{{app.name}}', val.name);\n\n            if (val.url) {\n                self.$data.shareMessage = message + ': ' + val.url;\n            }\n            startPublish();\n        }\n\n        // Bind app\n        if (app.data) {\n            onValue(app.data);\n        } else {\n            self.$once(id, onValue);\n        }\n    }\n});\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "module.exports = '<div class=\"top\">\t\t\\n\t<h1><span>{{ \\'Make &amp; share the web\\' | i18n }}</span></h1>\\n\\n</div>\\n\\n<div class=\"bottom\">\\n    <p v-if=\"loginError\">\\n        <div v-if=\"loginError\" v-component=\"alert\" type=\"error\" message=\"{{loginError}}\" no-margin></div>\\n    </p>\\n    <div v-if=\"!offline\" >\\n        <a v-if=\"username\" href=\"/profile\" class=\"btn-next\">{{ \\'Get Started\\' | i18n }}</a>\\n        <button v-if=\"!username\" class=\"btn-next\" v-on=\"click: create\">{{ \\'Join Webmaker\\' | i18n }}</button>\\n        <button v-if=\"!username\" class=\"btn-next\" v-on=\"click: login\">{{ \\'Sign In\\' | i18n }}</button>\\n        <a href=\"#\" class=\"btn-next btn-guest\" v-on=\"click: goOffline\">{{ \\'Try as Guest\\' | i18n }}</a>\\n        <p>\\n            {{ \\'Guest Explanation\\' | i18n }}\\n        </p>\\n\t\t\\n    </div>\\n    <div v-if=\"offline\" >\\n        <a href=\"#\" class=\"btn-next\" v-on=\"click: goOffline\">{{ \\'Try in Offline Mode\\' | i18n }}</a>\\n        <p>\\n            {{ \\'Offline Mode Explanation\\' | i18n }}\\n        </p>\\n    </div>\\n</div>\\n\\n';",
    "var view = require('../../lib/view');\n\nmodule.exports = view.extend({\n    id: 'sign-in',\n    template: require('./index.html'),\n    data: {\n        loginError: false\n    },\n    computed: {\n        username: function () {\n            return this.model.data.session.user.username;\n        },\n        offline: function () {\n            // Todo: detect internet connection\n            return false;\n        }\n    },\n    methods: {\n        login: function (e) {\n            e.preventDefault();\n            this.model.auth.login();\n        },\n        create: function (e) {\n            e.preventDefault();\n            this.model.auth.create();\n        },\n        goOffline: function (e) {\n            e.preventDefault();\n            this.model.offlineConnect();\n            this.page('/templates');\n        }\n    },\n    created: function () {\n        var self = this;\n        self.model.auth.on('error', function (err) {\n            console.log('Login error', err);\n            self.$data.loginError = 'Oops, there was a problem logging in.';\n        });\n    }\n});\n",
    "module.exports = '<div v-component=\"navigationBar\"></div>\\n<ul class=\"list-cell template-cell\">\\n    <li v-repeat=\"templates\" style=\"background-color: {{iconColor}}\">\\n        <a href=\"/template/{{id}}/detail\" class=\"cell\" template=\"true\">\\n            <div class=\"left\">\\n                <div class=\"app-icon\">\\n                  <div class=\"app-icon-image\" style=\"background-image:url({{iconImage}});\"></div>\\n                </div>\\n            </div>\\n            <div class=\"middle\">\\n                <span class=\"title\">{{(templateTitle || name) | i18n}}</span>\\n            </div>\\n            <div class=\"right\">\\n                <span class=\"fa fa-chevron-right\"></span>\\n            </div>\\n        </a>\\n    </li>\\n</ul>\\n\\n<div v-component=\"tabBar\"></div>\\n';",
    "var templates = require('../../lib/templates.json');\nvar view = require('../../lib/view');\n\nmodule.exports = view.extend({\n    id: 'templates',\n    template: require('./index.html'),\n    data: {\n        title: 'Make Your Own App',\n        templates: templates\n    },\n    methods: {\n        onClick: function (e) {\n            var self = this;\n            var storage = self.$root.storage;\n            var id = e.currentTarget.getAttribute('data-id');\n            if (id === 'blank') {\n                e.preventDefault();\n                var app = storage.createApp({template: id});\n                self.$root.$data.enteredEditorFrom = '/templates';\n                self.$root.isReady = false;\n                setTimeout(function () {\n                    self.$root.isReady = true;\n                    self.page('/make/' + app.id);\n                }, 1000);\n            }\n        }\n    }\n});\n"
  ]
}